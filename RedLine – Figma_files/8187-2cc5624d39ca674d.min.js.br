"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d70b9e60-fbaa-50bd-a78d-c1e40f025e8a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8187],{215874:(e,r,t)=>{t.d(r,{J:()=>s});var a=t(848318),n=t(716544),o=t(20701),c=t(442313);function s({index:e}){let r=(0,n.d4)(e=>!!e.payment.promo);return a.createElement("div",{className:"team_creation_breadcrumbs--stepBreadcrumbs--tP08U step_breadcrumb--stepBreadcrumbs--E4Woe"},a.createElement(o.On,{selected:1===e,number:1,text:(0,c.t)("team_creation.name_your_team")}),a.createElement(o.On,{selected:2===e,number:2,text:(0,c.t)("team_creation.add_team_members")}),!r&&a.createElement(o.On,{selected:3===e,number:3,text:(0,c.t)("team_creation.finish_setup")}))}},903579:(e,r,t)=>{t.d(r,{wn:()=>M,Ix:()=>P,dl:()=>G,Op:()=>x});var a=t(848318),n=t(992277),o=t(224223),c=t(210709),s=t(379338),i=t(502255),l=t(757033),d=t(442313),_=t(719398),E=t(515673);function u({defaultCountry:e,initialAddress:r}={}){let[t,n]=(0,a.useState)({...(0,E.EB)(e),...r??{}}),o=async()=>{try{await l.Ay.post("/api/validate_address",{address:t})}catch(e){return(0,_.J)(e)||e.message}return null};return{address:t,updateAddress:e=>{n(r=>({...r,...e}))},trimAddress:()=>{let e;for(e in t)t[e]=t[e].trim()},validateAddress:o}}var m=t(695453),p=t(511231),I=t(832367);let T={API_CONNECTION_ERROR:"api_connection_error",API_ERROR:"api_error",AUTHENTICATION_ERROR:"authentication_error",CARD_ERROR:"card_error",INVALID_REQUEST_ERROR:"invalid_request_error",RATE_LIMIT_ERROR:"rate_limit_error",VALIDATION_ERROR:"validation_error"},y=Object.values(T);function g(e){return!!e&&"object"==typeof e&&y.includes(e.type)}function f(e){return g(e)&&e.type===T.CARD_ERROR}function R(e){return g(e)&&e.type===T.VALIDATION_ERROR}function S(e){return g(e)&&"setup_intent_authentication_failure"===e.code}var D=(e=>(e.NETSUITE_ITEM_ID_ORG_DESIGN_DEPRECATED="2011",e.NETSUITE_ITEM_ID_ORG_FIGJAM_DEPRECATED="2635",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_DEPRECATED="2636",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_DEPRECATED="2637",e.NETSUITE_ITEM_ID_ORG_DESIGN_JPY_DEPRECATED="3092",e.NETSUITE_ITEM_ID_ORG_FIGJAM_JPY_DEPRECATED="3082",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_JPY_DEPRECATED="3071",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_JPY_DEPRECATED="3075",e.NETSUITE_ITEM_ID_ORG_DESIGN_EUR_DEPRECATED="3090",e.NETSUITE_ITEM_ID_ORG_FIGJAM_EUR_DEPRECATED="3084",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_EUR_DEPRECATED="3073",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_EUR_DEPRECATED="3077",e.NETSUITE_ITEM_ID_ORG_DESIGN_GBP_DEPRECATED="3091",e.NETSUITE_ITEM_ID_ORG_FIGJAM_GBP_DEPRECATED="3083",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_GBP_DEPRECATED="3072",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_GBP_DEPRECATED="3076",e.NETSUITE_ITEM_ID_ORG_DESIGN_CAD_DEPRECATED="3089",e.NETSUITE_ITEM_ID_ORG_FIGJAM_CAD_DEPRECATED="3085",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_CAD_DEPRECATED="3074",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_CAD_DEPRECATED="3078",e.NETSUITE_ITEM_ID_ORG_DESIGN="190686",e.NETSUITE_ITEM_ID_ORG_FIGJAM="190681",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN="190657",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM="190669",e.NETSUITE_ITEM_ID_ORG_DESIGN_JPY="190685",e.NETSUITE_ITEM_ID_ORG_FIGJAM_JPY="190680",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_JPY="190656",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_JPY="190668",e.NETSUITE_ITEM_ID_ORG_DESIGN_EUR="190683",e.NETSUITE_ITEM_ID_ORG_FIGJAM_EUR="190678",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_EUR="190654",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_EUR="190665",e.NETSUITE_ITEM_ID_ORG_DESIGN_GBP="190684",e.NETSUITE_ITEM_ID_ORG_FIGJAM_GBP="190679",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_GBP="190655",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_GBP="190667",e.NETSUITE_ITEM_ID_ORG_DESIGN_CAD="190682",e.NETSUITE_ITEM_ID_ORG_FIGJAM_CAD="190677",e.NETSUITE_ITEM_ID_ENTERPRISE_DESIGN_CAD="190653",e.NETSUITE_ITEM_ID_ENTERPRISE_FIGJAM_CAD="190665",e))(D||{}),h=t(280743),N=t(142899),b=t(53818),C=t(744149),A=t(613896);function v(e,r,t){let a=t[e];return a&&!a.match(/rgba|color/)?a:("dark"===r?{colorBg:"#2c2c2c",colorBgSelected:"#4a5878",colorBorder:"#444",colorBorderBrand:"#105cad",colorBorderDanger:"#963323",colorBorderSelected:"#0c8ce9",colorIcon:"#fff",colorIconDanger:"#f24822",colorIconSecondary:"rgba(255, 255, 255, 0.7)",colorText:"#fff",colorTextBrand:"#7cc4f8",colorTextDanger:"#fca397",colorTextDisabled:"rgba(255, 255, 255, 0.4)",colorTextSecondary:"rgba(255, 255, 255, 0.7)"}:{colorBg:"#fff",colorBgSelected:"#e5f4ff",colorBorder:"#e6e6e6",colorBorderBrand:"#bde3ff",colorBorderDanger:"#ffc7c2",colorBorderSelected:"#0d99ff",colorIcon:"#191919",colorIconDanger:"#e03e1a",colorIconSecondary:"rgba(0, 0, 0, 0.5)",colorText:"rgba(0, 0, 0, 0.9)",colorTextBrand:"#007be5",colorTextDanger:"#dc3412",colorTextDisabled:"rgba(0, 0, 0, .3)",colorTextSecondary:"rgba(0, 0, 0, .5)"})[e]}let P="stripe-payment-element",x=(0,b.D)(e=>{let{address:r,updateAddress:t,trimAddress:l,validateAddress:T}=u({defaultCountry:e.defaultCountry,initialAddress:e.initialBillingAddress}),{address:y,updateAddress:D,trimAddress:b}=u({defaultCountry:e.defaultCountry,initialAddress:e.initialShippingAddress}),[x,M]=(0,a.useState)(null),[G,B]=(0,a.useState)(e.initialVatGstId??""),[w,U]=(0,a.useState)(e.initialRegionalVatGstId??""),[k,J]=(0,a.useState)(e.initialCustomerLegalName??""),[F,$]=(0,a.useState)(e.initialNameOnPaymentMethod??""),L=(0,a.useRef)(null),V=(0,s.Ay)().user_data,Y=function(){let e=(0,C.yM)(),r=(0,C.DP)();return{loader:"never",fonts:[{family:"Inter",src:`url(${(0,s.CZ)("webfont/1/Inter-Regular.woff2?v=3.10")})`,weight:"400"}],appearance:{labels:"floating",variables:{fontFamily:A.sq,fontSizeBase:"13px",borderRadius:"3px",gridRowSpacing:"0px",gridColumnSpacing:"14px",colorBackground:v("colorBg",r,e),colorText:v("colorText",r,e),colorTextPlaceholder:v("colorTextSecondary",r,e),colorDanger:v("colorTextDanger",r,e),colorIcon:v("colorIcon",r,e),colorIconCardError:v("colorIconDanger",r,e),colorIconCardCvcError:v("colorIconDanger",r,e),colorIconTab:v("colorIconSecondary",r,e),colorIconTabHover:v("colorIconSecondary",r,e),colorIconTabSelected:v("colorIconSecondary",r,e)},rules:{".Input":{padding:"0 16px",marginTop:"6px",marginBottom:"10px",lineHeight:"28px",boxShadow:"none",borderColor:v("colorBorder",r,e)},".Input:focus":{border:`1px solid ${v("colorBorderSelected",r,e)}`,boxShadow:`0 0 0 1px ${v("colorBorderSelected",r,e)}`},".Input--invalid, .Input--invalid:focus":{color:v("colorText",r,e),border:`1px solid ${v("colorBorderDanger",r,e)}`,boxShadow:`0 0 0 1px ${v("colorBorderDanger",r,e)}`},".Label":{transition:"none"},".Label--invalid":{color:v("colorTextDanger",r,e)},".Label--floating":{color:v("colorTextSecondary",r,e),opacity:1,margin:"5px 0 2px",fontSize:"9px"},".Label--resting":{color:v("colorTextSecondary",r,e)},".Tab":{padding:"12px",marginBottom:"10px",borderColor:v("colorBorder",r,e),color:v("colorTextDisabled",r,e),boxShadow:"none",transition:"none"},".Tab:hover":{backgroundColor:v("colorBgSelected",r,e),borderColor:v("colorBorderBrand",r,e),color:v("colorTextDisabled",r,e)},".Tab:focus, .Tab:active, .Tab--selected, .Tab--selected:hover,, .Tab--selected:focus, .Tab--selected:active":{backgroundColor:v("colorBgSelected",r,e),border:`1px solid ${v("colorBorderSelected",r,e)}`,boxShadow:`0 0 0 1px ${v("colorBorderSelected",r,e)}`,color:v("colorTextBrand",r,e)},".TabLabel":{paddingTop:"4px",lineHeight:1.5,letterSpacing:"0.055px",fontWeight:500}}}}}(),H=function(e){return{layout:{type:"tabs",defaultCollapsed:!1},fields:{billingDetails:{address:"never"}},terms:{auBecsDebit:"never",bancontact:"never",card:"never",ideal:"never",sepaDebit:"never",sofort:"never",usBankAccount:"never"},wallets:{applePay:"never",googlePay:"never"},defaultValues:{billingDetails:{name:e?.name,email:e?.email}}}}(V),[z,q]=(0,a.useState)(void 0);async function Q(){let r=await O(e.setupIntentParams);return(0,o.sx)("setup_intent_creation_attempted",j(),{forwardToDatadog:!0}),r}async function K(){if(L.current)return L.current;try{let[r,t]=await Promise.all([(0,I.eV)(),Q()]),a=r.elements({clientSecret:t.clientSecret,currency:e.currency,...Y});return L.current=a,a}catch(e){(0,o.sx)("setup_intent_creation_failed",j(),{forwardToDatadog:!0}),X({error:e,code:"uninitialized-stripe-elements-error",message:(0,d.t)("payments.errors.error_loading_payment_form")})}}function X({error:e,code:r,message:t,extra:a={}}){M({code:r,message:t}),"currency-validation-error"===r||f(e)||R(e)||S(e)||(0,i.$D)(n.e.BILLING,Error(`[Billing] ${"string"==typeof e?e:e.code??"StripeError"}`),r=>{let t="object"==typeof e?{stripe_error_details:(0,i.V5)((0,I.pV)(e)),...a}:a;return r.setExtras(t),g(e)&&(r.setTag("stripe_error_type",e.type),f(e)&&r.setLevel("warning")),r})}function j(){return{...e.customerInfo,paymentFlowSource:e.paymentFlowSource,currency:e.currency,isCampfireCart:!!e.isCampfireCart}}async function Z(){if(e.canSeeBillingAddressExp&&!F)return M({code:"name-on-payment-method-required",message:(0,d.t)("payments.errors.name_on_payment_method_required")}),!0;if(e.canSeeBillingAddressExp)try{await N.$.validateAddresses({billingAddress:r,shippingAddress:y,teamId:e.customerInfo.teamId,isCheckout:e.isCheckout})}catch(e){return M({code:"address-validation-error",message:(0,_.J)(e)||e.message}),!0}else{let e=await T();if(e)return M({code:"address-validation-error",message:e}),!0}if(G&&!await (0,h.V)(G,r.country,()=>{},e=>{M({code:"vat-gst-id-verification-error",message:e})})||w&&!await (0,h.V)(w,r.country,()=>{},e=>{M({code:"vat-gst-id-verification-error",message:e})},r.region))return!0;if(e.canSeeBillingAddressExp){if(e.currency)try{await N.$.validateCurrency({teamId:e.customerInfo.teamId,currency:e.currency,billingAddress:r,shippingAddress:y,isCheckout:e.isCheckout})}catch(t){return X({error:"Currency/Address Mismatch",code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_mismatch_with_country_error",{selected_currency:e.currency.toUpperCase()}),extra:{country:r.country,currency:e.currency}}),!0}else if(e.shouldCheckIpCurrency)try{await N.$.validateCurrency({teamId:e.customerInfo.teamId,currency:(0,p.LN)(),billingAddress:r,shippingAddress:y,isCheckout:e.isCheckout})}catch(t){return X({error:`Currency & IP address mismatch error: ${JSON.stringify(e.customerInfo)}, country: ${r.country}, currency: ${(0,p.LN)()}`,code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_ip_mismatch_error")}),!0}}else{if(e.currency&&!(0,p.bu)(e.currency,r.country))return X({error:"Currency/Address Mismatch",code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_mismatch_error",{selected_currency:e.currency.toUpperCase()}),extra:{country:r.country,currency:e.currency}}),!0;if(e.shouldCheckIpCurrency&&(0,p.ub)()!==r.country)return X({error:`Currency & IP address mismatch error: ${JSON.stringify(e.customerInfo)}, country: ${r.country}, currency: ${(0,p.LN)()}`,code:"currency-validation-error",message:(0,d.t)("payments.errors.currency_ip_mismatch_error")}),!0}return!1}return(0,a.useEffect)(()=>{let r=L.current;r&&r.update({currency:e.currency})},[e.currency]),{createPaymentElement:async(e={})=>{let r=await K();if(!r){X({error:"Failed to get stripe elements",code:"uninitialized-stripe-elements-error",message:(0,d.t)("payments.errors.error_loading_payment_form")});return}let t=r.getElement("payment")??r.create("payment",H);t.on("ready",r=>{(0,o.sx)("Payment Form Loaded",{...j(),paymentMethod:z??I.lB.CARD,availableCurrencies:(0,p.B9)()}),z||q(I.lB.CARD),e.ready?.(r)}),t.on("change",r=>{let t=r.value?.type;(0,o.sx)("Choose Payment Method Type",{...j(),paymentMethod:t}),q(t),e.change?.(r)}),t.mount(`#${P}`)},unmountPaymentElement:async()=>{let e=await K();e?.getElement("payment")?.unmount()},savePayment:async()=>{if(M(null),await Z())return;if(!L.current){X({error:"Cannot save payment without Stripe elements",code:"confirm-setup-error",message:(0,d.t)("payments.errors.confirm_setup_error")});return}l(),b();let t=()=>document.querySelectorAll("[name*=privateStripeFrame]").length,a=t(),n=setInterval(()=>{let r=!1;if(a!==t()&&((0,o.sx)("Stripe Authentication Modal"),clearInterval(n),r=!0),V){let t=(0,m.lX)({teamId:e.customerInfo.teamId,userId:V.id});if(t){let e={...t,is3DS:r};(0,m.dT)(V.id,e)}}},1e3);(0,o.sx)("Add payment method",{...j(),paymentMethod:z},{forwardToDatadog:!0});let s=e.canSeeBillingAddressExp&&!(0,E.$V)(y)?{shipping_line1:y.line1||null,shipping_line2:y.line2||null,shipping_country:e.canSeeBillingAddressExp&&y.country||null,shipping_city:y.city||null,shipping_state:y.region||null,shipping_postal_code:y.postal_code||null}:null,i=await (0,I.eV)(),{error:_}=await i.confirmSetup({elements:L.current,confirmParams:{return_url:function({customerInfo:{teamId:e,orgId:r},currency:t,billingPeriod:a,teamName:n,userId:o,isCheckout:s}){let i,l;let d=new URLSearchParams;if(n&&d.append("team_name",n),a&&d.append("billing_period",`${a}`),t&&d.append("selected_currency",t),o&&d.append("fuid",o),s&&d.append("is_checkout",s.toString()),e)i="team",l=e;else if(r)i="org",l=r;else{if(null==e&&void 0!==e)return`https://${window.location.host}/team/validate_payment_method?${d.toString()}`;c.k.error("No valid ID was passed")}return`https://${window.location.host}/${i}/${l}/set_payment_method?${d.toString()}`}({customerInfo:e.customerInfo,currency:e.currency,billingPeriod:e.billingPeriod,teamName:e.teamName,userId:V?.id,isCheckout:e.isCheckout}),payment_method_data:{billing_details:{name:F,address:{line1:r.line1,line2:r.line2,country:r.country,city:r.city,state:r.region,postal_code:r.postal_code}},metadata:{vat_gst_id:G,regional_vat_gst_id:w||null,...s,customer_legal_name:k||null}}}});if(clearInterval(n),_){let e=(0,d.t)("payments.errors.confirm_setup_error");X({error:_,code:"confirm-setup-error",message:f(_)||R(_)||S(_)?_.message??e:e})}},billingAddress:r,updateBillingAddress:t,shippingAddress:y,updateShippingAddress:D,customerLegalName:k,setCustomerLegalName:J,nameOnPaymentMethod:F,setNameOnPaymentMethod:$,vatGstId:G,setVatGstId:B,regionalVatGstId:w,setRegionalVatGstId:U,paymentMethodType:z,error:x}});var M=(e=>(e.PRO_UPGRADE="pro_upgrade",e.PRO_CHANGE_PAYMENT="pro_change_payment",e.ORG_UPGRADE="org_upgrade",e.ORG_CHANGE_PAYMENT="org_change_payment",e.COMMUNITY_CHECKOUT="community_checkout",e))(M||{}),G=(e=>(e.ADDRESS_VALIDATION_ERROR="address-validation-error",e.CONFIRM_SETUP_ERROR="confirm-setup-error",e.CURRENCY_VALIDATION_ERROR="currency-validation-error",e.UNINITIALIZED_STRIPE_ELEMENTS_ERROR="uninitialized-stripe-elements-error",e.VAT_GST_ID_VERIFICATION_ERROR="vat-gst-id-verification-error",e.NAME_ON_PAYMENT_METHOD_REQUIRED="name-on-payment-method-required",e))(G||{});async function O({redirect_url:e,error_redirect_url:r,success_message:t,subtotal_estimate:a,currency:n}){let{data:{meta:{client_secret:o}}}=await l.Ay.post("/api/subscriptions-2018-11-08/setup_intent",{redirect_url:e,error_redirect_url:r,subtotal_estimate:a,currency:n,...t?{success_message:t}:{}});return{clientSecret:o}}},695453:(e,r,t)=>{t.d(r,{Al:()=>T,dT:()=>I,kt:()=>m,lX:()=>u,nt:()=>f,pI:()=>p});var a=t(848318),n=t(716544),o=t(719670),c=t(171659),s=t(397579),i=t(376780),l=t(53818),d=t(661780),_=t(710665);let E=e=>`SAVED_CART::${e}`;function u({teamId:e,userId:r}){if(!r)return null;let t=g(r);return t?.teamId===e?t:null}let m=443==t.j?["","",""]:null;function p({loadingPaidEditors:e,teamId:r,teamName:t,setTeamName:c,collaborators:l,setCollaborators:E}){let u=(0,d.iZ)(),p=(0,n.d4)(e=>(r?e.teamUserByTeamId[r]:{})||{}),T=(0,n.d4)(e=>e.payment.numDesignEditors),y=(0,n.d4)(e=>e.payment.numWhiteboardEditors),f=(0,n.d4)(e=>e.payment.editorStatusChanges),R=(0,n.d4)(e=>e.payment.cartSelections),S=(0,s.ZC)(e),D=(0,_.BR)(p,u),h=(0,_.O1)(T,(0,_.Ky)(D,f,i._Y.DESIGN)),N=(0,_.O1)(y,(0,_.Ky)(D,f,i._Y.WHITEBOARD)),b=(0,a.useCallback)(()=>{let e=g(u?.id);if(!e)return null;let{createdAt:r,updatedAt:t,...a}=e;return a},[u?.id]);(0,a.useEffect)(()=>{let a=b(),n=null!==r||t?t:a?.newTeamName,s=null===r&&!l||(0,o.c2)(l,m)?a?.newCollaborators??m:l,i={teamId:r,editorStatusChanges:f,numEmptyDesignSeats:h,numEmptyWhiteboardSeats:N,newTeamName:n,newCollaborators:s,is3DS:a?.is3DS,cartSelections:R};!e&&u&&((0,o.he)(a,i)||I(u.id,i),S&&(c&&n!==t&&c(n||""),E&&!(0,o.c2)(l,s)&&E(s||m)))},[e,S,u,r,f,h,N,b,t,c,l,E,R])}let I=(0,l.D)((e,r)=>{try{let t=new Date().toISOString(),a={...r,createdAt:t,updatedAt:t};c.TQ()?.setItem(E(e),y(a))}catch(e){console.error("Failed to save cart state to Local Storage")}});function T(e){if(e)try{c.TQ()?.removeItem(E(e))}catch(e){}}let y=e=>JSON.stringify(e),g=e=>{if(!e)return null;try{let r=c.TQ()?.getItem(E(e));if(r)return JSON.parse(r);return null}catch(e){return null}};function f(e,r){let t=r.map(e=>e.id),a=e=>e?.filter(e=>t.includes(e))??[];return{upgrade:{design:a(e.upgrade.design),slides:a(e.upgrade.slides),sites:a(e.upgrade.sites),whiteboard:a(e.upgrade.whiteboard),cooper:a(e.upgrade.cooper),figmake:a(e.upgrade.figmake)},downgrade:{design:a(e.downgrade.design),slides:a(e.downgrade.slides),sites:a(e.downgrade.sites),whiteboard:a(e.downgrade.whiteboard),cooper:a(e.downgrade.cooper),figmake:a(e.downgrade.figmake)}}}},366115:(e,r,t)=>{t.d(r,{q:()=>u});var a=t(848318),n=t(716544),o=t(44509),c=t(256933),s=t(374205),i=t(442313),l=t(320409),d=t(449737),_=t(155651),E=t(511131);let u=(0,t(464012).Ju)(function({teamId:e,trackingProperties:r,hasSecondaryBtn:t=!0}){let u=(0,a.useMemo)(()=>(0,c.To)(),[]),m=(0,n.wA)(),p=()=>{m(d.Ce())},I=t?a.createElement(l.V,{onClick:()=>{o.Ay.redirect("/pricing","_blank")}},(0,i.t)("pro_onboarding.pro_feature_modal.compare_plans")):null;return a.createElement(_.fu,{name:"Pro Features Modal",properties:r??E.S.getTrackingProperties(e)},a.createElement(s.n,{...u,dismissModal:p,clickPrimaryBtn:p,secondaryBtn:I,showPricing:!1,panelTitleSize:s.I.LARGE,cardsClickable:!0}))},"ProFeaturesModal")},93151:(e,r,t)=>{t.d(r,{F:()=>h});var a=t(848318),n=t(960955),o=t(596616),c=t(224223),s=t(730169),i=t(145015),l=t(482675),d=t(473889),_=t(166365),E=t(17755),u=t(442313),m=t(500276),p=t(903579),I=t(498962),T=t(832367),y=t(515673),g=t(268896),f=t(425878);let R="stripe_payment_and_address--error--z-IbH",S="stripe_payment_and_address--paymentDetailsCheckbox--34fJx";var D=t(433566);function h({createPaymentElement:e,unmountPaymentElement:r,billingAddress:t,updateBillingAddress:h,legalCompanyName:N,updateLegalCompanyName:b,nameOnPaymentMethod:C,updateNameOnPaymentMethod:A,shippingAddress:v,updateShippingAddress:P,error:x,paymentError:M,paymentMethodType:G,paymentElementEventHandlers:O,vatGstId:B,onVatGstIdChange:w,regionalVatGstId:U,onRegionalVatGstIdChange:k,paymentFlow:J,canSeeBillingAddressExp:F,isCampfireCart:$}){let[L,V]=(0,a.useState)(!1),[Y,H]=a.useState(!!v&&!(0,y.$V)(v)),[z,q]=a.useState(!!N),Q=(J===p.wn.PRO_UPGRADE||J===p.wn.ORG_UPGRADE)&&F,K={paymentFlow:J,paymentMethodType:G,isCampfireCart:!!$};return(0,s.h)(()=>((async function(){await e({ready:e=>{V(!0),O?.ready?.(e)},change:O?.change})})(),()=>{r()})),(0,a.useEffect)(()=>{x&&c.az.trackDefinedEvent("monetization_upgrades.checkout_payment_error",{...K,message:x.message})},[x]),(0,a.useEffect)(()=>{M&&c.az.trackDefinedEvent("monetization_upgrades.checkout_payment_error",{...K,message:M})},[M]),x?.code===p.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR?a.createElement("div",{className:"stripe_payment_and_address--errorContainer--vjs9-"},a.createElement(_.B,{svg:D.A,className:"stripe_payment_and_address--errorIcon--vMQyn"}),a.createElement("p",{className:"stripe_payment_and_address--errorMessage--eZnrd"},x.message)):a.createElement("div",{className:"stripe_payment_and_address--container--1Xdbp"},M&&a.createElement("div",{className:R},a.createElement(l._,{color:l.S.ERROR,text:M})),x&&a.createElement("div",{className:R},a.createElement(l._,{color:l.S.ERROR,text:x.message})),a.createElement("div",{id:p.Ix}),L?a.createElement("div",{style:m.sx.add({marginTop:"7px"}).if(G&&T.d2.includes(G),{marginTop:"15px"}).$},F&&A&&a.createElement(i.Lf,{value:C||"",htmlName:"name_on_card",label:(0,u.t)("pro_cart.payment.name_on_payment_method_label"),placeholder:(0,u.t)("pro_cart.payment.name_on_payment_method"),onChange:e=>{A(e.target.value.trim())},autoCompleteName:"name on payment method",trackingFieldName:"Name On Payment Method",dataTestId:"name-on-payment-method"}),a.createElement(g.X,{address:t,updateAddress:h,canSeeBillingAddressExp:F,isBillingAddress:!0}),!!w&&a.createElement(f.A,{onChange:w,country:t.country,vatId:B,isCommunityCheckout:J===p.wn.COMMUNITY_CHECKOUT}),!!k&&a.createElement(f.A,{onChange:k,country:t.country,region:t.region,vatId:U,isCommunityCheckout:J===p.wn.COMMUNITY_CHECKOUT,variant:"regional"}),G===T.lB.SEPA&&a.createElement("p",{className:"stripe_payment_and_address--mandateText--hH8C3"},(0,u.tx)("pro_cart.payment.sepa_direct_debit_mandate")),Q&&a.createElement("div",{className:S,style:m.sx.if(z,{marginBottom:"24px"}).$,"data-testid":"stripe-payment-legal-name-checkbox"},a.createElement(n.S,{label:a.createElement(o.J,null,a.createElement("span",{className:E.s.font13.$},(0,u.tx)("checkout.i_have_a_different_legal_name"))),checked:z,onChange:e=>{q(e),!e&&b&&b("")}})),z&&a.createElement(I.E,{canSeeBillingAddressExp:F,legalCompanyName:N,updateLegalCompanyName:b}),Q&&a.createElement("div",{className:S,style:m.sx.if(Y,{marginBottom:"24px"}).$,"data-testid":"stripe-payment-shipping-address-checkbox"},a.createElement(n.S,{label:a.createElement(o.J,null,a.createElement("span",{className:E.s.font13.$},(0,u.tx)("checkout.i_have_a_different_shipping_address"))),checked:Y,onChange:e=>{H(e),!e&&P&&P((0,y.EB)())}})),Y&&a.createElement(I.E,{canSeeBillingAddressExp:F,shippingAddress:v,updateShippingAddress:P})):a.createElement("div",{className:"stripe_payment_and_address--spinnerContainer--hg5Vy"},a.createElement(d.kt,null)))}},693965:(e,r,t)=>{t.d(r,{X:()=>o});var a=t(848318),n=t(376025);let o=(0,t(155651).tf)(function(e){return a.createElement(n.E,{onClick:e.onClick},e.children)})},693506:(e,r,t)=>{t.d(r,{O:()=>n});var a=t(848318);function n(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:"full_width_page--closeMenu--M8Pvm"},e.menu),a.createElement("div",{ref:e.pageRef,className:"full_width_page--fullWidthPage--aQfdt overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",...e}))}},20701:(e,r,t)=>{t.d(r,{On:()=>o,Kh:()=>i,JR:()=>s});var a=t(848318),n=t(445777);class o extends a.PureComponent{render(){(0,n.KF)(Number.isInteger(this.props.number),"breadcrumb step must be an integer"),(0,n.KF)(this.props.number>=1&&this.props.number<=20,"breadcrumb step is out of expected range");let e="";return this.props.selected?(e+="step_breadcrumb--stepSelected--aaq-4 step_breadcrumb--step--h0dTR",this.props.lightText&&(e+=" step_breadcrumb--whiteText--TeOgy")):(e+="step_breadcrumb--step--h0dTR",this.props.lightText&&(e+=" step_breadcrumb--greyText--Xid8Q")),this.props.canClick&&(this.props.lightText?e+=" step_breadcrumb--stepClickableLight--e7tX-":e+=" step_breadcrumb--stepClickable--t001q step_breadcrumb--step--h0dTR step_breadcrumb--stepClickable-on-hover---oTm4"),a.createElement("div",{"data-testid":this.props.number+this.props.text,className:e,onClick:()=>this.props.canClick&&this.props.onClick&&this.props.onClick()},a.createElement("span",{className:"step_breadcrumb--stepNumber--0A5tz"},String.fromCharCode(9311+this.props.number)),this.props.text)}}o.displayName="StepBreadcrumb";class c extends a.PureComponent{render(){return a.createElement("div",{className:"step_breadcrumb--stepBreadcrumbSpacer--baFNr"})}}c.displayName="StepBreadcrumbSpacer";class s extends a.PureComponent{render(){return a.createElement("div",{className:`step_breadcrumb--stepTitle--kyggE text--fontPos22--4H4Fc text--_fontBase--QdLsd ${this.props.className||""}`},this.props.children)}}s.displayName="StepTitle";class i extends a.PureComponent{render(){return a.createElement("div",{className:"step_breadcrumb--stepInstructions--gjSRc text--fontPos14--OL9Hp text--_fontBase--QdLsd",...this.props})}}i.displayName="StepInstructions"}}]);

//# debugId=d70b9e60-fbaa-50bd-a78d-c1e40f025e8a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/57a1f9c40f2b87f5b1c7ce8b4dd65c7ff5150dda/8187-2cc5624d39ca674d.min.js.map