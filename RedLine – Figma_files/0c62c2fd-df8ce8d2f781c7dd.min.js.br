"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f66c0836-8e0f-56c4-a09f-6f2638839036")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8717],{605247:(e,t,r)=>{r.d(t,{B8:()=>p,IW:()=>_,J:()=>E,Ou:()=>b,R6:()=>g,Uu:()=>s,X5:()=>u,XX:()=>i,YK:()=>o,ay:()=>v,eK:()=>l,fI:()=>n,jD:()=>f,me:()=>m,nM:()=>c,wD:()=>d,yU:()=>a});let a="step_pay--addAnnualPlan--3YUVe",n="step_pay--paymentForm--gqjt-",o="step_pay--totalLabelText--FsxE-",l="step_pay--smallGrayText--C8Sfn",i="step_pay--bigButton--Gtz0E",s="step_pay--flex--ZZh0K",c="step_pay--row--DcuMl",d="step_pay--rowFlex--Mf5y8 step_pay--row--DcuMl",m="step_pay--separator--gTqAJ",u="step_pay--total--FgOpU",_="step_pay--totalText--VTLEG step_pay--jumboText--JE1wb",p="step_pay--plusTaxText--gSICq",f="step_pay--numEditorsInput--mTc8p",g="step_pay--subtotal--188gf",E="step_pay--changeLink--dSfAg blue_link--blueLink--9rlnd",v="step_pay--bigTerms--nC3J9",b="step_pay--flowActionsSingle--X0Hy-"},509982:(e,t,r)=>{r.d(t,{w:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,192736)).then(e=>e.EduReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"EduReviewPage"})},59767:(e,t,r)=>{r.d(t,{N:()=>o});var a=r(41015),n=r(473889);let o=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,451626)).then(e=>e.OrgSelfServeFigJamPage),{loading:n.Z_,error:a.H4.NONE,componentName:"OrgSelfServeFigJamPage"})},212108:(e,t,r)=>{r.d(t,{G:()=>o});var a=r(41015),n=r(473889);let o=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,428829)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:n.Z_,error:a.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},539855:(e,t,r)=>{r.d(t,{z:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,262558)).then(e=>e.PromoReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"PromoReviewPage"})},703518:(e,t,r)=>{r.d(t,{q:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,447243)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},357886:(e,t,r)=>{r.d(t,{h:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,33994)).then(e=>e.TeamUpgradePageV2),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageV2"})},412922:(e,t,r)=>{r.d(t,{m:()=>b});var a=r(848318),n=r(716544),o=r(992277),l=r(360589),i=r(17755),s=r(61485),c=r(645906);if(443==r.j)var d=r(286913);var m=r(790355),u=r(376780),_=r(572699),p=r(965845),f=r(977508),g=r(504647),E=r(966979),v=r(710166);function b(){let e=(0,n.wA)(),t=(0,_.tJ)(),r=(0,_.Xd)(),b=(0,s.RR)();if("loading"===t.status||"loading"===r.status)return a.createElement("div",{className:i.s.wFull.pl32.py24.bb1.colorBorder.bSolid.$},a.createElement(l.Wi,{className:i.s.w200.h32.$}));let h=t.data,y=r.data;return h&&y&&y.permission===u.Xn.ADMIN?(b||e(h.key.type===u.OL.ORG?m.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:p.J7.DASHBOARD}):m.$T({view:"teamAdminConsole",teamId:h.key.parentId??"",teamAdminConsoleViewTab:f.Iv.DASHBOARD})),a.createElement(d.r,{containerClass:v.nF,scrollableContainerClass:v.lF,content:a.createElement(E.l,{plan:h,isOrgAdmin:h.type===u.OL.ORG}),toolbar:a.createElement(c.g,null),errorBoundaryConfig:{figmaTeam:o.e.MONETIZATION_EXPANSION,boundaryKeySuffix:"SeatRequestsPageView"}})):(e(m.$T(g.o0)),a.createElement(a.Fragment,null))}},399339:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeEditorsModal:()=>s});var a=r(848318),n=r(431118),o=r(442313),l=r(155651),i=r(314272);function s(e){let{team:t,editors:r}=e,{id:s}=t,c=r.length,d=r.filter(e=>e.id).map(e=>e.id).join(),m=(0,o.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,o.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return a.createElement(l.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:s}},a.createElement(i.Eo,{title:c>1?u:m,confirmText:(0,o.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},a.createElement("p",null,c>1&&(0,o.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),(0,o.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"))))}},501388:(e,t,r)=>{r.r(t),r.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>c});var a=r(848318),n=r(145015),o=r(442313),l=r(155651),i=r(765982),s=r(314272);function c(e){let{team:t,members:r,paidStatus:c}=e,{id:d}=t;if(![i.Zf.FULL,i.Zf.RESTRICTED].includes(c))return a.createElement(a.Fragment,null);let m=r.length,u=r.filter(e=>e.id).map(e=>e.id).join(),_=c===i.Zf.RESTRICTED,p=e.paidStatusType===i.j4.WHITEBOARD,f=p?r.every(e=>!e.whiteboard_editor_upgrade):r.every(e=>!e.design_editor_upgrade),g=c===i.Zf.RESTRICTED&&f,E=r[0].name||r[0].email;return a.createElement(l.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:m,memberIds:u,teamId:d}},a.createElement(s.Eo,{title:_?g?p?(0,o.tx)("team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"):(0,o.tx)("team_view.downgrade_design_access_from_viewer_to_viewer_restricted"):p?(0,o.tx)("team_view.remove_figjam_edit_status.seat_rename"):(0,o.tx)("team_view.remove_design_edit_status.seat_rename"):p?(0,o.tx)("team_view.grant_figjam_edit_status.seat_rename"):(0,o.tx)("team_view.grant_design_edit_status.seat_rename"),confirmText:_?g?(0,o.t)("team_view.change"):(0,o.t)("team_view.remove.seat_rename"):(0,o.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},c===i.Zf.RESTRICTED&&(g?p?(0,o.tx)("team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:E,numMembers:m}):(0,o.tx)("team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:E,numMembers:m}):p?(0,o.tx)("team_view.downgrade_figjam_description.seat_rename",{memberNameOrEmail:E,numMembers:m}):(0,o.tx)("team_view.downgrade_design_description.seat_rename",{memberNameOrEmail:E,numMembers:m})),c===i.Zf.FULL&&a.createElement(a.Fragment,null,(()=>{if(!_)return p?(0,o.tx)("team_view.change_to_editor_figjam_description.seat_rename",{numMembers:m,memberNameOrEmail:E}):(0,o.tx)("team_view.change_to_editor_design_description.seat_rename",{numMembers:m,memberNameOrEmail:E})})(),a.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--D5LgW"},a.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--cb35L",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,o.tx)("team_view.learn_more.seat_rename"))))))}},511600:(e,t,r)=>{r.r(t),r.d(t,{MemberEditAccessModal:()=>S});var a=r(848318),n=r(716544),o=r(425642),l=r(508242),i=r(195237),s=r(575492),c=r(442313),d=r(61485),m=r(449737),u=r(155651),_=r(871117),p=r(376780),f=r(24096),g=r(995946),E=r(765982),v=r(314272);let b="edit_access_modal--column--MYvAz",h="edit_access_modal--resource--qhm-x",y="edit_access_modal--resourceTitle--79DdK edit_access_modal--resource--qhm-x",w="edit_access_modal--greyResource--pdVfB edit_access_modal--resource--qhm-x",T=(e,t)=>{if("file"===e.resource_type){let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.key}}else{let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.id}}},x=(0,l.xx)((e,t)=>{let r={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let a=T(e,t);a?r.editableResources.push(a):r.privateResourceCount++}),(0,o.v7)(r.editableResources,e=>e.name)),r}),I=(e,t)=>{let r,a,n;let o=e.team_user,l=e.edit_roles,i=l?.whiteboard_files||[],s=l?.design_files||[],c=l?.slides_files||[];return t?(r=!(0,f.on)(o,_.vu),a=!(0,f.on)(o,_.tL),n=!(0,f.on)(o,_.B7)):(r=!!(0,f.qR)(o,p._Y.DESIGN),a=!!(0,f.qR)(o,p._Y.WHITEBOARD),n=!1),{whiteboardRoles:a?[]:i,designRoles:r?[]:s,slidesRoles:n?[]:c}},k=(e,t,r)=>{let{whiteboardRoles:a,designRoles:n,slidesRoles:o}=I(e,r);return x(a.concat(n).concat(o),t)};function S(e){let t=(0,n.wA)(),r=function(e,t){let r=(0,n.d4)(r=>r.teamMembersByTeamId[e][t]);return i.Qw.loaded(r)}(e.teamId,e.memberEmail),o=(0,n.d4)(e=>e.folders),l=a.useMemo(()=>r.transform(e=>x(e?.edit_roles?.folders,o)),[o,r]),p=(0,d.RR)(),h=(0,n.d4)(e=>e.folders),w=a.useMemo(()=>r.transform(e=>e?k(e,h,p):{privateResourceCount:0,editableResources:[]}),[h,r,p]),T=(0,n.d4)(t=>t.teams[e.teamId]),I=i.Qw.all([r,l,w]);if("loaded"!==I.status)return null;let[S,C,R]=I.data;if(!S)return console.error("Member not found"),null;let A=!!S.team_role&&S.team_role?.level>=g.e6.EDITOR,O=C.editableResources.length+C.privateResourceCount,F=R.editableResources.length+R.privateResourceCount,D=p?(0,f.on)(S.team_user,_.vu):S.team_user?.design_paid_status===E.Zf.FULL,L=p?(0,f.on)(S.team_user,_.tL):S.team_user?.whiteboard_paid_status===E.Zf.FULL,P=!p||(0,f.on)(S.team_user,_.B7);return a.createElement(u.fu,{name:"Member Edit Access Modal",properties:{teamId:T.id,userId:S.id,folderCount:O,fileCount:F}},a.createElement(v.XV,{title:(0,c.t)("team_view.member_edit_access_modal.title",{memberName:S.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--20dSp",onClose:()=>{t(m.Ce())}},a.createElement("div",{className:"edit_access_modal--headerContainer--ZoKpu edit_access_modal--resourceContainer--vZA5E"},a.createElement("div",{className:b},a.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.projects_title"))),a.createElement("div",{className:b},a.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.files_title")))),a.createElement(s.P,{className:"edit_access_modal--scrollContainer--WzCWr",hideScrollbar:!0},a.createElement("div",{className:"edit_access_modal--resourceContainer--vZA5E"},a.createElement("div",{className:b},a.createElement(N,{hasTeamEditPermissions:A,isWhiteboardEditor:L,isDesignEditor:D,isSlidesEditor:P,resources:C,resourceType:"project"})),a.createElement("div",{className:b},a.createElement(N,{hasTeamEditPermissions:A,isWhiteboardEditor:L,isDesignEditor:D,isSlidesEditor:P,resources:R,resourceType:"file"}))))))}let C=e=>"file"===e?(0,c.tx)("team_view.member_edit_access_modal.none_files"):(0,c.tx)("team_view.member_edit_access_modal.none_projects");function N(e){let t;let{hasTeamEditPermissions:r,isDesignEditor:n,isWhiteboardEditor:o,isSlidesEditor:l,resourceType:i}=e;if(r)return"project"===i?a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_projects")):n&&o&&l?a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_files")):n||o||l?a.createElement(a.Fragment,null,n&&a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_design_files")),o&&a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_figjam_files")),l&&a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_slides_files"))):a.createElement("div",{className:w},C(i));let s=e.resources;if(0===s.privateResourceCount&&0===s.editableResources.length)return a.createElement("div",{className:w},C(i));if(s.privateResourceCount>0){let e=a.createElement("span",null);0===s.editableResources.length&&"project"===i?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:s.privateResourceCount}):0===s.editableResources.length&&"file"===i?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:s.privateResourceCount}):s.editableResources.length>0&&"project"===i?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:s.privateResourceCount}):s.editableResources.length>0&&"file"===i&&(e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:s.privateResourceCount})),t=a.createElement("div",{className:h},e)}return a.createElement(a.Fragment,null,s.editableResources.map(e=>a.createElement("div",{key:e.id_or_key,className:h},e.name)),t)}},390808:(e,t,r)=>{r.d(t,{JC:()=>m,Oe:()=>c,VY:()=>l,ay:()=>u,dZ:()=>d,vW:()=>i,wu:()=>o,y$:()=>s});var a=r(41015),n=r(647379);r(412922);let o=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,1970)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),l=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,517077)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),i=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,583678)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgAdminSettingsPageView"}),s=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,292629)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),c=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,258255)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgDomainManagementPageView"}),d=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,582566)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:a.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),m=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,247575)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:a.H4.NONE,componentName:"TeamAdminConsoleView"}),u=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(7363),r.e(3890),r.e(8125),r.e(7585),r.e(6048)]).then(r.bind(r,656956)).then(e=>e.AdminSidebar),{loading:()=>null,error:a.H4.NONE,componentName:"AdminSidebar"})},599601:(e,t,r)=>{r.r(t),r.d(t,{BlockConnectedFileMoveModal:()=>_});var a=r(848318),n=r(776402),o=r(792978),l=r(777611),i=r(575013),s=r(493554),c=r(17755),d=r(442313),m=r(155651),u=r(635547);function _(e){let t=n.hS(e),r=(0,s.Rs)(u.s0Z,{fileKey:e.fileKey}),_=r?.data?.file?.project?.name,p=r?.data?.file?.plan?.name;return a.createElement(m.fu,{name:"Block Connected File Move Modal"},a.createElement(l.bL,{manager:t,width:"md"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,_?(0,d.tx)("resource_connection.block_file_move.unable_to_move_out_of_project_name",{projectName:_}):(0,d.tx)("resource_connection.block_file_move.unable_to_move_out_of_this_project"))),a.createElement(i.nB,null,a.createElement("div",{className:c.s.mt4.mb4.$},(0,d.tx)("resource_connection.block_file_move.learn_more_about_what_you_can_do_in_connected_projects",{learnMore:a.createElement(o.N,{href:"https://help.figma.com/hc/articles/10250387712407"},(0,d.tx)("resource_connection.request_modal.learn_more")),hostPlanName:p??""}))))))}},818515:(e,t,r)=>{r.r(t),r.d(t,{FileMoveDropdown:()=>tn,FileMoveHiddenDiv:()=>to,FileMoveModal:()=>e6,FileMoveModalComponent:()=>e3,FileMoveSearch:()=>e9,TeamSection:()=>te,TeamsDisplay:()=>tr,getCurrentFolderId:()=>e7,getTargetAttribute:()=>e5,isSubscribedLG:()=>e2});var a=r(848318),n=r(716544),o=r(445777),l=r(157907),i=r(805353),s=r.n(i),c=r(224223),d=r(818754),m=r(857188),u=r(493554),_=r(195507),p=r(653959),f=r(389191),g=r(182059),E=r(145015),v=r(32413),b=r(282424),h=r(473889),y=r(575492),w=r(166365),T=r(17755),x=r(442313),I=r(186323),k=r(57589),S=r(465766),C=r(404658),N=r(249913);function R(e){let t=(0,n.wA)(),r=a.useCallback(r=>{r.stopPropagation(),e.team.canEdit&&((0,c.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,k.SX)({where:C.Ah.FolderListView,team:{...(0,S.Ws)(e.team),canEdit:e.team.canEdit,canEditTeamContents:e.team.canEdit,canAdmin:e.team.canAdmin}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?a.createElement(N.f,{data_tooltip:(0,x.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:r,isBackgroundTransparent:e.isBackgroundTransparent}):null}var A=r(790355),O=r(8574),F=r(815268),D=r(449737),L=r(155651),P=r(890477),M=r(376780),B=r(746948),U=r(494955),j=r(995946),W=r(92537),$=r(739349),H=r(635547),G=r(834111),V=r(922030),z=r(616385),q=r(399545),Y=r(430330),K=r(503024),J=r(229424),X=r(972813);let Q=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,X.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var Z=r(781806),ee=r(314272),et=r(896966),er=r(757033),ea=r(26039);function en(e){return a.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},a.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},a.createElement(ea.MW,{type:ea.y1.DESIGN})),a.createElement(E.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,x.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var eo=r(564769),el=r(310681),ei=r(984033),es=r(551316),ec=r(8374),ed=r(710665),em=r(24096),eu=r(618593),e_=r(793954),ep=r(900169),ef=r(931516);let eg="32px",eE=(0,d.hG)(eg),ev=e=>e?.id||O.iK,eb=new e_.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),eh=(e,t,r,a,n,o)=>{if(e.orgId!==n&&t?.orgId!==n)return!1;if(!(0,l.k)().ps_benchmark){if((0,W.VA)(e))return e.id===o;if((0,W.B_)(e))return!1}return!(!e.canEdit||t&&(0,ed.S$)(e,t,r)&&!(0,W.VA)(e))&&(!a||!!(0,ed.XX)(t))},ey=(e,t,r)=>!(!(0,l.k)().ps_benchmark&&(0,ed.dX)(e,t))&&(!r||!!(0,ed.XX)(e)),ew=(e,t=!1)=>{let r=[],a=(0,W.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let o=e.folders[n],l=o.teamId?e.teams[o.teamId]:null;eh(o,l,e.user,t,e.orgId,a?.id)&&((0,W.VA)(o)&&(o={...o,path:(0,ef.Tb)()}),r.push(o))}),eb.set(r.map(t=>{let r=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},a={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription,...(0,eu.VI)(t)};return r?{folder:a,team:r}:{folder:a}}))},eT=({folders:e,roles:t,user:r,orgUsers:a,teams:n,orgId:o,implicitTeamRolesTeamIds:i},s,c,d)=>{let m=Object.create(null),u=0,_=0,p=(0,W.gj)(r&&r.id,e,t.byFolderId,r&&o?a[o][r.id]:null);for(let e in m[O.HK]=[],m[O.iK]=[],t.byTeamId)ey(n[e],r,s)&&(_++,m[e]=[]);i&&i.forEach(e=>{ey(n[e],r,s)&&(_++,m[e]=[])}),Object.keys(e).forEach(t=>{let a={...e[t]},i=eh(a,a.teamId?n[a.teamId]:null,r,s,o,p?.id);if((0,l.k)().file_move_show_all_resources){if(i&&(!c||a.subscription||(0,W.VA)(a))){let e=a.teamId?n[a.teamId]:null;m[p&&a.id===p.id?O.HK:ev(e)].push(a),u++}}else if(i&&(a.subscription||(0,W.VA)(a))){let e=a.teamId?n[a.teamId]:null;m[p&&a.id===p.id?O.HK:ev(e)].push(a),u++}});let f=u+_;return d(O.CU({indexCount:f})),d(O.xH()),m},ex=(e,t,r,a,n)=>{let o=Object.create(null),l=Object.create(null),i=[],s=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(l[e]=s,c+=8,e!==O.iK&&e!==O.HK){let t={type:z.b.NEW_FOLDER_TEAM,id:e,positionTop:c};i.push(t),c+=eE,s+=1}let r=t[e];s+=r.length,r.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(r);a&&n&&e===n&&d.forEach((e,t)=>{e.id===a&&(r.splice(t,1),r.unshift(e))}),r.forEach(e=>{let t={type:z.b.FOLDER_ROW,id:e.id,positionTop:c};c+=eE,i.push(t)}),o[e]=r,c+=9}),[o,l,i]},eI=(e,t,r)=>{let a=Object.create(null),n=Object.create(null),o=0,l=0,i=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,s=(0,W.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,i);for(let r of e){let e=r.item.folder,i=s&&e.id===s.id?0:r.score,c=e.teamId?t.teams[e.teamId]:null,d=s&&e.id===s.id?O.HK:ev(c);!(d in a)&&(a[d]=[],d!==O.iK&&d!==O.HK&&l++),a[d].push(e),null==n[d]?n[d]=i:n[d]=Math.min(n[d],i),o++}let c=o+l;return r(O.CU({indexCount:c})),[n,a]},ek=e=>(t,r)=>{if(t===O.iK)return 1;let a=e[t],n=e[r];return a?n&&a.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},eS=e=>(t,r)=>e[t]-e[r],eC=async(e,t,r,a,n=!1,i=!1,s,c,d,m)=>{var u,_;let p=e.getState(),f=null,g=null;t.type===z.A.FILE?(f=t.file.parent_org_id||null,g=t.file.team_id):t.type===z.A.REPO?(f=t.repo.parent_org_id||null,g=t.repo.team_id):t.type===z.A.FILE_IMPORT&&(f=t.orgId);let E=[];if(r){let e=eI(await eb.search(r),a,s);_=e[0],(E=Object.keys(u=e[1])).length&&E.sort(eS(_))}else u=eT(a,n,!!m,e.dispatch),a.user?(E.push(O.HK),E=E.concat((0,V.n$)(Object.values(a.teams),a.fileBrowserPreferences?.orderedTeamIds||[])),u[O.iK].length>0&&E.push(O.iK)):(E=Object.keys(u)).sort(ek(a.teams));let v=(()=>{switch(t.type){case z.A.FILE:return[t.file.editor_type];case z.A.REPO:return[M._Y.DESIGN];case z.A.FILE_IMPORT:return t.files.map(e=>(0,ep.NU)(e));default:(0,o.xb)(t)}})(),b=new Set(Object.values(u).flat().filter(e=>v.every(t=>!!t&&(0,eu.d6)(e,t))).map(e=>e.id)),h=E.filter(e=>{if(e===O.iK)return null===u||u[e].length>0;let t=a.teams;if(e!==O.HK){let r=t[e]?.orgId||null;if(f||r){if(r!==f)return!1}else if(g&&e===O.iK)return!1}return!(t[e]?.deletedAt||!(0,l.k)().ps_benchmark&&v.some(r=>(0,em.XG)(t[e]?.currentTeamUser,r)))&&!!u[e]?.some(e=>b.has(e.id))}),[y,w,T]=ex(h,u,i,c,d);e.dispatch(O.OT({rows:T})),e.dispatch(O.t3({indexOffsets:w})),e.dispatch(O.Pb({foldersByTeamId:y})),e.dispatch(O.Mi({teamIds:h})),r||e.dispatch(O.w3({userTeamCount:h.length})),p.fileMove.isSearchResult!==i&&e.dispatch(O.EN({isSearchResult:i}));let x=O.HK in w&&T[0].type===z.b.FOLDER_ROW;r&&x?e.dispatch(O.Dp({indexAt:0})):r&&!x&&e.dispatch(O.Dp({indexAt:1}))},eN=(e,t,r,a=!1,n,o,l)=>{eC(e,t,"",r,a,!1,e.dispatch,o,l,n)},eR=(0,es.s)((e,t,r,a,n=!1)=>{eC(e,t,r,a,n,!!r,e.dispatch)},200),eA=(0,ec.nF)((e,t)=>{ew(t.userResources,t.modalData.isPublishing),eN(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eO=(0,ec.nF)((e,t)=>{eR(e,t.modalData,t.query,t.userResources),e.dispatch(O.hq(t))});var eF=r(141039),eD=r(579463),eL=r(280198),eP=r(110979),eM=r(802780),eB=r(296580),eU=r(832876),ej=r(785534);let eW="file_move--main--fz-As",e$="file_move--iconContainer--2ExyP",eH="file_move--folderRowWrapper--R5vx1",eG="file_move--folderRow--ZBYjx",eV="file_move--horizontalDivider--g43mL";var ez=r(367542);function eq(e){let t=(0,ej.S)(),r=(0,n.d4)(e=>e.user),[o,l]=(0,a.useState)(""),i=e.dispatch,[s,d]=(0,a.useState)(!0),m=(0,eD.I7)("starter_team_loophole_experiment_m0"),u=(0,eD.I7)("starter_team_loophole_experiment_m1");return a.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,c.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),o?(i((0,eB.KQ)({teamName:o,orgAccess:M.bU.PUBLIC,dontRedirect:!0})),d(!0),l("")):i(eL.s.error((0,x.t)("flash.team_name_cannot_be_empty")))}},a.createElement("div",{className:"file_move--teamCreateRow--GglhU file_move--folderRow--ZBYjx"},s?a.createElement("button",{type:"button",className:"file_move--rowButton--CSDNV",onClick:()=>{null!=r&&!e.orgId&&(0,eM.e5)({userId:r.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(i(D.Ce()),i(eP.Dw({openInNewTab:!eF.eD}))):(d(!1),i(O.xH()))}},a.createElement(w.B,{className:"file_move--newProjectIconFileMove--V9037 sidebar--icon--wMzUY",svg:ez.A}),a.createElement("span",{className:t?"file_move--newFolderNameCustomSections--OqBS9 sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"file_move--newFolderName--mHXUY sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},(0,x.tx)("file_browser.inline_team_creation.button_text"))):a.createElement(a.Fragment,null,a.createElement("div",{className:e$},a.createElement(eU.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),a.createElement("div",{className:"file_move--newTeamTitleText--cax1f file_move--teamTitleText--4XOM- ellipsis--ellipsis--Tjyfa"},a.createElement(E.ks,{value:o||"",onChange:e=>{l(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--0kCF4",maxLength:e.teamNameMaxWidth,placeholder:(0,x.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var eY=r(7452),eK=r(578888),eJ=r(992724),eX=r(90724),eQ=r(8108),eZ=r(391205),e0=r(763016);let e1=(0,d.hG)(eg),e4="FileMoveModalContent";function e5(e){return"folder"===e.view||(0,G.K)(e)?"_self":"_blank"}function e2(e){return!!e.subscription||(0,W.VA)(e)}function e7(e){switch(e.type){case z.A.FILE:let t=e.file;return t?.folder_id||null;case z.A.REPO:let r=e.repo;return r?.folder_id||null;case z.A.FILE_IMPORT:return null;default:(0,o.xb)(e)}}function e3(e){let t=null;e.type===z.A.FILE?t=e.file.parent_org_id||null:e.type===z.A.REPO?t=e.repo.parent_org_id||null:e.type===z.A.FILE_IMPORT&&(t=e.orgId);let r=(0,n.d4)(e=>e.orgById),o=t?r[t]:null,l=(0,n.d4)(e=>e.fileMove),i=(0,n.d4)(e=>!!e.creatingNewFolder),s=(0,n.d4)(e=>e.dropdownShown),d=(0,n.d4)(e=>e.selectedView),m=e7(e),p=(0,I.R)(),g=(0,u.Rs)(H.Y9I,{projectId:m},{enabled:!!m}),E=(0,u.Rs)(H.G0Y,{orgId:t});"errors"===E.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(E.errors));let v="loaded"===E.status&&("loaded"===g.status||e.type===z.A.FILE_IMPORT)?{fetched:E,transformed:function(e,t,r,a){let n={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},o={},l={},i={},s={byFolderId:{},byTeamId:{}},c=(0,B.Um)(e.currentUser),d=[],m=e=>{l[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{i[e.orgId]={[e.userId]:{...e,type:U.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||M.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||M.El.RESTRICTED,...a?{active_seat_type:(0,P.TA)(e.activeSeatTypeUpgrade?.billableProduct)}:void 0}},e.draftsProject&&(m(e.draftsProject),e.draftsProject.ownerRole&&(s.byFolderId[e.draftsProject.id]={[n.id]:(0,B.aU)(e.draftsProject.ownerRole,c,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:r}=e.team;o[t]={...e.team,canEdit:e.level>=j.e6.EDITOR,canAdmin:e.level>=j.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:(0,B.aU)(e,c,null,null)},r&&r.forEach(e=>m(e))});let u=e&&e.org?e.org:null;if(u){if(t){let e=(0,_.oA)(t.project);e&&e.canEdit&&m(e)}u.teams&&u.teams.forEach(e=>{let{id:t,orgEditProjects:r}=e;if(!o[t]){let r=e.canEdit,a=e.canAdmin,n=e.licenseGroup;o[t]={...e,canEdit:r??!1,canAdmin:a??!1,licenseGroup:n||null},d.push(t)}let a=(0,_.oA)(r);a&&a.forEach(e=>{m(e)})})}return e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;o[t]||(o[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:B.aU(e,c,null,null)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(m(e.project),s.byFolderId[e.project.id]={[n.id]:(0,B.aU)(e,c,null,null)})}),e.currentUser.draftsProject&&(m(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(s.byFolderId[e.currentUser.draftsProject.id]={[n.id]:(0,B.aU)(e.currentUser.draftsProject.ownerRole,c,null,null)})),{org:u,user:n,teams:o,folders:l,roles:s,orgUsers:i,orgId:r,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:d}}(E.data,e.type!==z.A.FILE_IMPORT?g.data:null,t,p)}:null,b=null===v?{loaded:!1}:{loaded:!0,userResources:v.transformed},h=null==m||null===v?null:v.transformed.folders[m],y=h?h.teamId:null,w=(0,n.wA)();a.useEffect(()=>{b.loaded&&w(eA({modalData:e,userResources:b.userResources,currentFolderId:m,currentFolderTeamId:y}))},[v&&v.fetched]);let T=[];if(b.loaded&&!t)for(let e in b.userResources.teams){let t=b.userResources.teams[e];"ok"!==t.subscription&&T.push(t.id)}let x=function(e){let[t,r]=a.useState((0,_.Xm)()),n=e.join(",");return a.useEffect(()=>{if(0===n.length){r((0,_.gB)({}));return}r((0,_.Xm)());let e=!1;return(async()=>{let t=await Q.getTeamRestrictionsLists({teamIds:n});e||r((0,_.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(T);if("loaded"===x.status&&b.loaded)for(let e in b.userResources.teams){let t=b.userResources.teams[e];x.data[e]&&(t.restrictionsList=x.data[e])}return(0,f.oY)("loaded"===E.status,e=>{(0,c.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),a.createElement(e6,{creatingNewFolder:i,currentOrg:o,dispatch:w,dropdownShown:s,fileMove:l,fileMoveData:e,isBillingRemodelEnabled:p,modalId:e._modalId,selectedView:d,userResources:b})}function e8(e){let t=null!=e.orgId,r=e.subscription===M.Qh.INCOMPLETE||e.subscription===M.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!t&&!r,pro_team:r,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}}class e6 extends a.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.setScrollContainer=e=>{this.scrollContainer=e},this.scrollContainerRef=a.createRef(),this.isMovePageToNewFile=(0,l.k)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(O.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(O.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(e4);if((0,Z.NB)(t))return;let{userResources:r}=this.props.userResources;switch(e.keyCode){case m.Uz.ESCAPE:this.onClose();break;case m.Uz.UP_ARROW:this.props.dispatch(O.zv());break;case m.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(O.TL({upperBound:this.props.fileMove.indexCount}));break;case m.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===z.b.NEW_FOLDER_TEAM){let t=e.id,a=r.teams[t];this.props.dispatch((0,k.SX)({where:this.props.modalId.type,team:{...(0,S.Ws)(a),canEdit:!0,canEditTeamContents:!0,canAdmin:a.canAdmin}}))}else if(e.type===z.b.FOLDER_ROW){let t=r.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(D.Lo()):this.props.dispatch(D.Ce())},this.openOrgView=e=>{this.props.dispatch(A.$T({view:"org",orgId:e,orgViewTab:q.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(D.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==z.A.FILE_IMPORT){var r,a,n;this.onClose();let t=this.props.fileMoveData.type===z.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;r=this.props.fileMoveData.page_id,a=e.id,n=this.state.newFileName,(0,et.ED)("startMovePagesJob","Send request to start move pages job."),er.Ay.post(`/api/files/${t}/move_pages`,{folder_id:a,page_ids:r,file_name:n}).catch(e=>{(0,et.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,et.ED)("startMovePagesJob","Move pages job successfully started.")});return}let o=this.props.fileMoveData;if(o.type===z.A.FILE&&o.file.is_team_template&&(0,W.VA)(e)){this.props.dispatch(D.to({type:ei.X0,data:{title:(0,x.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,x.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,x.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case z.A.FILE:this.moveFile(e,t.file);break;case z.A.REPO:this.moveRepo(e,t.repo);break;case z.A.FILE_IMPORT:for(let r of t.files)this.props.dispatch((0,$.z)({name:r.name,blob:new Blob([r.contents]),folderId:e.id}));break;default:(0,o.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(D.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(F.z({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(F.z({files:[],repos:[t],folder:e,team:r,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,x.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===z.A.FILE_IMPORT)return 1===e.files.length?(0,x.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,x.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===z.A.FILE?e.file.name:e.repo.name;return(0,x.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===z.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(A.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})},this.renderViewerUpgradeAwarenessBanner=(e,t,r)=>{if(!this.props.userResources.loaded)return null;let{userResources:n}=this.props.userResources;if(!(0,W.VA)(t)||(0,W.VA)(r))return null;let o=this.props.fileMoveData.type===z.A.FILE?this.props.fileMoveData.fileKey:"";if(n.orgId){if(n.org?.k12GoogleOrg)return null;let t=n.orgUsers[n.orgId],r=t&&n.user?t[n.user.id]:null,l=!1;if(e===M._Y.DESIGN?l=r?.design_paid_status===M.El.STARTER:e===M._Y.WHITEBOARD&&(l=r?.whiteboard_paid_status===M.El.STARTER),l)return a.createElement(eo.n,{planName:this.props.currentOrg?.name,planType:Y.O.ORG,planId:n.orgId,fileKey:o,upgradeReason:el.X.MOVE_DRAFT})}else{let t=r?.teamId,l=t?n.teams[t]:null;if(l&&e8(l).pro_team){let t=!1;if(e===M._Y.DESIGN?t=l.currentTeamUser?.designPaidStatus===M.Zf.STARTER:e===M._Y.WHITEBOARD&&(t=l.currentTeamUser?.whiteboardPaidStatus===M.Zf.STARTER),t)return a.createElement(eo.n,{planName:l.name,planType:Y.O.TEAM,planId:l.id,fileKey:o,upgradeReason:el.X.MOVE_DRAFT})}}return null}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(O.qb({fileMove:this.props.fileMove})),this.props.dispatch(O.YG({isSearchFocused:!0})));let r=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==r){if(!this.scrollContainerRef.current||-1===r)return;let e=this.props.fileMove.folderRows[r].positionTop,t=this.scrollContainer.getScrollTop(),a=this.scrollContainerRef.current.clientHeight;e<t?0===r?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+e1>t+a&&(null!=this.props.fileMove.indexCount&&r===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-a+e1))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(O.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let r=e.folders[t.data.folderId];return r?a.createElement(tn,{folder:r,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,r;let n=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return a.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},a.createElement("div",{className:eW},a.createElement(h.a_,{className:"file_move--spinner--eDfAF"})));let{userResources:s}=this.props.userResources,c=e7(this.props.fileMoveData),d=null==c?null:s.folders[c],m=this.getFocusedFolder();e=this.isMovePageToNewFile?null!=m&&0!==this.state.newFileName.length:this.props.fileMoveData.type===z.A.FILE_IMPORT?null!=m:null!=m&&null!=d&&m.id!==d.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&!(0,l.k)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==z.A.FILE_IMPORT,p=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&(0,l.k)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==z.A.FILE_IMPORT,f=this.props.fileMoveData;switch(f.type){case z.A.FILE:t={fileKey:f.fileKey,fileTeamId:f.file&&f.file?.team_id,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=f.file.editor_type??M._Y.DESIGN;break;case z.A.REPO:t={repoId:f.repoId,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=M._Y.DESIGN;break;case z.A.FILE_IMPORT:t={},r=null;break;default:(0,o.xb)(f)}return a.createElement(L.fu,{name:J.e0.FILE_MOVE_MODAL,properties:t},a.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},_?a.createElement("div",{className:"file_move--mainZeroState--HWbCa file_move--main--fz-As",id:e4},a.createElement("div",{className:"file_move--zeroStateModal--yrur1"},a.createElement("div",{style:{paddingTop:"100px"}},(0,x.tx)("file_browser.file_move.zero_state")),this.props.currentOrg&&a.createElement("div",{className:T.s.pt20.$},a.createElement(E.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,x.t)("file_browser.file_move.view_workspaces"):(0,x.t)("file_browser.file_move.view_teams"))))):a.createElement("div",{className:eW,id:e4},this.isMovePageToNewFile?a.createElement(en,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):a.createElement(a.Fragment,null,r&&d&&m&&!this.props.isBillingRemodelEnabled&&this.renderViewerUpgradeAwarenessBanner(r,d,m),a.createElement("div",{className:"file_move--searchWrapperNew--fSvPz"},a.createElement(e9,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:s}))),a.createElement("div",{className:eV}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&a.createElement(a.Fragment,null,this.props.fileMoveData.displayBanner,a.createElement("div",{className:eV})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?a.createElement("div",{className:"file_move--emptyModal--o-ei-"},(0,x.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})):a.createElement(y.P,{width:n,className:"file_move--teamSectionBody--jIFZO",ref:this.setScrollContainer,scrollContainerRef:this.scrollContainerRef,onScroll:this.onScroll},a.createElement(tr,{componentMountedAt:this.componentMountedAt,creatingNewFolder:this.props.creatingNewFolder,currentFolderId:c,dispatch:this.props.dispatch,fileEditorType:r,fileMove:this.props.fileMove,folders:s.folders,indexOffsets:this.props.fileMove.indexOffsets,onDoubleClick:this.moveToSelectedFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,orgId:s.orgId,rolesByTeamId:s.roles.byTeamId,selectedView:this.props.selectedView,teamNameMaxWidth:n-88,teams:s.teams})),a.createElement("div",{className:"file_move--footer--pBClJ"},a.createElement(E.nR,{onClick:this.onClose},(0,x.tx)("modal.cancel")),a.createElement(E.vd,{disabled:!e,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,x.t)("file_browser.file_move.move")))),this.renderDropdown(),a.createElement(to,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e6.displayName="FileMoveModal";class e9 extends a.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(O.xH()),this.props.dispatch(O.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(O.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eO({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case m.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(O.TL({upperBound:this.props.folderCount}));break;case m.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(O.zv());break;case m.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eO({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(D.Ce()),this.props.dispatch(O.xH());break;case m.Uz.TAB:t&&t.blur(),this.props.dispatch(O.xH());break;case m.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=a.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return a.createElement("div",{className:"file_move--searchContainer--VZId9"},a.createElement("div",{className:e$},a.createElement(w.B,{svg:eX.A})),a.createElement(b.L,{ref:this.searchInputRef,placeholder:(0,x.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--No-wL":"file_move--searchInputEmptyNew--Gv7eB file_move--searchInputNew--No-wL",value:this.props.searchQuery,onChange:this.onChange}))}}function te(e){let{team:t,teamId:r}=e,[n,{onMouseOver:o,onMouseOut:l}]=(()=>{let[e,t]=(0,a.useState)(!1),r=(0,a.useCallback)(()=>t(!0),[t]),n=(0,a.useCallback)(()=>t(!1),[t]);return(0,a.useMemo)(()=>[e,{onMouseOver:r,onMouseOut:n}],[e,r,n])})(),i=(0,u.Rs)(H.bel,{teamId:t?.id??""},{enabled:!!t?.id}),s=i.data?.team?.teamFileCounts||V.Cz,c=e.fileNotInTeam&&e.fileEditorType&&t&&!(0,V.aW)(t,{type:V.sK.ADD_FILE,editorType:e.fileEditorType,teamFileCounts:s});return a.createElement(a.Fragment,null,e.showTitle&&a.createElement("div",{className:"file_move--teamTitleNew--1hv9- text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:o,onMouseLeave:l},(r===O.iK||r===O.HK)&&a.createElement("div",{className:e$},a.createElement(w.B,{svg:eZ.A})),a.createElement("div",{className:"file_move--teamTitleRow--hMU87"},a.createElement("div",{className:"file_move--teamName--Jmsoa"},a.createElement("div",{className:"file_move--teamTitleText--4XOM- ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},r===O.iK||r===O.HK?(0,x.t)("file_browser.shared_projects"):t.name),c&&a.createElement("div",{className:"file_move--warningIcon--MVFCa"},a.createElement(w.B,{svg:eK.A,"data-tooltip-type":K.Ib.TEXT,"data-tooltip":(0,x.t)("file_browser.file_move.paywall_team_tooltip")}))),n&&t&&!c&&a.createElement("div",{className:"file_move--newProjButton--7b5Xq"},a.createElement(R,{team:t,isBackgroundTransparent:!0,trackingContextName:J.e0.FILE_MOVE_MODAL})))))}function tt(e){let t=(0,a.useRef)(null),[r,o]=(0,a.useState)(!1),l=(0,n.wA)();return(0,a.useEffect)(()=>{!r&&e.isTeamNew&&t.current&&e.hasFolderSection&&(l(O.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),o(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,r,t,l]),a.createElement("div",{className:e.className,ref:t},e.children)}function tr(e){let{fileMove:t,teams:r,selectedView:n}=e,o=Object.values(r).map(e=>e8(e));return a.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{let o=n!==O.HK,i=n!==O.iK&&n!==O.HK,s=(t.foldersByTeamId?.[n]||[]).length>0;if(!(o||i||s))return null;let c=r[n];if(!c&&!(n===O.iK||n===O.HK)||(0,l.k)().ps_benchmark&&n===O.HK&&!e.orgId)return null;let d=c?new Date(r[n].createdAt):void 0,m=d&&d>e.componentMountedAt,u=t.indexOffsets[n]+1,_=!!e.currentFolderId&&n!==e.folders[e.currentFolderId]?.teamId;return a.createElement(tt,{className:"file_move--teamSection--mI5yE",isTeamNew:m,firstFolderFocusedIndex:u,hasFolderSection:s,key:`Team Section ${n}`},a.createElement(te,{team:c,teamId:n,showTitle:o,isACustomTeam:i,fileNotInTeam:_,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),s&&(t.foldersByTeamId[n]||[]).map((r,o)=>{let l=o+e.indexOffsets[n];return i&&(l+=1),a.createElement(ta,{key:`${r.teamId} ${r.id}`,currentFolderId:e.currentFolderId,focusedFolderIndex:t.focusedIndex,folder:r,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:l,isSearchingFolders:!!t.isSearchResult,onDoubleClick:e.onDoubleClick,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:J.e0.FILE_MOVE_MODAL})}))}),!e.orgId&&a.createElement(eq,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:J.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:o,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}function ta(e){let t=(0,n.wA)(),r=(0,p.n_)(k.mq),o=(a,n)=>{(0,c.sx)("Rename Folder",{trackingContext:e.trackingContextName}),r({folderId:a.id,folderName:n}),t(O.Mn())},i=(t,r)=>{e.onFileMoveContextMenu(r,t)},s=e.folderBeingRenamed===e.folder.id,d=e.focusedFolderIndex===e.index,m=e.folderBeingRenamed?eH:d?"file_move--folderRowWrapperFocusedNew--XWjyz file_move--folderRowWrapper--R5vx1":eH,{folder:u}=e;return a.createElement("div",{className:m,onMouseDown:()=>{t(O.Dp({indexAt:e.index}))},key:`${u.teamId} ${u.id}`,onContextMenu:e=>i(u,e),onDoubleClick:()=>{s||e.onDoubleClick()}},s?a.createElement("div",{className:eG},a.createElement(v.p,{key:`input ${u.id}`,className:"file_move--renameInput--WL-5T",placeholderValue:(0,W.CI)(u),submit:e=>o(u,e),cancel:()=>{t(O.Mn())}})):((t,r)=>{let n=e2(t)&&e.isSearchingFolders,o=e.focusedFolderIndex&&e.focusedFolderIndex>-1?r:e.currentFolderId===t.id,i=(0,l.k)().ps_benchmark&&(0,W.jd)(t)?e0.A:eJ.A;return a.createElement("div",{className:eG},a.createElement("div",{className:e$},a.createElement(w.B,{svg:o?eY.A:i})),a.createElement("span",{className:"file_move--folderName--YbDNz ellipsis--ellipsis--Tjyfa"},(0,W.CI)(t)),a.createElement("div",{className:e$},n&&a.createElement(w.B,{svg:eQ.A})))})(u,d))}e9.displayName="FileMoveSearch";class tn extends a.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(O.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,r=e5(this.props.selectedView);return a.createElement(g.ms,{className:"file_move--fileMoveContextMenu--47Rjw",style:this.props.dropdownShown.data.position},a.createElement(g.c$,{disabled:!t,onClick:this.renameFolder},(0,x.tx)("file_browser.file_move.context_menu_rename")),a.createElement(g.wv,null),a.createElement(g.c$,{href:(0,C.EE)(e.id,e.orgId),target:r},(0,x.tx)("file_browser.file_move.context_menu_show_in_files")))}}tn.displayName="FileMoveDropdown";class to extends a.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return a.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}to.displayName="FileMoveHiddenDiv"},574133:(e,t,r)=>{r.r(t),r.d(t,{MoveDraftToProjectInterstitialModal:()=>v});var a=r(848318),n=r(716544),o=r(157907),l=r(536384),i=r.n(l),s=r(991371),c=r(145015),d=r(442313),m=r(496431),u=r(449737),_=r(405866),p=r(155651),f=r(117592),g=r(289198),E=r(871493);function v(e){let t=(0,n.wA)(),r=(0,o.k)().ps_benchmark,l=()=>{t(_.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(u.Lo())};return a.createElement(p.fu,{name:"MoveDraftToProjectInterstitialModal"},a.createElement(f.aF,{title:r?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:g.wN,className:g.KP,size:320,popStack:!0,disableClickOutsideToHide:!0},a.createElement(s.Jn,{className:i()(E.J_,E.BQ),onClick:l}),a.createElement("span",null,r?(0,d.tx)("file_browser.draft_to_project.body.plan_spaces"):(0,d.tx)("file_browser.draft_to_project.body.seat_rename"),a.createElement("br",null)),a.createElement("div",{className:i()(g.v0,g.hF)},a.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},a.createElement(c.tM,null,(0,d.tx)("general.learn_more"))),a.createElement(c.vd,{className:g.pL,onClick:()=>{l(),(0,m.h)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData,e.bannerToDisplay)}},(0,d.tx)("file_browser.draft_to_project.move")))))}},697411:(e,t,r)=>{r.d(t,{cx:()=>o});var a=r(41015),n=r(729411);r(17178);let o=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(3455),r.e(6514),r.e(8077),r.e(9215),r.e(7363),r.e(7824),r.e(785),r.e(5541),r.e(3890),r.e(6436),r.e(4297),r.e(1092),r.e(8204),r.e(7585),r.e(9321),r.e(8187),r.e(3436),r.e(8717)]).then(r.bind(r,17178)).then(e=>e.default),{loading:()=>null,error:a.H4.NONE,componentName:"FileBrowserOverlays"})},822273:(e,t,r)=>{r.r(t),r.d(t,{EduUpgradeModal:()=>E});var a=r(848318),n=r(716544),o=r(145015),l=r(442313),i=r(651631),s=r(61485),c=r(110979),d=r(449737),m=r(194546),u=r(155651),_=r(841747),p=r(710665),f=r(314272);function g({handleClose:e}){let t=(0,n.wA)(),r=a.useCallback(()=>{e(),t((0,c.Dw)({isEduTeam:!0}))},[t,e]);return a.createElement(o.Ph,{className:"edu_upgrade_modal--createTeamLink--CbJUX edu_upgrade_modal--link--Toy9f",onClick:r,trusted:!0},(0,l.tx)("edu.or_create_a_new_team"))}function E(){let e=(0,_.FC)(),t=(0,n.wA)(),r=(0,s.sx)(),E=a.useCallback(()=>{t(d.Ce())},[t]),v=a.useCallback(e=>{E(),t(m.Vm({teamId:e.id}))},[t,E]),b=a.useMemo(()=>(0,p.Kg)(e),[e]);return a.useLayoutEffect(()=>{0!==b.length||r||(E(),t((0,c.Dw)({isEduTeam:!0})))},[t,b.length,E,r]),a.createElement(u.fu,{name:"Edu Team Upgrade Modal"},a.createElement(f.XV,{title:(0,l.t)("edu.upgrade_teams.headline"),onClose:E},a.createElement("div",{className:"edu_upgrade_modal--container--i-0VV"},a.createElement("p",{className:"edu_upgrade_modal--bodyText--BXu7I"},(0,l.tx)("edu.upgrade_teams.body",{link:a.createElement(o.Ph,{className:"edu_upgrade_modal--link--Toy9f",href:"/pricing",target:"_blank",trusted:!0},(0,l.tx)("edu.upgrade_teams.body_link_text"))}),b.length>1&&a.createElement(a.Fragment,null," ",(0,l.tx)("edu.upgrade_teams.body_multiple_teams"))),a.createElement(i.I,{eligibleTeams:b,selectTeam:v,showEditorCount:!1,customUpgradeText:(0,l.t)("general.next")}),!r&&a.createElement(g,{handleClose:E}))))}},638451:(e,t,r)=>{r.r(t),r.d(t,{DowngradeSurveyModal:()=>L,DowngradeSurveyModalAdmin:()=>P,DowngradeSurveyModalLeaveTeam:()=>M});var a=r(848318),n=r(442313),o=r(729411),l=r(464012);let i="team-admin-confirm-downgrade",s=o.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(231),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(8355),r.e(9567),r.e(6739),r.e(3455),r.e(6514),r.e(8077),r.e(9215),r.e(7363),r.e(7824),r.e(785),r.e(5541),r.e(3890),r.e(6436),r.e(4297),r.e(1092),r.e(8204),r.e(7585),r.e(9321),r.e(8187),r.e(3436),r.e(8717)]).then(r.bind(r,18660)).then(e=>e.ConfirmDowngradeModal),(0,l.Ij)("ConfirmDowngradeModal"));(0,l.qK)(i,s);var c=r(449737),d=r(106067),m=r(716544),u=r(145015),_=r(834996),p=r(314272);function f({id:e,label:t,children:r,onChange:n}){let[o,l]=a.useState(!1);return a.createElement("fieldset",{name:e},a.createElement("div",{className:"survey_option--inputContainer---R-Fh"},a.createElement(u.tB,{id:e,checked:o,onChange:e=>{l(!o),n&&n(e)}}),a.createElement("label",{className:"survey_option--label--NqXEk",htmlFor:e},t)),o&&r&&a.createElement("div",{className:"survey_option--subContainer--Omjmy"},r))}var g=r(425642),E=r(536384),v=r.n(E),b=r(182059),h=r(963570),y=r(678290);function w(e){let[t,r]=a.useState(""),n=e=>{r(e.target.value)};return e.textarea?a.createElement(y.v,{value:t,onChange:n,...e}):a.createElement(u.ks,{id:e.id,className:"survey_text_input--input--Q1W-9",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let T="downgrade_survey_modal_component_v2--surveyQuestions--E5X6t",x="downgrade_survey_modal_component_v2--researchContact--qGc3V",I="downgrade_survey_modal_component_v2--hiddenInput--04h5p",k="downgrade_survey_modal_component_v2--radio--xvUsz",S=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function C({id:e,shorthand:t}){return a.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--CoFln"},a.createElement("p",null,(0,n.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)),a.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--xhQpy"},t))}let N=[{id:"too_expensive",value:"Too expensive",children:a.createElement(function(){let e="other_currency",[t,r]=a.useState(""),o=e=>{r(e.currentTarget.id)},l=[...S.map(({id:e,shorthand:t})=>a.createElement(b.c$,{id:e,key:e,onClick:o},a.createElement(C,{id:e,shorthand:t}))),a.createElement(b.wv,{key:"separator"}),a.createElement(b.c$,{id:e,onClick:o,key:e},(0,n.tx)("downgrade_survey.survey_option.too_expensive.other_currency"))];return a.createElement("fieldset",null,a.createElement(f,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},a.createElement("fieldset",{className:v()({"downgrade_survey_modal_component_v2--currencySelector__other--khpqx":t===e})},a.createElement(b.Ve,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:l}),a.createElement("input",{id:"currency",className:I,readOnly:!0,value:t}),t===e&&a.createElement(w,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),r=t.find(e=>"currency_conversion"===e.id),a=t.find(e=>"currency"===e.id),n=a?.value,o=t.find(e=>"currency_input"===e.id),l=o?.value||n||void 0;return{currencyConversion:r?.checked,currency:l}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:a.createElement(function(){return a.createElement("fieldset",null,a.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--HfKNO"},(0,n.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")),a.createElement(w,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:a.createElement(function(){let[e,t]=a.useState("");return a.createElement(a.Fragment,null,a.createElement(h.z,{value:e,onChange:e=>t(e)},a.createElement(h.Z,{className:k,value:"Starter plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")),a.createElement(h.Z,{className:k,value:"Organization plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")),a.createElement(h.Z,{className:k,value:"Enterprise plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")),a.createElement(h.Z,{className:k,value:"Education plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.education_plan"))),a.createElement("input",{id:"new_plan",className:I,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],R={id:"other",value:"Other",children:a.createElement(function(){return a.createElement(w,{className:"downgrade_survey_modal_component_v2--otherTextArea--pS5MZ",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},A=(0,g.k4)(N).concat(R);var O=r(639088),F=r(249555);function D({cancelText:e,onSubmit:t}){let[r,o]=a.useState([]),l=e=>{let{id:t}=e.currentTarget;r.includes(t)?o(r.filter(e=>e!==t)):o([...r,t])},i=(0,m.wA)(),s=(0,_._6)().teamId,d=()=>{i(c.Ce())};return a.createElement(p.XV,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:d,dataTestId:"downgrade-survey-modal"},a.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--tYceI",onSubmit:e=>{e.preventDefault();let a=Array.from(e.currentTarget.getElementsByClassName(T)[0].getElementsByTagName("fieldset")),n=r.map(e=>{let t=a.find(t=>t.name===e),{value:r,getSubOptions:n}=A.find(t=>t.id===e);return{reason:r,...n&&n(t)}});t({teamId:s,canContact:e.currentTarget.getElementsByClassName(x)[0].getElementsByTagName("input")[0].checked,selectedOptions:n})}},a.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--9HRcF"},a.createElement("fieldset",{className:T},a.createElement("legend",null,(0,n.tx)("downgrade_survey.what_made_you_cancel_your_plan")),!r.length&&a.createElement("p",{className:F.Q},(0,n.tx)("downgrade_survey.select_one")),A.map(({id:e,children:t})=>a.createElement(f,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:l},t))),a.createElement("fieldset",{className:x},a.createElement("legend",null,(0,n.tx)("downgrade_survey.research_contact")),a.createElement(f,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")}))),a.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Y15LH"},a.createElement(u.tM,{className:O.Lu,type:"button",onClick:d},e),a.createElement(u.vd,{type:"submit",disabled:!r.length,className:O.pL,autoFocus:!1},(0,n.tx)("downgrade_survey.continue")))))}function L(e){let t="admin"===e.context?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team");return a.createElement(D,{onSubmit:t=>{let r=e.modalShown?.data.teamId,a=e.modalShown?.data.billingEndDate;if("admin"===e.context)e.dispatch(c.to({type:i,data:{teamId:r,billingEndDate:a,exitSurveyData:t}}));else if("leave-team"===e.context){let t=e.teams[r];e.dispatch(d.yH({team:t,userInitiated:!0})),e.dispatch(c.Ce())}},cancelText:t})}function P(e){return a.createElement(L,{...e,context:"admin"})}function M(e){return a.createElement(L,{...e,context:"leave-team"})}},456785:(e,t,r)=>{r.r(t),r.d(t,{FolderBatchAbandonedDraftDeleteConfirmModal:()=>m});var a=r(848318),n=r(716544),o=r(224223),l=r(653959),i=r(280198),s=r(442313),c=r(57589),d=r(117592);function m({folders:e}){let t=(0,n.wA)(),r=(0,l.n_)(c.U),m=e=>{e.forEach(e=>{(0,o.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),r({folderIds:e.map(e=>e.id)}).catch(()=>{t(i.s.error((0,s.t)("file_browser.api_folder.error_when_deleting")))})};return a.createElement(d.Rw,{confirmationTitle:(0,s.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,s.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{m(e)}},(0,s.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length}))}},60370:(e,t,r)=>{r.r(t),r.d(t,{FolderMoveModal:()=>F});var a=r(848318),n=r(716544),o=r(536384),l=r.n(o),i=r(44509),s=r(493554),c=r(145015),d=r(575492),m=r(166365),u=r(442313),_=r(249913),p=r(449737),f=r(155651),g=r(592845),E=r(57589),v=r(841747),b=r(635547),h=r(746948),y=r(694253),w=r(920963),T=r(183905),x=r(980753),I=r(229424),k=r(314272),S=r(184353);let C="folder_move--iconContainer--nXjIY file_move--iconContainer--2ExyP";var N=r(555288),R=r(7452),A=r(663128),O=r(254490);function F(e){let t,r;let o=(0,n.wA)(),l=(0,n.d4)(e=>e.currentUserOrgId),_=(0,n.d4)(e=>null!=l?e.orgById[l]:null),y=(0,s.Rs)(b.AbW,{currentOrgId:l,currentTeamId:null}),C=(0,n.d4)(t=>t.folders[e.folderId]),[R,O]=(0,a.useState)(void 0),[F,P]=(0,a.useState)(void 0),M="loaded"===y.status?{...y.data.currentUser}:null,B=g.h.useTrackingContext({trigger:w.b.FOLDER_MOVE_MODAL}),U={},j=[],W=(0,v.FC)();if(M){let e=[];(M.teamRoles??[]).forEach(t=>{if(t.team?.orgId===l&&!t.team?.deletedAt&&!t.pending){if(t.team?.id===C?.team_id){r=t;return}e.push(t),t.team?.workspace?.id?(U[t.team.workspace?.id]=U[t.team.workspace?.id]??[],U[t.team.workspace?.id].push(t)):t.team&&j.push(t)}});let a=M.baseOrgUser?.workspaceUsers;t=a?.find(e=>e?.isMainWorkspace)?.workspaceId}let $=()=>{o(p.Ce())},H=(e,t)=>{O(e),P(t)},G=(0,a.useCallback)(()=>{if(R&&!F){let e=(0,T.bL)(R?.id,R.orgId);i.Ay.redirect(e,"_blank")}},[R,F]),V=(0,a.useCallback)(e=>{if(!_)return;let t={workspaceId:e??x.O,onSubmitReturnToPrevView:!1};o(p.to({type:S.Uc,data:t}))},[_,o]),z=e=>a.createElement(a.Fragment,null,e.map(e=>a.createElement(L,{team:e.team,key:e.id,selectedTeamId:R?.id,onSelectTeam:H,permissionsState:W}))),q=e=>a.createElement(L,{team:e.team,key:e.id,selectedTeamId:R?.id,isCurrentTeam:!0,permissionsState:W,onSelectTeam:H});if(!C)return null;let Y=Object.keys(U).length>0,K=R&&r&&r.team.id===R.id;return a.createElement(f.fu,{name:I.e0.FILE_MOVE_MODAL,properties:B},a.createElement(k.XV,{title:(0,u.t)("file_browser.folder_move.modal_header",{folderName:C.name}),fixedTop:!0,minWidth:288,maxWidth:288,onClose:$,truncateTitleText:!0},a.createElement("div",{className:"folder_move--main--TkW9w file_move--main--fz-As"},a.createElement(d.P,{className:"folder_move--teamSectionBody--LACBL file_move--teamSectionBody--jIFZO"},a.createElement("div",{className:"folder_move--teamSection---S02k file_move--teamSection--mI5yE"},Y?(function(e,t,r){let a=t?.team?.workspace?.id??null,n=[a];return r&&r!==a&&e[r]&&n.push(r),Object.keys(e).filter(e=>e!==a&&e!==r).sort((t,r)=>{let a=e[t][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",n=e[r][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return a<n?-1:a>n?1:0}).forEach(e=>{n.push(e)}),null!==a&&n.push(null),n})(U,r,t).map(e=>{if(null===e){if(j.length>0)return a.createElement(a.Fragment,{key:"other_teams_key"},a.createElement(D,{headerName:(0,u.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:V,workspaceId:null}),null!=r&&r.team?.workspace?.id==null&&q(r),z(j))}else if(U[e]){let t=U[e],n=t?t[0].team?.workspace??null:null;return a.createElement(a.Fragment,{key:e},a.createElement(D,{headerName:n?.name??"",onCreateNewTeamClick:V,workspaceId:n?.id??null}),null!=r&&r.team?.workspace?.id===e&&q(r),z(t))}}):a.createElement(a.Fragment,null,_&&a.createElement(D,{key:"org_teams_header",headerName:_.name,onCreateNewTeamClick:V,workspaceId:null}),null!=r&&q(r),z(j))),R&&!F&&a.createElement("div",{className:"folder_move--warningContainer--MXpOB"},a.createElement("div",{className:"folder_move--warningSectionIcon--gOcDL"},a.createElement(m.B,{svg:A.A})),a.createElement("div",null,(0,u.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),a.createElement("div",{className:"folder_move--warningCTALink--f74xo",onClick:G,role:"link",tabIndex:0},(0,u.tx)("file_browser.folder_move.view_team"),a.createElement("div",{className:"folder_move--arrowRightIcon--xIk7X"},a.createElement(m.B,{svg:N.A})))))),a.createElement("div",{className:"folder_move--footer--jcEsZ file_move--footer--pBClJ"},a.createElement(c.nR,{onClick:$},(0,u.tx)("modal.cancel")),a.createElement(c.vd,{onClick:()=>{null!=R&&C?o((0,E.Nr)({folder:(0,h.Bp)(C),team:R,onSuccess:$})):$()},disabled:void 0===R||!F||!!K},(0,u.tx)("file_browser.folder_move.move_project"))))))}function D(e){let[t,r]=(0,a.useState)(!1);return a.createElement("div",{className:"folder_move--teamsHeaderRow--qZfbl text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>r(!0),onMouseLeave:()=>r(!1)},a.createElement("div",null,e.headerName),t&&a.createElement(_.f,{data_tooltip:(0,u.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,u.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}}))}function L(e){let{team:t}=e;if(null==t)return a.createElement(a.Fragment,null);let r=l()(["folder_move--teamTitle--PwZow file_move--teamTitle--1IL8S text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?"folder_move--selectedTeamTitle---C1u4":""]),n=(0,y.canEditTeam)(t.id,e.permissionsState);return a.createElement("div",{className:r,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,n)},role:"button",tabIndex:0},a.createElement("div",{className:C},a.createElement(m.B,{svg:e.isCurrentTeam?R.A:O.A})),a.createElement("div",{className:"folder_move--teamTitleRow--6MpKM file_move--teamTitleRow--hMU87"},a.createElement("div",{className:"folder_move--teamName--fvmi0 file_move--teamName--Jmsoa"},t.name)),e.selectedTeamId===t.id&&!n&&a.createElement("div",{className:C},a.createElement(m.B,{svg:A.A})))}},496331:(e,t,r)=>{r.r(t),r.d(t,{FolderPermanentlyDeleteConfirmModal:()=>v});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(575013),s=r(356505),c=r(224223),d=r(653959),m=r(17755),u=r(280198),_=r(442313),p=r(572977),f=r(57589),g=r(92537),E=r(667360);function v(e){var t;let r=(0,n.wA)(),v=o.hS(e),b=(0,d.n_)(f.Q4),h=(0,E.x)(e.folder.id,!0),y=a.createElement("span",{className:m.s.fontBold.$},(0,g.CI)(e.folder)),w=(0,_.t)("file_browser.delete_project.delete_project"),T="loaded"!==h.status?(0,_.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:y}):0===(t=h.data)?(0,_.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:y}):(0,_.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:y,numFiles:(0,p.t)(t)}),x="loaded"===h.status&&0===h.data?(0,_.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,_.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return a.createElement(l.bL,{manager:v,width:"lg"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,(0,_.tx)("file_browser.trash_project.delete_project_forever"))),a.createElement(i.nB,null,a.createElement("div",{className:m.s.mb16.$},T),a.createElement("div",null,x)),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,_.tx)("modal.cancel")),a.createElement(s.$n,{variant:"destructive",onClick:()=>{(0,c.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),b({folderId:e.folder.id}).catch(()=>{r(u.s.error((0,_.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()}},w)))))}},557462:(e,t,r)=>{r.r(t),r.d(t,{FolderTrashConfirmModal:()=>x});var a=r(848318),n=r(716544),o=r(445777),l=r(776402),i=r(575013),s=r(468189),c=r(777611),d=r(420235),m=r(356505),u=r(224223),_=r(653959),p=r(482675),f=r(17755),g=r(280198),E=r(442313),v=r(106483),b=r(572977),h=r(449737),y=r(57589),w=r(92537),T=r(667360);function x(e){let{folder:t}=e,r=l.hS(e),n=(0,T.N)(t.id),o="loaded"===n.status?a.createElement(I,{...e,numFiles:n.data.fileCount,hasPublishedSite:n.data.publishedSiteCount>0}):a.createElement(i.nB,{padding:{top:"1rem",bottom:"1rem"}},a.createElement("div",{className:f.s.flex.justifyCenter.$,"data-testid":"loading-spinner-container"},a.createElement(s.k,null)));return a.createElement(c.bL,{manager:r,width:"lg",height:"fixed"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,(0,E.t)("file_browser.trash_project.move_project_to_trash"))),o))}function I(e){let t=(0,n.wA)(),r=(0,d.X)(),{folder:l,numFiles:s,hasPublishedSite:c}=e,T=a.createElement("span",{className:f.s.fontBold.$},(0,E.tx)("file_browser.tool_bar.trash")),x=(e=>{switch(e){case 0:return(0,E.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,E.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,E.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,b.t)(e)})}})(s),I=a.createElement("span",{className:f.s.fontBold.$},(0,w.CI)(l)),k=(e=>{switch(e){case 0:return(0,E.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:I});case 1:return(0,E.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:I});default:return(0,E.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:I,numFiles:(0,b.t)(e)})}})(s),S=(0,_.n_)(y.Ct),C=e=>{(0,u.sx)("Folder Trash Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),S({folderId:e.id}).catch(()=>{t(g.s.error((0,E.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t(h.Ce())};return a.createElement(a.Fragment,null,a.createElement(i.nB,null,e.folderState&&a.createElement("div",{className:f.s.mb12.$},a.createElement(p._,{dataTestId:"trash-folder-warning-banner",color:p.S.ERROR,text:(e=>{switch(e){case v.cm.PENDING_ASSET_TRANSFER:return(0,E.tx)("file_browser.trash_project.warning.pending_asset_transfer");case v.cm.PENDING_RESOURCE_CONNECTION:return(0,E.tx)("file_browser.trash_project.warning.pending_resource_connection");case v.cm.ACTIVE_RESOURCE_CONNECTION:return(0,E.tx)("file_browser.trash_project.warning.active_resource_connection");default:(0,o.xb)(e)}})(e.folderState)})),a.createElement("div",{className:f.s.mb12.$},k),c&&a.createElement("div",{className:f.s.mb12.$},(0,E.tx)("file_browser.trash_project.published_site_warning")),a.createElement("div",null,(0,E.tx)("file_browser.trash_project.description_restore",{trashStyled:T}))),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(m.$n,{variant:"secondary",onClick:()=>{e.onClose()},ref:r},(0,E.t)("modal.cancel")),a.createElement(m.$n,{variant:"destructive",onClick:()=>C(l)},x))))}},238669:(e,t,r)=>{r.r(t),r.d(t,{ChangeAnnualPlanModal:()=>A,ChangeAnnualPlanRow:()=>R,ConfirmCancelAnnualPlanModal:()=>O});var a=r(848318),n=r(716544),o=r(379338),l=r(653959),i=r(145015),s=r(280198),c=r(442313),d=r(8509),m=r(449737),u=r(194546),_=r(155651),p=r(95646),f=r(171063),g=r(595919),E=r(871117),v=r(661780),b=r(376780),h=r(511231),y=r(710665),w=r(572699),T=r(668249),x=r(922030),I=r(993421),k=r(143983),S=r(117592),C=r(479313);function N({currency:e,teamId:t}){let r=g.Oq.exclude([f.ud.DEV_MODE]).dict(t=>({currency:e,billableProductKey:t,tier:I.Ju.PRO,renewalTerm:I.IX.MONTH,unit:I.IX.MONTH})),a=(0,p.ic)(r,{planParentId:t,planType:b.OL.TEAM},p.Fq.ADMIN_SETTINGS),[n]=(0,l.mI)(a);if(null===n.data)throw Error("Price data is null");return n.data}function R(e){return a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.number_of_editors.seat_rename",{productType:(0,k.E)((0,E.vc)(e.editorType))}),a.createElement(i.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:y.m,value:e.tempNumEditors,onChange:t=>{let r=t.target.value;e.setTempEditorsValue(parseInt(r))}}))}function A(){let e=(0,x.cD)(),t=(0,v.TA)(),r=(0,n.d4)(e=>e.teamBilling.summary),l=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),i=N({currency:r.currency,teamId:e}),p=()=>{try{if(r?.annual_subscription)return r?.annual_subscription||void 0;return}catch(e){return}},g=p(),w=g?.whiteboard_quantity||0,[T,I]=a.useState(w),[A,O]=a.useState(g?.design_quantity||g?.quantity||0),F=(0,n.wA)(),D=(t,r)=>{F(u.MV({teamId:e,annualQuantity:t,annualWhiteboardQuantity:r}))},L=!!g?.trial_end&&!!(0,y.mt)(g.trial_end),P=g?(0,c.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(g.current_period_end)}):(0,c.t)("change_annual_plan_modal.unknown_start_date"),M=L?(0,c.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:P}):(0,c.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:P});return a.createElement(_.fu,{name:"Change Annual Plan Modal",properties:{teamId:e,userId:t??void 0}},a.createElement(S.Rw,{confirmationTitle:M,confirmText:(0,c.t)("change_annual_plan_modal.confirm_text"),onConfirm:()=>{isNaN(A)||isNaN(T)||A<0||T<0||0===A&&0===T?F(s.s.error((0,c.t)("change_annual_plan_modal.invalid_seats_error"))):A+T>y.m?(F(s.s.error(a.createElement("div",null,(0,c.tx)("change_annual_plan_modal.contact_support_to_purchase_more_seats_error",{maxAnnualSubscriptions:y.m,contactSupportLink:a.createElement("a",{href:`mailto:${(0,o.W4)()}`},(0,c.t)("change_annual_plan_modal.contact_support_link"))})))),O(p()?.design_quantity||p()?.quantity||0),I(p()?.whiteboard_quantity||0)):T+A>100?F(m.to({type:d.Mv,data:{numAnnualEditors:A+T,onConfirm:()=>{D(A,T)}}})):F(u.MV({teamId:e,annualQuantity:A,annualWhiteboardQuantity:T}))},onCancel:()=>{F(m.Ce())},dontClose:!0,disableConfirm:l,trackedConfirmationProperties:{teamId:e,userId:t??void 0,monthly_quantity_design:A,monthly_quantity_figjam:T}},a.createElement("br",null),(0,c.tx)("change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"),a.createElement("br",null),a.createElement("br",null),(()=>{let e=r.currency,t=new h.vr(e),n=i[f.ud.DESIGN].amount,o=i[f.ud.FIGJAM].amount;return a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.instructions.seat_rename",{monthlyEditorCost:t.formatMoney(n,{showCents:!1}),editorProduct:(0,k.E)(E.Te.DESIGN),monthlyFigjamCost:t.formatMoney(o,{showCents:!1}),figJamProduct:(0,k.E)(E.Te.WHITEBOARD)}))})(),a.createElement("br",null),a.createElement("br",null),a.createElement(R,{editorType:b._Y.DESIGN,tempNumEditors:A,setTempEditorsValue:e=>O(e),dispatch:F}),a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null),a.createElement(R,{editorType:b._Y.WHITEBOARD,tempNumEditors:T,setTempEditorsValue:e=>I(e),dispatch:F})),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{className:"change_annual_plan_modal--link--n0jw2 blue_link--blueLink--9rlnd",onClick:()=>{F(m.to({type:C.V}))}},L?(0,c.t)("change_annual_plan_modal.remove_annual_plan"):(0,c.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}function O(){let e=(0,w.NP)({component:"ConfirmCancelAnnualPlanModal",migrationGroup:T.L.GROUP_5});if(!e)throw Error("Team is undefined");let t=(0,n.d4)(e=>e.teamBilling.summary.currency),r=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),o=N({currency:t,teamId:e}),l=(0,n.wA)(),i=new h.vr(t),s=o[f.ud.DESIGN].amount,d=o[f.ud.FIGJAM].amount;return a.createElement(S.Rw,{title:(0,c.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,c.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,c.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{l(u.MV({teamId:e,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{l(m.to({type:C.X,data:{}}))},dontClose:!0,disableConfirm:r},a.createElement("br",null),a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_text.seat_rename",{monthlyEditorCost:i.formatMoney(s),monthlyFigJamEditorCost:i.formatMoney(d)})),a.createElement("br",null),a.createElement("br",null),(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_subtext"))}},339857:(e,t,r)=>{r.r(t),r.d(t,{TeamChangePaymentModal:()=>y});var a=r(848318),n=r(716544),o=r(157907),l=r(536384),i=r.n(l),s=r(446934),c=r(145015),d=r(473889),m=r(17755),u=r(442313),_=r(449737),p=r(903579),f=r(834111),g=r(977508),E=r(314272),v=r(93151),b=r(559083);function h({currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:l,isReactivating:h,canSeeBillingAddressExp:y}){let w=h?(0,u.t)("change_payment.success.successfully_reactivated_subscription"):(0,u.t)("change_payment.success.successfully_updated_your_payment_method"),T=(0,n.d4)(e=>(0,f.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:g.Iv.SETTINGS})),{createPaymentElement:x,unmountPaymentElement:I,savePayment:k,billingAddress:S,updateBillingAddress:C,nameOnPaymentMethod:N,setNameOnPaymentMethod:R,paymentMethodType:A,error:O}=(0,p.Op)({setupIntentParams:{redirect_url:T,subtotal_estimate:l,success_message:w,currency:e},paymentFlowSource:p.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:r,currency:e,canSeeBillingAddressExp:y,isCheckout:!1}),[F,D]=a.useState(!1),[L,P]=a.useState(!1),[M,B]=a.useState(window.innerHeight),U=(0,n.wA)(),j=O?.code===p.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,W=()=>U(_.Ce());(0,s.P)(({height:e})=>{B(e)});let $=async e=>{e&&e.preventDefault(),P(!0),await k(),P(!1)};return a.createElement(E.XV,{title:y?(0,u.t)("change_payment.update_payment_details"):(0,u.t)("change_payment.enter_payment_method"),onClose:W,maxWidth:465,headerSize:"large"},a.createElement("div",{className:i()({[b.$J]:!F,[b.Un]:j})},a.createElement("form",{onSubmit:$},a.createElement("div",{className:b.KJ,style:{maxHeight:Math.min(M-49-65,652)}},F&&y&&a.createElement("div",{className:m.s.mb16.$},a.createElement("label",{htmlFor:"updatePaymentDetails",className:m.s.colorTextSecondary.$},(0,o.k)().locked_pro_team_revamp_ui_enabled?(0,u.tx)("change_payment.update_payment_details_description_default"):(0,u.tx)("change_payment.update_payment_details_description"))),a.createElement(v.F,{billingAddress:S,canSeeBillingAddressExp:y,createPaymentElement:x,error:O,nameOnPaymentMethod:N,paymentElementEventHandlers:{ready:()=>D(!0)},paymentFlow:p.wn.PRO_CHANGE_PAYMENT,paymentMethodType:A,unmountPaymentElement:I,updateBillingAddress:C,updateNameOnPaymentMethod:R})),F&&!j&&a.createElement("div",{className:b.UD},L&&a.createElement(d.kt,{className:b.u1}),a.createElement(c.tM,{onClick:W},(0,u.tx)("change_payment.cancel")),a.createElement(c.vd,{tabIndex:0,type:"submit",disabled:L},(0,u.tx)("change_payment.save")))),j&&a.createElement(c.tM,{onClick:W},(0,u.tx)("change_payment.close_window"))))}function y({currency:e,customerInfo:t,defaultCountry:r,monthlySub:n,annualSub:o,isReactivating:l,canSeeBillingAddressExp:i}){let s=n?.estimated_amount_due??0,c=Math.max(o?.estimated_amount_due??0,s);return a.createElement(h,{currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:c,isReactivating:l,canSeeBillingAddressExp:i})}},947779:(e,t,r)=>{r.r(t),r.d(t,{ChangeVatGstIdModal:()=>v});var a=r(848318),n=r(716544),o=r(536384),l=r.n(o),i=r(493554),s=r(145015),c=r(482675),d=r(442313),m=r(449737),u=r(376780),_=r(635547),p=r(314272),f=r(425878),g=r(289198);function E(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let v=a.memo(function(e){let t=(0,n.wA)(),{updateVatGstId:r}=e,o=!!e.org?.id,v=(0,i.Rs)(_.Wt6,{orgId:e.org?.id||""},{enabled:o}),b=(0,i.Rs)(_.xS7,{teamId:e.team?.id||""},{enabled:!o}),h=o?v:b,y=E(o,h),w=y?.taxIdVerificationStatus,[T,x]=a.useState(),[I,k]=a.useState(""),[S,C]=a.useState(""),[N,R]=a.useState(!1),[A,O]=a.useState({country:"",state:""}),[F,D]=a.useState(!1);a.useEffect(()=>{let e=y?.taxInfo;if(!F&&"loaded"===h.status&&e?.status==="loaded"){let t=E(o,h),r=e?.data;k(t?.vatGstId||""),C(r?.regionalVatGstId||""),R(r?.canUpdateRegionalVatGst||!1),O({country:r?.country||"",state:r?.state||""}),D(!0)}},[o,h,F,y?.taxInfo]);let L=()=>{t(m.Ce())};return a.createElement(p.XV,{onClose:L,title:(0,d.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0},T&&a.createElement("div",{className:"change_vat_gst_id_modal--errorBanner--sqxNt","data-testid":"change-vat-gst-id-error"},a.createElement(c._,{color:c.S.ERROR,rounded:!1,text:T})),w===u.kI.VERIFIED&&a.createElement("div",{"data-testid":"change-vat-gst-id-information"},a.createElement(c._,{color:c.S.INFORMATION,rounded:!1,text:(0,d.t)("change_vat_gst_id.tax_id_verification_succeeded")})),w===u.kI.UNVERIFIED&&a.createElement("div",{"data-testid":"change-vat-gst-id-warning"},a.createElement(c._,{color:c.S.WARNING,rounded:!1,text:(0,d.t)("change_vat_gst_id.tax_id_verification_failed")})),a.createElement("div",{className:g.Dy},a.createElement("p",{className:"change_vat_gst_id_modal--description--6gdSL"},(0,d.tx)("change_vat_gst_id.description")),a.createElement("form",{onSubmit:e=>{e.preventDefault(),r(I,e=>x(e),N?S:"").then(e=>{e&&L()})},"data-testid":"change-vat-form"},F&&a.createElement(f.A,{onChange:k,country:A.country,vatId:I,isCommunityCheckout:!1}),N&&a.createElement(f.A,{onChange:C,country:A.country,region:A.state,vatId:S,isCommunityCheckout:!1,variant:"regional"}),a.createElement("div",{className:l()(g.v0,g.hF)},a.createElement(s.vd,{className:g.pL,type:"submit",disabled:!F},(0,d.tx)("change_vat_gst_id.save_id"))))))})},18660:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeModal:()=>f});var a=r(848318),n=r(716544),o=r(536384),l=r.n(o),i=r(224223),s=r(145015),c=r(442313),d=r(449737),m=r(194546),u=r(314272),_=r(289198);let p=a.memo(function(e){let t=(0,n.wA)(),{teamId:r,billingEndDate:o,exitSurveyData:p}=e.modalShown.data,f=e.teams[r],g=()=>{t(d.Ce())},E=o?(0,c.tx)("confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name,billingEndDate:o}):(0,c.tx)("confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name});return a.createElement(u.XV,{onClose:g,title:(0,c.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},a.createElement("div",{className:_.Dy},a.createElement("p",null,E),a.createElement("div",{className:l()(_.v0,_.hF)},a.createElement(s.tM,{onClick:g},(0,c.tx)("confirm_downgrade.go_back")),a.createElement(s.qM,{className:_.pL,onClick:()=>{p&&(0,i.sx)("Team Downgrade Survey",{...p,selectedOptions:p.selectedOptions.map(e=>JSON.stringify(e))}),t(d.Ce()),t(m.Wc({teamId:r}))}},(0,c.tx)("confirm_downgrade.finish_cancellation")))))});function f(e){return a.createElement(p,{...e})}},829403:(e,t,r)=>{r.r(t),r.d(t,{TeamPermissionsModal:()=>eF});var a=r(848318),n=r(716544),o=r(176677),l=r(445777),i=r(224223),s=r(994811),c=r(857188),d=r(493554),m=r(389191),u=r(473889),_=r(442313),p=r(447978),f=r(637307),g=r(449737),E=r(155651),v=r(713547),b=r(254310),h=r(841747),y=r(661780),w=r(376780),T=r(635547),x=r(997894),I=r(154209),k=r(710665),S=r(24096),C=r(572754),N=r(694253),R=r(578427),A=r(354041),O=r(920963),F=r(995946),D=r(710994),L=r(266767),P=r(314272),M=r(665503),B=r(135609),U=r(217529),j=r(521068),W=r(145721),$=r(359814),H=r(894300),G=r(564724),V=r(166365),z=r(832876),q=r(319193),Y=r(413206),K=r(372455),J=r(70690),X=r(401431),Q=r(442539);function Z(e){let t=e.canAdmin,r=a.createElement(V.B,{className:K.wk,svg:X.A});e.sharingAudienceControl===w.PQ.ORG_EDIT||e.sharingAudienceControl===w.PQ.ORG_VIEW?r=a.createElement("div",{className:K.AA},a.createElement(V.B,{svg:Q.A})):(e.sharingAudienceControl===w.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===w.PQ.WORKSPACE_VIEW)&&(r=a.createElement("div",{className:K.AA},e.workspace&&a.createElement(z.z6,{entity:e.workspace,size:24})));let n=e.sharingAudienceControl===w.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,o=n?K.Fl:K.Jt;return a.createElement("div",{className:t?o:K.zn,onClick:t?()=>e.changeModalView(1):void 0,role:"button","data-onboarding-key":q.F,tabIndex:0},r,a.createElement("div",{className:K.$S},a.createElement("div",null,e.sharingAudienceControl&&(0,Y.ET)(e.sharingAudienceControl,e.org,e.workspace),n&&a.createElement("div",{className:K.JZ},(0,_.t)("team_creation.anyone_can_find_this_team"))),e.org&&a.createElement("div",{className:K.j7,"data-onboarding-key":q.F},e.sharingAudienceControl&&(0,Y.mi)(e.sharingAudienceControl),t&&a.createElement(V.B,{svg:J.A,className:K.$w}),t&&a.createElement(q.j,null))))}var ee=r(551316),et=r(513886),er=r(475020),ea=r(468189),en=r(376025),eo=r(356505),el=r(776402),ei=r(777611),es=r(575013),ec=r(395778),ed=r(182059),em=r(882439),eu=r(975512),e_=r(790355),ep=r(754613),ef=r(928001),eg=r(134428),eE=r(503024),ev=r(464012),eb=r(205397);let eh="team_join_link_permissions--loadedViewWrapper--LjAIr";var ey=r(769773);let ew=(0,ee.s)((e,t,r)=>e(ep.do({teamId:t,level:r}))),eT=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,N.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,N.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,r)=>({isInLoadingState:function(e,t,r){let a=!(0,ef.VP)(t,(0,eg.OL)(e))&&!(0,ef.aF)(t,(0,eg.OL)(e))&&!r;return(0,ef.VP)(t,(0,eg.OL)(e))||(0,ef.VP)(t,ep.ui.loadingKeyForPayload({teamId:e}))||(0,ef.VP)(t,(0,eg._M)(e))||a}(r.teamId,e.loadingState,e.teamJoinLinks),...e,...r,...t}))(function(e){let{dispatch:t,teamId:r,initialInviteLevel:n,canAdmin:o,canEdit:l}=e,[i,s]=(0,a.useState)(n);if((0,a.useEffect)(()=>(ew(t,r,n),()=>{t(ep.F1(null))}),[t,r,n]),!e.isInLoadingState&&!e.teamJoinLinks||!o&&e.teamJoinLinks?.disabled)return null;let c=l&&!!e.teamJoinLinks?.url;return a.createElement(a.Fragment,null,a.createElement("div",{style:c?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},a.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},(0,_.tx)("team_join_links.invite_link")),c&&a.createElement(ex,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{t(g.$O({type:eS,data:{resetLink:()=>{t(ep.Nw({teamId:r,level:i,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>t(ep.ui({teamId:r})),loading:e.isInLoadingState,canAdmin:o})),e.isInLoadingState||e.teamJoinLinks?.url?a.createElement(eI,{dropdownShown:e.dropdownShown,setLevel:e=>{i!==e&&(s(e),t(ep.do({teamId:r,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>s(i)})))},currentLevel:i,url:e.isInLoadingState?void 0:e.teamJoinLinks?.url,inviteLevels:l?[F.e6.VIEWER,F.e6.EDITOR]:[F.e6.VIEWER],teamId:e.teamId}):a.createElement(ek,{turnOnInviteLinks:()=>t(ep.Nw({teamId:r,level:i}))}))});function ex(e){let t=(0,n.wA)(),r="team-link-settings-dropdown",o=a.createRef(),l=()=>e.dropdownShown?.type===r;return a.createElement(et.o,{eventListeners:["onMouseDown"]},a.createElement("div",{ref:o},a.createElement(er.d,{"aria-expanded":l(),disabled:e.loading,"aria-label":(0,_.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=o.current?.getBoundingClientRect();l()?t(e_.oB()):e&&t(e_.j7({type:r,data:{targetRect:e}}))},htmlAttributes:{"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,_.t)("team_join_links.team_invite_link_settings")}},a.createElement(ec.P,null))),l()&&a.createElement(eb.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},a.createElement(ed.c$,{onClick:e.resetInviteLinks},(0,_.tx)("team_join_links.reset_invite_links")),e.canAdmin&&a.createElement(ed.c$,{onClick:e.disableInviteLinks},(0,_.tx)("team_join_links.turn_off_invite_links"))))}function eI(e){let t=(0,n.wA)(),r="join-link-permission-level-dropdown",o=e.currentLevel===F.e6.VIEWER?"-32px":"-61px";return a.createElement("div",{className:eh},a.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},a.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&a.createElement(ea.k,null),e.url&&a.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),a.createElement("div",null,a.createElement(en.E,{onClick:a=>{a.stopPropagation(),e.url&&(e.dropdownShown?t(e_.oB()):t(e_.j7({type:r})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},a.createElement("span",null,(0,S.C1)(e.currentLevel)),a.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},a.createElement(V.B,{svg:ey.A}))),e.dropdownShown&&e.dropdownShown.type===r&&a.createElement(ed.ms,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:o}},e.inviteLevels.map((t,r)=>a.createElement(ed.MM,{key:r,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,S.C1)(t)))))),a.createElement(eo.$n,{onClick:()=>{e.url&&t(ep.LN({teamId:e.teamId,url:e.url,source:ep.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},(0,_.tx)("team_join_links.copy_link")))}function ek(e){return a.createElement("div",{className:eh},(0,_.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",a.createElement(eu.Ph,{href:"#",onClick:e.turnOnInviteLinks},(0,_.tx)("team_join_links.turn_on_invite_links")))}let eS="RESET_LINKS_CONFIRMATION_MODAL";(0,ev.Ju)(function(e){let t=(0,n.wA)(),r=el.hS(e);return a.createElement(ei.bL,{width:"md",manager:r},a.createElement(es.vo,null,a.createElement(es.Y9,null,a.createElement(es.hE,null,(0,_.tx)("team_join_links.reset_invite_links"))),a.createElement(es.nB,null,(0,_.tx)("team_join_links.modal_description")),a.createElement(es.wi,null,a.createElement(es.jk,null,a.createElement(em.$z,{variant:"secondary",onClick:()=>t(g.Lo())},(0,_.tx)("team_join_links.cancel")),a.createElement(em.$z,{variant:"destructive",onClick:()=>{e.resetLink(),t(g.Lo())}},(0,_.tx)("team_join_links.reset_links"))))))},eS);var eC=r(426257),eN=r(244434),eR=r(538002);let eA={domains:[],isFetching:!1,fetchedAt:null},eO=a.memo(function({roles:e,virtualItems:t,totalSize:r,user:n,parentOrg:o,permissionState:l,team:i,teamOrgDomains:s,canMakeAdmin:c}){let d=a.useMemo(()=>({team:i,type:w.vt.TEAM}),[i]);return a.createElement("div",{style:{height:`${r}px`,position:"relative"}},t.map(t=>{let r=t.index,m=e[r];return a.createElement(eC.O,{key:`role-row-${r}`,canEditRole:(0,N.canEditTeamRole)(m,l),canMakeAdmin:c,currentOrg:o,currentUserOrgId:o?.id??null,isOrgUser:!!m.org_user,isOwnerOfResource:(0,N.isResourceOwner)(n.id,i.id,w.vt.TEAM,l.roles),orgDomains:s,readOnlyOverrideWarningMessage:null,resource:d,resourceName:i.name,role:m,user:n,virtualRowItem:t})}))});function eF({teamId:e,initialInviteLevel:t,prepopulateEmail:r,initialView:V}){let z,q=(0,n.wA)(),Y=(0,y.Pc)(),K=(0,n.d4)(e=>e.autocomplete),J=(0,n.d4)(e=>e.contacts),X=(0,n.d4)(e=>e.dropdownShown),Q=(0,h.FC)(),ee=x.M4.Team.useValue(e).data,et=(0,d.Rs)(T.GyZ,{teamId:e}),er=(0,d.Rs)(T.H1b,{teamId:e});(0,m.oY)("loaded"===et.status&&"loaded"===er.status,e=>{let t=er.data?.team?.roles?.length??0,r="unknown";r=t<=100?"small":t<=300?"medium":"large",(0,i.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:r},{forwardToDatadog:!0})});let ea=(0,a.useMemo)(()=>(0,C.X)(et),[et]),en=(0,a.useMemo)(()=>(0,C.SN)(er),[er]),eo=ea&&ea.org,el=ea&&ea.teamSharingSettings,ei=ea&&ea.orgUser,es=eo?eo.id:null,ec=ea&&ea.workspace,ed=eo&&eo.org_domains?eo.org_domains:eA,em=a.useMemo(()=>en?.sort((e,t)=>e.pending===t.pending?eN.E4(e,J).toLocaleLowerCase()<eN.E4(t,J).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[J,en]),eu=ea&&ea.pendingTeamRoleRequests?ea.pendingTeamRoleRequests:[];(0,a.useEffect)(()=>{q(f.um())},[q]);let e_=e=>t||(!(0,k.w5)(ee)&&e?F.e6.EDITOR:F.e6.VIEWER),[ep,ef]=(0,a.useState)(()=>e_((0,N.canEditTeam)(e,Q))),eg=(0,a.useCallback)(e=>(0,C.yI)(e,J.usersByEmail[e]||e,eo,ed,Y.email),[J.usersByEmail,ed,Y.email,eo]);(0,a.useEffect)(()=>{if(r){let e=eg(r);q(p.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[r,eg,q]);let eE=e=>{ef(e)},ev=e=>(0,C.t9)(e,eo,ed),eb=t=>{let r=(0,D.Z)(t);q((0,R.rq)({emails:r,resourceType:w.vt.TEAM,resourceIdOrKey:e,level:ep,emailsToExclude:(0,A.bp)(J.usersByEmail,Y,em),onSuccess:({invites:e,over_editor_limit:t})=>{if((0,b.HZ)({oldValue:ep>=F.e6.EDITOR&&t,newValue:!1,label:b.A5.TeamPermissionsModal.shouldShowUpsellModal,enableFullRead:(0,v.DQ)(v.Pw.GROUP_1)})){let t=(0,N.getResourceTeamId)(e[0],Q),r=t&&{...Q.teams[t],canEdit:(0,N.canEditTeam)(t,Q),canAdmin:(0,N.canAdminTeam)(t,Q)};q(g.to({type:M.oE,data:{team:r,invitesSent:e.length,editorType:null,upsellSource:O.b.ADD_EDITOR}}));return}},source:"team_share_modal",orgName:eo?eo.name:void 0}))},eh=e=>{if(eo&&eo.domain_capture&&ed&&ed.domains.length>0){let t=(0,D.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,I.H_)(ed.domains,e));if(eo?.invite_whitelist_guest_invite_setting==null&&t.length>0){q(g.to({type:j.F,data:{emails:t,onConfirm:()=>{eb(e)},popStack:!0,orgName:eo.name}}));return}}eb(e)},ey=()=>{q(g.Ce()),q(p.cL())},ew=e=>{e.keyCode!==c.Uz.ESCAPE&&e.stopPropagation()},ex=(0,N.canEditTeam)(e,Q),eI=(0,N.canViewTeam)(e,Q),ek=(0,N.canAdminTeam)(e,Q),[eS,eC]=a.useState(V||0),eF=()=>0===eS?a.createElement("div",{className:eR.DA},a.createElement("p",null,(0,_.tx)("team_view.team_permissions_modal.invite_other_members",{teamName:ee?.name??""}))):a.createElement($.w,{title:(0,_.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eC(0)}),eD=!!ee&&!ee.org_id,{sharingSuggestions:eL,sharingSuggestionIdsToExclude:eP,sharingSuggestionEmailsToExclude:eM}=(0,H.$)({orgId:es,teamId:e,contacts:J.usersByEmail,roles:em,user:Y,autocompleteTokens:K.tokens}),eB=a.useCallback(()=>36,[]),eU=a.useRef(null),ej=(0,o.z)({size:em.length,parentRef:eU,estimateSize:eB,overscan:10,paddingStart:0});return z=ee?0===eS?(()=>{if(!ea)return a.createElement("div",{className:eR.Lq},a.createElement(u.qc,null));let t=[];return ek&&t.push(F.e6.ADMIN),ex&&t.push(F.e6.EDITOR),eI&&t.push(F.e6.VIEWER),(0,l.KF)(t.length>0,"there should be at least one role (the user's own)"),a.createElement(a.Fragment,null,a.createElement("div",{key:"container",className:eR.SS,onKeyDown:ew},eD&&a.createElement(a.Fragment,null,a.createElement(eT,{teamId:e,dropdownShown:X,initialInviteLevel:e_(ex)}),a.createElement("div",{className:eR.Vq},(0,_.tx)("team_view.team_permissions_modal.invite_by_email"))),!!ea?.canAdmin&&a.createElement(W.$i,{teamId:e,teamRoleRequests:eu,teamRoles:em}),(0,U.r)(Y)?a.createElement(U.X,{resourceType:"team"}):a.createElement(a.Fragment,null,a.createElement("div",{className:eR.Zk},a.createElement(L.e,{SearchResultComponent:B.o,TokenComponent:B.g,autocomplete:K,buttonText:(0,_.t)("team_view.team_permissions_modal.invite"),dispatch:q,dropdownKey:"permissions-invite-dropdown",dropdownShown:X,getSearchResults:t=>(0,A.Wj)(t,J.usersByEmail,Y,em,es,e,null,ei?.permission===w._D.GUEST,{inviteLevel:ep,source:"team-permissions-modal"}),getSelectText:S.C1,hideDropdownOnEmpty:!0,inviteLevel:ep,joinLinkShown:eD,onHideModal:ey,onInviteLevelChange:eE,onSubmit:eh,options:t,placeholderText:(0,_.t)("team_creation.add_a_name_or_email"),searchResultToken:ev,shouldAutoFocus:!eD,validateToken:eg,validateTokensAsEmail:!0})),a.createElement(H.t,{suggestions:eL??void 0,autocomplete:K,searchResultToken:ev,resourceType:"team",resourceId:e,idsToExclude:eP??void 0,emailsToExclude:eM??void 0})),eo&&a.createElement("div",{className:eR.st,ref:eU},a.createElement("div",{className:eR.d3},a.createElement("div",{className:eR.eF},(0,_.t)("file_permissions_modal.who_has_access")),a.createElement(Z,{team:ee,workspace:ec,org:eo,changeModalView:eC,sharingAudienceControl:el?.sharingAudienceControl,isTeamOrgBrowsable:el?.orgBrowsable,canAdmin:!!ea?.canAdmin}),a.createElement(eO,{roles:em,virtualItems:ej.virtualItems,totalSize:ej.totalSize,user:Y,parentOrg:eo,permissionState:Q,team:ee,teamOrgDomains:ed,canMakeAdmin:!!ea?.canAdmin})))))})():eo?el&&a.createElement(G.nH,{team:ee,workspace:ec||void 0,org:eo,teamSharingSettings:el,hideModal:ey,goBack:()=>eC(0)}):a.createElement(a.Fragment,null):a.createElement(u.qc,null),a.createElement(E.fu,{name:"Share Modal",properties:{resourceType:w.vt.TEAM,resourceId:e}},a.createElement(P.XV,{title:a.createElement(a.Fragment,null,eF()),maxWidth:eD?484:C.k4,fixedTop:!0,onClose:ey},z))}},247848:(e,t,r)=>{r.r(t),r.d(t,{TeamRenameModal:()=>c});var a=r(848318),n=r(716544),o=r(442313),l=r(296580),i=r(183905),s=r(595324);function c({team:e}){let t=(0,n.wA)();return a.createElement(s.c,{initialName:e.name,maxLength:i.qg,placeholder:(0,o.t)("resource_rename_modal.team.placeholder"),submitText:(0,o.t)("resource_rename_modal.team.submit"),onRename:r=>t((0,l.IA)({team:e,name:r}))})}},414130:(e,t,r)=>{r.d(t,{v:()=>o});var a=r(848318),n=r(468189);function o(){return a.createElement("div",{className:"component_browser_dialog_loading_spinner--spinner--fcsB0"},a.createElement(n.k,null))}},495225:(e,t,r)=>{r.d(t,{FileBrowserView:()=>bc});var a=r(848318),n=r(716544),o=r(157907),l=r(35030),i=r(202767),s=r(472867),c=r(141039),d=r(44509),m=r(730169),u=r(397579),_=r(653959),p=r(303035),f=r(831932),g=r(579463),E=r(469956),v=r(703518),b=r(357886),h=r(212108),y=r(59767),w=r(539855),T=r(509982),x=r(61485),I=r(445777),k=r(228238),S=r(17755),C=r(442313),N=r(775038),R=r(32859),A=r(485098),O=r(390808),F=r(412922),D=r(857188),L=r(470403),P=r(28244),M=r(287972),B=r(992277),U=r(536384),j=r.n(U),W=r(381218),$=r(935454),H=r(802780),G=r(481540),V=r(409851),z=r(57589),q=r(208649),Y=r(87089),K=r(661780),J=r(541641),X=r(129990),Q=r(192014),Z=r(556522),ee=r(217738),et=r(493080),er=r(195507),ea=r(145015),en=r(583120),eo=r(473889),el=r(575492),ei=r(645736),es=r(166365),ec=r(500276),ed=r(39773),em=r(95650),eu=r(675519),e_=r(180423),ep=r(176629),ef=r(670673),eg=r(412429),eE=r(35315),ev=r(680632),eb=r(61614),eh=r(151144);let ey="seen_org_admin_moved_unassigned_drafts_onboarding",ew=(0,em.A)("2024-10-15").startOf("day"),eT=(0,ef.r1)(ey);function ex(){let e=(0,ed.md)(eT),{show:t,isShowing:r,complete:o}=(0,ep.e)({overlay:eh.rv,priority:eE.N.DEFAULT_MODAL},[e]),l=(0,n.d4)(e=>(0,eg.xw)(e)),i=l?.created_at,s=!!i&&(0,em.A)(i).isSameOrAfter(ew);return(0,m.h)(()=>{t({canShow:e=>!(e||s)})}),a.createElement(ev.rq,{arrowPosition:eb.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,C.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),isShowing:r,onClose:o,primaryCta:{label:(0,C.tx)("general.got_it"),type:"button",onClick:o,ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,C.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:e_.c.LEARN_MORE},shouldCenterArrow:eb.EL.FALLBACK,targetKey:eu.sm,title:(0,C.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),trackingContextName:eu.o8,userFlagOnShow:ey})}var eI=r(829128),ek=r(790429),eS=r(790355),eC=r(834996);function eN(){let e=(0,n.wA)(),t=(0,eC.z3)();return a.createElement(ek.Z,{onClick:()=>{e(eS.$T({view:"recentsAndSharing"})),e(eS.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentsAndSharing"===t,icon:a.createElement(eI.a,null),text:a.createElement(N.E,{truncate:!0},(0,C.tx)("sidebar.recents"))})}var eR=r(852338),eA=r(687174),eO=r(405866),eF=r(280503),eD=r(841747),eL=r(376780),eP=r(154209),eM=r(115431),eB=r(427008),eU=r(791591),ej=r(442752),eW=r(435254),e$=r(680579);function eH(e){let t=a.createElement("div",{className:S.s.h24.w24.$},a.createElement(eW.I,null)),r=a.createElement(eG,{badge:e.badge});return a.createElement("div",{className:"go_to_admin_row--goToAdminRow--OPVDe"},a.createElement(ek.Z,{icon:t,text:a.createElement("div",{className:S.s.pr36.$,"data-onboarding-key":e.dataOnboardingKey},a.createElement(N.E,{truncate:!0},(0,C.tx)("sidebar.admin_dashboard"))),isSelected:e.isSelected,onClick:e.onClick,badge:r,dataTestId:e.dataTestId}))}function eG(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:"go_to_admin_row--badgeContainer--U08cW"},e.badge),a.createElement("div",{className:"go_to_admin_row--iconContainer--tEzjQ"},a.createElement(e$.a,null)))}var eV=r(490775),ez=r(832571),eq=r(32922),eY=r(546246),eK=r(632859),eJ=r(701058),eX=r(965845),eQ=r(139348);function eZ(e){let t=(0,n.wA)(),r=e.orgUser.permission===eL._D.ADMIN,o=(0,eq.RG)(),l=(0,eq.MX)(),{groupsUserIsAdminOf:i}=(0,eq.EQ)(l,e.orgUser.user_id,!r),s=(0,eB.Xf)(e.org.id),c="loaded"===s.status?s.data?.invoices??[]:void 0;a.useEffect(()=>{t(eV.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:d}=(0,eq.Cz)(i,c),m=i[0]?.id,u=e.org.bigma_enabled&&o&&!!m,_=(0,J.NJ)(e.org.id).data??[],p=e.org.bigma_enabled&&_.length>0,f=(0,eU.ZY)({isIntendedAudience:e.org.bigma_enabled&&!r});if(!(r||u||p))return null;let g=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===eJ.GN.ADMIN;case"workspace":return e.subView===eQ.V0.ADMIN;default:return!1}}(e.selectedView),E=a.createElement(ej.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:g});return a.createElement(eH,{badge:E,onClick:()=>{let e=c&&(0,eY.hX)(c);if(r){let e=eX.J7.DASHBOARD;t(eS.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(eS.Oe({clickedResourceType:"orgAdminSettings"}))}else u?f?t(eS.$T({view:"billingGroupDashboard",selectedTab:eK.D.REQUESTS})):(t(eS.$T({view:"licenseGroup",subView:eJ.GN.ADMIN,licenseGroupId:e&&d.length>0?d[0].id:m,selectedTab:(0,ez.g)(e&&d.length>0?eJ.RM.MEMBERS:eJ.Uu[0])})),t(eS.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):p&&(t(eS.$T({view:"workspace",subView:eQ.V0.ADMIN,workspaceId:_[0].id,selectedTab:eQ._C})),t(eS.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:eu.sm,isSelected:g})}var e0=r(8015),e1=r(110979);function e4(e){let t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.wA)();return t?a.createElement(ek.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{r(e1.dm(t)),r(eS.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:a.createElement(e0.t,null),text:a.createElement(N.E,{truncate:!0},(0,C.tx)("sidebar.all_projects"))}):null}var e5=r(832876);function e2(e){let t=(0,n.wA)(),r=(0,eC._6)(),o="workspace"===r.view&&r.workspaceId===e.workspace.id&&r.subView===eQ.V0.DIRECTORY;return a.createElement(ek.Z,{isSelected:o,onClick:()=>{t(eS.$T({view:"workspace",workspaceId:e.workspace.id,selectedTab:eQ.dN.TEAMS,subView:eQ.V0.DIRECTORY})),t(eS.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.workspace.id}))},icon:a.createElement(e5.z6,{entity:e.workspace,size:16}),text:a.createElement(N.E,{truncate:!0},e.workspace.name),"data-onboarding-key":e.dataOnboardingKey})}var e7=r(684525);let e3="seen_sidebar_workspace_link_onboarding",e8="sidebar_workspace_link_onboarding";function e6(){let e=(0,ef.r1)(e3),t=(0,ed.md)(e),r=(0,ed.md)(e7.Fy),{show:n,isShowing:o,complete:l}=(0,ep.e)({overlay:eh.Tp6,priority:eE.N.DEFAULT_MODAL},[t,r]);return(0,m.h)(()=>{n({canShow:(e,t)=>!e&&t})}),a.createElement(ev.rq,{arrowPosition:eb.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,C.tx)("sidebar.workspaces.onboarding_description"),disableHighlight:!0,emphasized:!0,isShowing:o,onClose:l,primaryCta:{label:(0,C.tx)("general.done"),ctaTrackingDescriptor:e_.c.DONE,type:"button",onClick:l},secondaryCta:{label:(0,C.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/7576392133527-Guide-to-workspaces",ctaTrackingDescriptor:e_.c.LEARN_MORE},targetKey:e8,title:(0,C.tx)("sidebar.workspaces.onboarding_title"),trackingContextName:"sidebar-workspace-link-onboarding",userFlagOnShow:e3})}var e9=r(732502),te=r(572699);let tt="sidebar--section--COZVK",tr="sidebar--loading--AITp2",ta="sidebar--divider--sHsz4";function tn({userStateLoaded:e,sidebarUser:t}){let r=(0,te.pT)(),n=(0,e9.x1)(),o=t?.baseOrgUser?.permission===eL._D.GUEST,l=t?.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspace;return!l||o||!r||n()?null:e?a.createElement(a.Fragment,null,a.createElement(e6,null),a.createElement(e2,{workspace:l,dataOnboardingKey:e8})):a.createElement("div",{className:tr},a.createElement(eo.kt,null))}var to=r(899857);function tl(){let e=(0,n.wA)(),t=(0,eC._6)();return a.createElement(ek.Z,{isSelected:"componentBrowser"===t.view,onClick:()=>{e(eS.$T({view:"componentBrowser"}))},icon:a.createElement(to._,null),text:a.createElement(N.E,{truncate:!0},"Your libraries")})}var ti=r(50369),ts=r(859891),tc=r(425642),td=r(63571),tm=r(963376),tu=r(17178),t_=r(464488),tp=r(785534),tf=r(464012),tg=r(117592);let tE=(0,tf.Ju)(function(e){let t=(0,n.wA)(),r=a.createElement("span",{className:S.s.fontBold.$},e.sectionName);return a.createElement(tg.Rw,{onConfirm:()=>{t(eA.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,C.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--8Haoy text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,C.t)("sidebar.delete"),destructive:!0,autoFocusCta:!1},a.createElement("p",{className:"confirm_section_delete_modal--content--BToo-"},(0,C.tx)("sidebar.if_you_delete_section_the_section",{item:e.count>1?(0,C.t)("sidebar.items"):(0,C.t)("sidebar.item"),section:r,count:e.count,pronoun:e.count>1?(0,C.t)("sidebar.them"):(0,C.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",tf.ZU.YES);var tv=r(449737),tb=r(161922);let th="custom-section-header-context-menu";function ty(){let e=(0,n.d4)(e=>e.dropdownShown);return e&&e?.type===th?e:null}function tw(e){let t=(0,n.wA)(),r=ty();if(null==r)return a.createElement(a.Fragment,null);let o=()=>{0===r.data.favoritesCount?t(eA.de({sidebarSectionId:r.data.customSection.id})):t((0,tv.to)({type:tE,data:{sectionId:r.data.customSection.id,sectionName:r.data.customSection.name,count:r.data.favoritesCount}}))},l=()=>{e.setRenamingSectionId(r.data.customSection.id)},i=[{displayText:(0,C.t)("sidebar.rename_section"),callback:()=>l()},{displayText:(0,C.t)("sidebar.delete_section"),callback:()=>o()}];return a.createElement(tb.j,{depth:0,dispatch:t,hidePointWhenContentOffScreen:!0,items:i,lean:"right",leanPadding:0,minWidth:162,onSelectItem:(e,r)=>{e.callback&&e.callback("",null,t)},parentRect:r.data.targetRect,showPoint:!r.data.isFromRightClick})}var tT=r(399545);let tx="favorited_section--emojiIcon--pDnB-",tI="favorited_section--favoriteStar--2R5nb",tk="favorited_section--isDragTarget--dQd5-",tS="favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tC="favorited_section--previewContainerSidebarRowRedesigned--TewzL",tN="favorited_section--previewContainerNoDelay--buvES favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tR="favorited_section--favoriteClickTarget--Z9eur",tA="favorited_section--thumbnailContainer--C4PE-",tO="favorited_section--lowerContainer--9gDfQ",tF="favorited_section--lowerPartTitles--44fhW",tD="favorited_section--title--bWf4x ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",tL="favorited_section--editorTypeIndicator--OmyvY",tP="favorited_section--svgContainer--vwRae",tM="favorited_section--icon--E7nFx";function tB(e){let t=(0,n.wA)(),r=(0,n.d4)(eP.wA);if(!r)return null;let o=a.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(eS.$T({view:"org",orgId:r.id,orgViewTab:tT.X.HOME}))},className:"favorited_section--browseOrgLink--BvX0-"},(0,C.tx)("sidebar.browse_org_custom_sections"));return a.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--Z6jKH"},(0,C.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),o)}function tU(e){return a.createElement("div",{className:"favorited_section--customSectionsEmptyState--JcvfB favorited_section--customSectionsEmptyStateContent--Z6jKH"},a.createElement(tB,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var tj=r(293964),tW=r(32413),t$=r(697714),tH=r(320583),tG=r(922976),tV=r(195237),tz=r(694253),tq=r(163620),tY=r(85442),tK=r(884060),tJ=r(531089),tX=r(54018),tQ=r(298934),tZ=r(291333),t0=r(526999),t1=r(181427),t4=r(717752),t5=r(197925),t2=r(273121),t7=r(918105),t3=r(562688),t8=r(746948),t6=r(997894),t9=r(128204),re=r(404658),rt=r(183905),rr=r(821618),ra=r(904178),rn=r(349788),ro=(e=>(e.FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",e.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",e.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",e.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",e.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",e))(ro||{});let rl="sidebar context menu";function ri(e,t,r,a){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;r(tK.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let a=(0,tq.QJ)(e);a&&r(tQ.bE({repo:a}))}r(eS.j7({type:a,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let rs=(e,t,r,a={})=>e?[{displayText:t?t():"",callback:r,...a}]:[],rc=[{displayText:"",separator:!0}];function rd({dropdownShown:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),i=(0,n.d4)(e=>e.user?.personal_drafts_folder_id),s=(0,t5.p)(),d=(0,o.k)().ps_benchmark,m="favorited-project-context-menu"===e.type?e.data.resource.project?.id:e.data.resource?.file?.folderId,u=e.data.resource,_=d&&!!i&&u?.file?.folderId===i,p=(tH.C7b.CAN_VIEW===tH.C7b.CAN_VIEW?function(e){let t=(0,eD.FC)();return(0,a.useMemo)(()=>tV.Qw.loaded((0,tz.canViewFolder_DEPRECATED)(e,t)),[e,t])}(m):tV.Qw.loaded(!1)).unwrapOr(!1),f=!_&&p,g="favorited-prototype-context-menu"===e.type,E=(0,tG.As)(u?.file?.key??""),v=a.useMemo(()=>"favorited-file-context-menu"===e.type&&!!E.unwrapOr(null)?.canTrash,[e.type,E]),b=[...rs(!0,()=>(0,C.t)("tile.dropdown.open"),()=>{(0,tj.DF)("open"),"favorited-file-context-menu"===e.type?((0,tj.LP)(u.file.key,eL.bk.FILE,u.sidebarSectionId,rl,u.file.editorType),(0,t0.Tq)(t,u.file)):"favorited-prototype-context-menu"===e.type?((0,tj.LP)(u.prototype.fileKey,eL.bk.PROTOTYPE,u.sidebarSectionId,rl,"design"),(0,V.FS)(t,u)):"favorited-project-context-menu"===e.type&&(t(e1.kg({clickedResourceType:"folder",resourceIdOrKey:u.project.id})),(0,t0.U8)(u.project.id,t))}),...rs(!c.eD&&!(0,l.ce)(),()=>(0,C.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,t0.nz)((0,t2.jN)({...u,allowDefaulting:!0}),u.file.key,r,t),(0,tj.LP)(u.file.key,eL.bk.FILE,u.sidebarSectionId,rl,u.file.editorType),(0,tj.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=u.prototype.url;(0,t0.D4)(e,u.prototype.fileKey,u.prototype.file.pageId,r),(0,tj.LP)(u.prototype.fileKey,eL.bk.PROTOTYPE,u.sidebarSectionId,rl,"design"),(0,tj.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(t(e1.kg({clickedResourceType:"folder",resourceIdOrKey:u.project.id})),(0,t0.Wq)((0,re.EE)(u.project.id,u.project.org_id??null),t),(0,tj.LP)(u.project.id,eL.bk.FOLDER,u.sidebarSectionId,rl,"design"))}),...rc,...rs(!0,()=>(0,C.t)("tile.dropdown.copy_link"),()=>{(0,tj.DF)("copy_link"),"favorited-file-context-menu"===e.type?t(tK.S({fileKey:u.file.key,url:(0,t2.jN)({file:u.file,attributionContext:(0,t3.b)(s,t3.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:t3.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?t(tY.S({url:u.prototype.url})):"favorited-project-context-menu"===e.type&&t(tY.S({url:(0,re.EE)(u.project.id,u.project.org_id??null)}))}),...rs(!g&&!_,()=>(0,C.t)("sidebar.share"),()=>{(0,tj.DF)("share"),"favorited-file-context-menu"===e.type?t((0,tv.to)({type:ra.g_,data:{fileKey:u.file.key,source:t1.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&t((0,tv.to)({type:rn.W,data:{folderId:u.project.id}}))}),...rs(f,()=>(0,C.t)("tile.dropdown.show_in_project"),()=>{if((0,tj.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&e.data.resource.file?.folderId!=null){if(t(eS.$T({view:"folder",folderId:e.data.resource.file.folderId})),t(tZ.an()),e.data.resource.file.repo){let r=(0,tq.QJ)(e.data.resource);null!=r&&t(tZ.y$({type:rr.F.REPOS,tiles:[{type:t4.nb.REPO,repo:r,branches:[],selectedBranchKey:""}]}))}else t(tZ.y$({type:rr.F.FILES,tiles:[{type:t4.nb.FILE,file:t7.F.toLiveGraph(e.data.resource.file)}]}))}},{disabled:!f}),...rc,...rs(!g,()=>(0,C.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&u.prototype?t(eA.X7({prototype:{file_key:u.prototype.fileKey,page_id:u.prototype.pageId},entrypoint:"sidebar",favoriteId:u.id})):"favorited-file-context-menu"===e.type&&u.file?t(eA.qP({file:{key:u.file.key,editorType:u.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:u.id})):"favorited-project-context-menu"===e.type&&u.project&&t(tX.ZJ({folderId:u.resourceId,teamId:u.project.teamId,isSubscribed:!1}))}),...rc,...rs(!g&&!_,()=>(0,C.t)("sidebar.delete"),()=>{if((0,tj.DF)("delete"),"favorited-file-context-menu"===e.type){let e=E.unwrapOr(null)?.canTrash?{[u.file.key]:u.file}:{};t(tJ.U1({filesByKey:e}))}},{disabled:!v})];return a.createElement(tb.j,{items:b,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rm(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),o=(0,t5.p)(),i=e.favoritedFile.file,s=t6.M4.useFile(i?.key).data,d=i?.project?.canView,m=(0,n.d4)(e=>e.dropdownShown);if(null==m||null==i)return null;let u="favorited-file-context-menu"===m.type,_=[...rs(!0,()=>(0,C.t)("tile.dropdown.open"),()=>{(0,tj.DF)("open"),(0,tj.LP)(i.key,eL.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,rl,i.editorType??void 0),(0,t0.Tq)(t,i)}),...rs(!c.eD&&!(0,l.ce)(),()=>(0,C.t)("tile.dropdown.open_new_tab"),()=>{(0,t0.nz)((0,t2.jN)({file:i,allowDefaulting:!0}),i.key,r,t),(0,tj.LP)(i.key,eL.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,rl,i.editorType),(0,tj.DF)("open_in_new_tab")}),...rc,...e.organizeFavoriteOptions,...rc,...rs(!0,()=>(0,C.t)("file_browser.copy_link"),()=>{t(tK.S({fileKey:i.key,url:(0,t2.jN)({file:i,attributionContext:(0,t3.b)(o,t3.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:t3.d.FAVORITED_FILE_CONTEXT_MENU})),t(eS.oB())}),...rs(!0,()=>(0,C.t)("sidebar.share"),()=>{(0,tj.DF)("share"),t((0,tv.to)({type:ra.g_,data:{fileKey:i.key,source:t1.nk.fileBrowserFavoritedContextMenu}}))}),...rs(!0,()=>(0,C.t)("tile.dropdown.show_in_project"),()=>{if((0,tj.DF)("show_in_project"),t(eS.$T({view:"folder",folderId:e.folderId})),t(tZ.an()),i.fileRepoId){let r=(0,tq.QJ)(e.favoritedFile);null!=r&&t(tZ.y$({type:rr.F.REPOS,tiles:[{type:t4.nb.REPO,repo:r,branches:[],selectedBranchKey:""}]}))}else{if(!s)return;t(tZ.y$({type:rr.F.FILES,tiles:[(0,t4.fA)(s)]}))}},{disabled:!(u&&d)})];return a.createElement(tb.j,{items:_,parentRect:m.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function ru(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rc,...rs(!0,()=>(0,C.t)("file_browser.copy_link_to_team"),()=>{let r=(0,rt.bL)(e.teamId,e.orgId);t(tY.S({url:r})),t(eS.oB())})];return a.createElement(tb.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function r_(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rc,...rs(null!==e.orgId,()=>(0,C.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let r=(0,t9.fO)(e.workspaceId,e.orgId);t(tY.S({url:r}))}t(eS.oB())})];return a.createElement(tb.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rp(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rc,...rs(!0,()=>(0,C.t)("file_browser.copy_link_to_project"),()=>{let r=(0,re.EE)(e.projectId,e.orgId);t(tY.S({url:r})),t(eS.oB())})];return a.createElement(tb.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rf(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rc,...rs(!0,()=>(0,C.t)("file_browser.copy_link"),()=>{let r=(0,t8._3)(e.prototype.fileKey,e.prototype.file?.name,e.prototype.pageId);t(tY.S({url:r})),t(eS.oB())})];return a.createElement(tb.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}var rg=r(186323),rE=r(968189),rv=r(576220),rb=r(516397),rh=r(817818),ry=r(713547),rw=r(254310),rT=r(454916),rx=r(558253),rI=r(254490);function rk(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.favorites.collapsedCustomSections),i=e.favorite.team,s=(0,eD.FC)(),c=(0,n.d4)(e=>e.dropdownShown),m=(0,n.d4)(e=>e.avatarEditorState),u=a.useMemo(()=>c&&c.type===ro.FAVORITED_TEAM_CONTEXT_MENU&&c.data.teamId===i?.id,[c,i?.id]),_=a.useCallback((e,r)=>{(0,tj.LP)(r.team?.id,eL.bk.TEAM,r.sidebarSectionId??void 0,tj.vg);let a=(0,rt.bL)(r.resourceId,r.orgId);(0,D.oJ)(e)?(d.Ay.redirect(a,"_blank"),e.stopPropagation()):(t(e1.dm(r.resourceId)),e.preventDefault())},[t]),p=a.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eS.j7({type:ro.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:i.id,targetRect:r}}))},[t,i]),f=i&&(0,tz.canAdminTeam)(i.id,s),g=!!i?.canAdmin,E=(0,rw.u8)({oldValue:f,newValue:g,label:rw.A5.FavoritedTeamRow.canAdminV2,enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_2),contextArgs:{favoritedTeamId:i?.id}});if(!r||null===i)return a.createElement(a.Fragment,null);let v=(0,rh.o)({dispatch:t,currentOrgId:r,currentTeamId:o,collapsedCustomSections:l,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eL.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{let n={entrypoint:"sidebar",sectionId:a,team:{id:i.id},favoriteId:e.favorite.id,resourceType:eL.bk.TEAM};r?t(eA.V1(n)):t(eA.ox(n))}});return a.createElement(a.Fragment,null,a.createElement(ek.Z,{isSelected:e.isSelected,onClick:t=>_(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:p,icon:i.imgUrl?a.createElement("div",{className:S.s.colorIcon.$},a.createElement(rv.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:rv.Pf.SMALL,fallbackSize:rv.Pf.SMALL},fallbackDisplay:rb.U.HIDDEN,team:{...i,imgUrl:i.imgUrl},fallbackSvg:rI.A})):a.createElement(rE.U,null),text:a.createElement(N.E,{truncate:!0},i.name)}),u&&a.createElement(ru,{teamId:i.id,orgId:i.orgId,organizeFavoriteOptions:v}),E&&a.createElement("span",{className:"favorited_section--hiddenEditableAvatar--MuzYX"},a.createElement(rx.ER,{entity:{...i,imgUrl:i.imgUrl||void 0},entityType:rT.ck.TEAM,avatarEditorState:m,size:14,dispatch:t})))}var rS=r(159186),rC=r(7721),rN=r(570666),rR=r(26039),rA=r(97607),rO=r(616707),rF=r(425076),rD=r(92537),rL=r(650309),rP=r(622876),rM=r(73841),rB=r(542052);function rU(e){let{version:t}=(0,rP.DP)();if("ui3"===t)return a.createElement(rM.r,{type:e.iconType});switch(e.iconType){case rR.y1.DESIGN:case rR.y1.DESIGN_AND_DEV_MODE:case rR.y1.SLIDES:case rR.y1.SLIDES_TEMPLATE:return a.createElement(rR.MW,{type:e.iconType,size:rR.LE.SMALL});case rR.y1.FIGMAKE:case rR.y1.SITES:return a.createElement(rB.In,{icon:"file-design-16-file-type"});case rR.y1.WHITEBOARD:return a.createElement(rB.In,{icon:"file-figjam-16-file-type"});case rR.y1.DEV_MODE:case rR.y1.DEV_MODE_SELECTED:case rR.y1.PROTOTYPE:case rR.y1.PUBLISHED:return a.createElement(rR.MW,{type:e.iconType,size:rR.LE.SMALL});case rR.y1.TEMPLATE:return a.createElement(rB.In,{icon:"file-team-template-16-file-type"});case rR.y1.REPO:return a.createElement(rB.In,{icon:"file-design-branch-16-file-type"});case rR.y1.COOPER:return a.createElement(rR.wT,{inverted:!0});default:(0,I.xb)(e.iconType)}}let rj=e=>a.createElement("div",{className:tx},e);function rW(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.currentTeamId),i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,n.d4)(e=>e.dropdownShown),c=e.favorite.file,m=t6.M4.useFile(c?.key).data,u=(0,rL.N)(),_=null!==r,p=(0,o.k)().ps_benchmark&&l,f=a.useMemo(()=>s&&s.type===ro.FAVORITED_FILE_CONTEXT_MENU&&s.data.fileKey===c?.key,[s,c]),g=a.useMemo(()=>s&&s.type===th,[s]),E=a.useCallback(e=>{if(!c)return;m||t(tK.yJ({file:{key:c.key,team_id:c.teamId,file_repo_id:c.fileRepoId,folder_id:c.folderId,library_key:c.libraryKey}})),e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eS.j7({type:ro.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:c.key,targetRect:r}}))},[t,c,m]);if(null===c)return a.createElement(a.Fragment,null);let v=(0,t2.jN)({file:c,allowDefaulting:!0}),b=(e,r)=>{(0,tj.LP)(r.file?.key,eL.bk.FILE,r.sidebarSectionId??void 0,tj.vg,r.file?.editorType??void 0),(0,D.oJ)(e)?(t(e1.UN({fileKey:r.file?.key??"",entrypoint:tj.vg})),e.stopPropagation()):e.preventDefault(),r.file&&(d.Ay.redirect(v,"_blank"),t(e1.UN({fileKey:r.file.key,entrypoint:tj.vg})))},h=()=>{null!==c&&t(eA.qP({file:{key:c.key,editorType:c.editorType??eL._Y.DESIGN},repoId:c.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},y=(0,rh.o)({dispatch:t,currentOrgId:r,currentTeamId:l,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eL.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{if(r&&m){let r={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:eL.bk.FILE};t(eA.V1(r))}else r||null===c||h()}}),w=c?.name,T=(0,rF.AE)(w),x=e.favorite.file?u(e.favorite.file):rR.y1.DESIGN,I=T?rj(T):a.createElement(rU,{iconType:x}),k=T?(0,rF.Nn)(w,T):w,S=e.favorite.file?.project?.path,R=(0,rD.S)(S),A=R?tD:"favorited_section--titleWithoutSubtitle--BXdOW ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return a.createElement("div",{className:tR},a.createElement(ek.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,onContextMenu:_||p?E:r=>{ri(e.favorite,r,t,ro.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>b(t,e.favorite),icon:I,text:""!==k?a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!1},k):a.createElement(N.E,{truncate:!0},(0,C.tx)(e.favorite.file?.editorType==="whiteboard"?"sidebar.fig_jam_file":e.favorite.file?.editorType==="slides"?"sidebar.slides_file":"sidebar.design_file")),badge:e.isHover&&!(_||p)?a.createElement("div",{className:tI},a.createElement(rO.r,{favoriteType:eL.bk.FILE,resourceId:e.favorite.resourceId,setFavorite:h,orgId:e.favorite.orgId})):void 0,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED}),!f&&!g&&a.createElement("div",{className:j()(e.showPreviewDelay?tS:tN,{[tC]:(0,o.k)().file_browser_sidebar_row_ui}),style:{transform:`translateY(${-e.previewYOffset}px)`}},a.createElement("div",{className:tA},a.createElement(rA.NM,{file:c,noBorder:!0})),a.createElement("div",{className:tO},a.createElement(rR.MW,{svgOptions:{id:"sidebar-thumbnail"},className:tL,type:x}),a.createElement("div",{className:tF},a.createElement("div",{className:A},e.favorite.file?.name),R&&a.createElement("div",{className:"favorited_section--subtitle--sQ1zI ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},R)))),(_||p)&&f&&c?.folderId&&a.createElement(rm,{favoritedFile:e.favorite,folderId:c.folderId,organizeFavoriteOptions:y}))}var r$=r(660437),rH=r(941418),rG=r(835748),rV=r(517989);let rz=e=>a.createElement("div",{className:tx},e);function rq(e){let t=(0,n.wA)(),r=e.favorite.project,o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,tp.S)(),c=(0,n.d4)(e=>e.dropdownShown),d=a.useMemo(()=>c&&c.type===ro.FAVORITED_PROJECT_CONTEXT_MENU&&c.data.projectId===r?.id,[c,r]),m=a.useCallback(e=>{if(!r)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eS.j7({type:ro.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:r.id,targetRect:a}}))},[t,r]),u=(0,rG.E)(),_=a.useCallback((e,t)=>{(0,tj.LP)(t.project?.id,eL.bk.FOLDER,t.sidebarSectionId??void 0,tj.vg),u(t.resourceId,e)},[u]),p=(0,rV.H)({useCurrentPlan:!0});if(!s||null==r)return null;let f=(0,rh.o)({dispatch:t,currentOrgId:l,currentTeamId:o,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eL.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,n)=>{let o={entrypoint:"sidebar",sectionId:n,folder:r,favoriteId:e.favorite.id};a?t(eA.Mv(o)):t(eA.jv(o))}}),g=(0,rF.AE)(r.path),E=g?(0,rF.Nn)(r.path,g):r.path,v=e.favorite.project?.activeProjectResourceConnections?.[0];return a.createElement("div",null,a.createElement(ek.Z,{onContextMenu:m,isSelected:e.isSelected,onClick:t=>_(t,e.favorite),icon:g?a.createElement("div",null,rz(g)):a.createElement(r$.e,null),showGrabber:e.showGrabber,text:a.createElement(N.E,{truncate:!0},E),isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,badge:p&&v?a.createElement(rH.W,{hostPlanName:v.hostPlanName,connectedPlanName:v.connectedPlanName}):void 0}),d&&a.createElement(rp,{projectId:r.id,orgId:r.orgId,organizeFavoriteOptions:f}))}var rY=r(700854),rK=r(576716),rJ=r(390709),rX=r(775991);function rQ({thumbnailUrl:e,isLocked:t,...r}){return t?a.createElement(rK.N,{thumbnailType:rX.F.PROTOTYPE,...r}):a.createElement(rJ.V,{thumbnailUrl:e,thumbnailType:rX.F.PROTOTYPE,...r})}function rZ(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,n.d4)(e=>e.dropdownShown),c=a.useMemo(()=>s&&s.type===ro.FAVORITED_PROTOTYPE_CONTEXT_MENU&&s.data.resource.prototype.id===e.favorite.prototype?.id,[s,e.favorite.prototype]),m=a.useMemo(()=>s&&s.type===th,[s]),u=(0,tp.S)();if(null===e.favorite.prototype)return a.createElement(a.Fragment,null);let _=(0,t8._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId),p=(e,t)=>{if((0,tj.LP)(t.prototype?.fileKey,eL.bk.PROTOTYPE,t.sidebarSectionId??void 0,tj.vg),(0,D.oJ)(e)){e.stopPropagation();return}e.preventDefault(),d.Ay.redirect(_,"_blank")},f=(r,a)=>{r||null===e.favorite.prototype||t(eA.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:a}))},g=(0,rh.o)({dispatch:t,currentOrgId:l,currentTeamId:r,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eL.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{if(r){let r={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:eL.bk.PROTOTYPE};t(eA.V1(r))}else f(!1,e.favorite.id)}});return a.createElement("div",{className:tR},a.createElement(ek.Z,{isSelected:e.isSelected,onContextMenu:r=>{ri(e.favorite,r,t,ro.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>p(t,e.favorite),icon:a.createElement(rY.F,null),text:a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!1},e.favorite.prototype.file?.name),badge:e.isHover&&!u?a.createElement("div",{className:tI},a.createElement(rO.r,{favoriteType:eL.bk.PROTOTYPE,resourceId:e.favorite.resourceId,setFavorite:f,orgId:e.favorite.orgId})):void 0,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED}),!c&&!m&&a.createElement("div",{className:j()(e.showPreviewDelay?tS:tN,{[tC]:(0,o.k)().file_browser_sidebar_row_ui}),style:{transform:`translateY(${-e.previewYOffset}px)`}},a.createElement("div",{className:tA},a.createElement(rQ,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})),a.createElement("div",{className:tO},a.createElement(rY.F,{className:tL}),a.createElement("div",{className:tF},a.createElement("div",{className:tD},e.favorite.prototype.file?.name)))),u&&c&&e.favorite.prototype&&a.createElement(rf,{prototype:e.favorite.prototype,organizeFavoriteOptions:g}))}function r0(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.favorites.collapsedCustomSections),i=(0,n.d4)(e=>e.dropdownShown),s=e.favorite.workspace,c=a.useMemo(()=>i&&i.type===ro.FAVORITED_WORKSPACE_CONTEXT_MENU&&i.data.workspaceId===s?.id,[i,s?.id]),d=a.useCallback((e,r)=>{let a=r.workspace;(0,tj.LP)(a?.id,eL.bk.WORKSPACE,r.sidebarSectionId??void 0,tj.vg),a&&t(eS.$T({view:"workspace",subView:eQ.V0.DIRECTORY,workspaceId:a.id,selectedTab:eQ.dN.TEAMS}))},[t]),m=a.useCallback(e=>{if(!s)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eS.j7({type:ro.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:s.id,targetRect:r}}))},[t,s]);if(!r||null===s)return a.createElement(a.Fragment,null);let u=(0,rh.o)({dispatch:t,currentOrgId:r,currentTeamId:o,collapsedCustomSections:l,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eL.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{let n={workspace:{id:s.id,name:s.name??"",imgUrl:e.favorite.workspace?.imgUrl??null},entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id};r?t(eA.ZW(n)):t(eA.if(n))}}),_=e.favorite.workspace?a.createElement(e5.z6,{entity:e.favorite.workspace,size:16}):a.createElement(e0.t,{className:S.s.colorIcon.$});return a.createElement("div",null,a.createElement(ek.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,onClick:t=>d(t,e.favorite),onContextMenu:m,icon:_,text:a.createElement(N.E,{truncate:!0}," ",s.name)}),c&&a.createElement(r_,{workspaceId:s.id,orgId:e.favorite.orgId,organizeFavoriteOptions:u}))}var r1=r(503159);let r4=(e,t)=>{let r=e.cloneNode(!0),a=document.createElement("div");return a.className="favorited_generic_row--favorite--vFcy4 favorited_generic_row--_favorite--jiaJX sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(a.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(r.classList.add(t),r.classList.add(S.s.colorText.$)),a.appendChild(r),document.body.appendChild(a),a};function r5(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dragState),o=(0,rg.R)(),{hasPendingRequest:l,getUpgradePathway:i,getUpgradeEligibility:s,getPlanAndPlanUser:c,hasProvisionalAccess:d,getShouldShowCurf:m}=(0,rN.wH)({folderId:e.favorite.resourceType===eL.bk.FOLDER?e.favorite.resource.project?.id??null:null,isDraftsMove:!0}),u=(0,rC.f4)((0,ed.md)(rC.yH),o),[_,p]=a.useState(!1),f=e.favorite.resourceType,g=(0,eC._6)(),[E,v]=a.useState(!1),b=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!E,[h,y]=a.useState(!1),w=a.useRef(null),T=(0,tp.S)(),x=_&&!T,k=e.isSelected||(()=>{switch(f){case eL.bk.FOLDER:return"folder"===g.view&&g.folderId===e.favorite.resource.resourceId;case eL.bk.TEAM:return"team"===g.view&&g.teamId===e.favorite.resource.resourceId;case eL.bk.WORKSPACE:return"workspace"===g.view&&g.subView===eQ.V0.DIRECTORY&&g.workspaceId===e.favorite.resource.resourceId;default:return!1}})(),S=(t,r)=>(0,rC.Zm)({files:t,repos:r,isDestinationDrafts:e.favorite.resourceType===eL.bk.FOLDER&&e.favorite.resource.project?.path==="",enabledForOrgOnly:!1,originFolderIdToPath:u,isBillingRemodelEnabled:o,hasPendingRequest:l,getUpgradePathway:i,getUpgradeEligibility:s,getPlanAndPlanUser:c,hasProvisionalAccess:d,getShouldShowCurf:m});return a.createElement("div",{className:b?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--xZvBN sidebar--dropBefore--wZDYO":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--VKuX5":"favorited_generic_row--dropAfter--a64Ax sidebar--dropAfter--JEX7d":void 0},a.createElement(td.Y,{key:e.favorite.resource.resourceId,isDragTarget:e=>{let t=new rS.le(e);return v(t.isFile()),r.type!==eM.R.SidebarSection&&!t.isFile()},onTargetDragEnter:(t,a)=>{let n=new rS.le(t),o=!1;(r.type===eM.R.Favorite||n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())&&((n.isFigFiles()||n.isRepos()||n.isTiles())&&(o=e.favorite.resourceType===eL.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:o?a.upperQuarter:a.upper,dropInto:o&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),y(o))},onTargetDragLeave:t=>{let a=new rS.le(t);(r.type===eM.R.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&b)&&(e.clearRearrangeDragState(e.favorite.resource.id),y(!1))},onTargetDrop:a=>{let n=new rS.le(a);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===eL.bk.FOLDER&&e.favorite.resource.project)(0,r1.A)(t,e.favorite.resource.project,e.favorite.resource.project.team,n,o,S),t(t_.T());else if(n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())e.onSetResourceFavoriteDragDrop(a);else if(r.type===eM.R.Favorite&&b){let a=r.data;e.reorderOrInsertFavorite(a.resource.id,a.resourceType),t(t_.T())}e.clearRearrangeDragState(e.favorite.resource.id),y(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:h?t.upperQuarter:t.upper,dropInto:h&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},a.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||p(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),p(!1)},onDragStart:r=>{r.dataTransfer.effectAllowed="move";let a=new rS.le(r.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let n=r.currentTarget.firstElementChild;if(null===n)return;let o=n.getBoundingClientRect(),l=r.clientX-o.left,i=r.clientY-o.top;w.current=r4(n,"favorited_generic_row--draggable--QinZd"),a.setDragImage(w.current,l,i),t(t_.v({type:eM.R.Favorite,data:e.favorite}))},onDragEnd:r=>{w.current&&w.current.remove(),t(t_.T()),e.clearRearrangeDragState(e.favorite.resource.id),y(!1)},draggable:!e.isFavoritesToMove_DEPRECATED},(()=>{switch(f){case eL.bk.FILE:return a.createElement(rW,{favorite:e.favorite.resource,isHover:_,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED});case eL.bk.PROTOTYPE:return a.createElement(rZ,{favorite:e.favorite.resource,isHover:_,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED});case eL.bk.FOLDER:return a.createElement(rq,{favorite:e.favorite.resource,isHover:_,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED});case eL.bk.TEAM:return a.createElement(rk,{favorite:e.favorite.resource,isHover:_,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case eL.bk.WORKSPACE:return a.createElement(r0,{favorite:e.favorite.resource,isHover:_,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,I.xb)(f)}})())))}var r2=r(831718),r7=r(503024),r3=r(523860),r8=r(85206),r6=r(501642),r9=r(954184);function ae(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),l=function(){let e=(0,n.d4)(e=>e.dropdownShown),t=(0,n.d4)(e=>e.currentUserOrgId),r=(0,n.d4)(e=>e.currentTeamId),a=(0,o.k)().ps_benchmark&&r;return!e||e?.type!=="favorited-file-context-menu"&&e?.type!=="favorited-prototype-context-menu"||t||a?null:e}(),i=(0,Y.dq)()??null,s=(0,V.sb)(e.favorites,e.order),c=(0,eC._6)(),[d,m]=a.useState(!1),_=(0,n.d4)(e=>e.favorites.movingResource),p=(0,tp.S)(),f=(0,n.d4)(e=>e.favorites.collapsedCustomSections),g=p&&e.section?!f.has(e.section?.id):!f.has("favorited"),[E,v]=a.useState(!1),[b,h]=a.useState(),[y,w]=a.useState(),T=(0,n.d4)(e=>e.dragState),x=(0,u.ZC)(T);a.useEffect(()=>{T.type===eM.R.None&&x&&x.type!==eM.R.None&&w(void 0)},[T,x]),a.useEffect(()=>{!e.isCurrentHoveredSection&&T.type===eM.R.SidebarSection&&y&&w(void 0)},[e.isCurrentHoveredSection,y,T]);let[I,k]=a.useState(void 0),[N,R]=a.useState(!0),A=a.useRef(null),O=ty();a.useEffect(()=>{I===y?.draggedOverFavoriteId&&w(void 0),k(void 0)},[y,w,I,k]);let F=a.useCallback(r=>{e.section?.id&&(r.dataTransfer.effectAllowed="move",new rS.le(r.dataTransfer).setArbitraryData(e.section.id),t(t_.v({type:eM.R.SidebarSection,data:e.section.id})))},[t,e.section]),D=a.useCallback(()=>{(0,tj.xs)(!g);let r=new Set(f);p&&e.section?(r2.Fp({type:"topLevel",id:"custom",orgId:i,sectionId:e.section?.id},!g),g?r.add(e.section.id):r.delete(e.section.id)):(r2.Fp({type:"topLevel",id:"favorited",orgId:i},!g),g?r.add("favorited"):r.delete("favorited")),t(eA.U6({collapsedCustomSections:r}))},[g,i,e.section,f,p,t]),L=(r,a)=>{let n;let o=s.map(e=>e.resource.id);if(!y?.draggedOverFavoriteId)return o;let l=-1!==o.indexOf(r);if(l)n=(0,tc.Pe)(o,r,y.draggedOverFavoriteId,y.dropBefore);else{let e=o.indexOf(y.draggedOverFavoriteId);y.dropBefore||(e+=1),n=[...o.slice(0,e),r,...o.slice(e)]}if((0,tj.hp)(),h(r),e.section?.id){l?t(eA.vg({sectionId:e.section.id,orderedFavoriteIds:n})):t(eA.V1({favoriteId:r,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:n}));return}l||t(eA.V1({favoriteId:r,sectionId:void 0,resourceType:a})),t($.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:n,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},P=a.useCallback(e=>{e.stopPropagation(),b&&h(void 0)},[b]),M=a.useCallback(()=>{R(!0)},[]),B=a.useCallback(e=>{let t=new rS.le(e);return m(t.isFile()),t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),U=a=>{let n=new rS.le(a),o=[],l=[],d=[];if(v(!1),n.isFigFiles()){if(!(o=n.getData()))return!1}else if(n.isPrototypes()){if(!(d=n.getData()))return!1}else if(n.isRepos()){let e=n.getReposData();if(!e)return!1;l=e.repos}else if(n.isTiles()){let e=n.getTilesData();if(!e)return!1;o=e.files,l=e.repos,d=e.prototypes}o=o.filter(e=>!e.is_favorited),l=l.filter(e=>!e.is_favorited),d=d.filter(e=>!e.is_favorited);let m=s.map(e=>e.resource.id),u=o.length+l.length+d.length,_=(0,V.kK)(i);if(u+s.length>_)return t(t$.F.enqueue({message:(0,C.t)("tile.favoriting.max_favorites",{maxFavorites:_})})),!1;let p=null;return y&&(p=m.indexOf(y.draggedOverFavoriteId)+(y.dropBefore?0:1)),t(eA.N9({files:o,repos:l,prototypes:d,orgId:i,teamId:r,selectedView:c.view,entrypoint:"sidebar",insertAtIndex:p,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},W=a.useCallback(()=>{v(!0)},[]),H=a.useCallback(()=>{v(!1)},[]),G=j()([S.s.relative.$,"favorited_section--showsCaret--vjo7-",E||y?.draggedOverSectionId&&e.section&&!d&&y.draggedOverSectionId===e.section.id?tk:""]),z=p?e.section?.name===""||e.section?.name===void 0?(0,C.tx)("sidebar.starred"):e.section.name:(0,C.tx)("sidebar.favorite_files"),q=O?.data?.customSection?.id===e.section?.id,K=e.isCreatingNewSection||e.isRenaming,J=j()({"favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--AOJ8E":!K,"favorited_section--actionButtonsVisible--Ey4QI":q&&!K}),X=e.section?.name===void 0?(0,C.t)("sidebar.new_section"):(0,V.R3)(e.section)?(0,C.t)("sidebar.starred"):e.section.name;return a.createElement(td.Y,{className:G,isDragTarget:B,draggable:!1,onTargetDrop:U,onTargetDragEnter:W,onTargetDragLeave:H},a.createElement("div",null,a.createElement("div",{draggable:!0,onDragStart:F,className:J,onClick:D,onContextMenu:r=>{r.stopPropagation(),r.preventDefault();let a={top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1};t(eS.j7({type:th,data:{customSection:e.section,favoritesCount:s.length,isFromRightClick:!0,targetRect:a}}))},role:"button",tabIndex:0},a.createElement(es.B,{className:p?"favorited_section--expandCaretCustomSections--SUjwA":"favorited_section--expandCaret--LgAK5 sidebar--expandCaret--eXGWm",svg:g?r3.A:r8.A}),a.createElement("div",{className:"favorited_section--sectionName--PrU2k ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?a.createElement(tW.p,{className:"favorited_section--input--8x-Vh",placeholderValue:X,submit:r=>{e.isCreatingNewSection?(_?t(eA.yH({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:_})):t(eA.YI({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(eA.vg({sectionId:e.section.id,name:r.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),_&&t(eA.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):z),i&&a.createElement("div",{className:"favorited_section--actionButtons--VZ6Er"},a.createElement("div",{role:"button",tabIndex:0,className:tP,"data-tooltip-max-width":200,ref:A,onClick:r=>{O?t(eS.oB()):A.current&&t(eS.j7({type:th,data:{targetRect:A.current.getBoundingClientRect(),customSection:e.section,favoritesCount:s.length}})),r.stopPropagation(),r.preventDefault()},onContextMenu:e=>e.stopPropagation()},a.createElement(es.B,{svg:r6.A,className:tM})),a.createElement(at,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),a.createElement("div",{className:g?void 0:S.s.hidden.$},(()=>{if(0===s.length){let t=1===e.allSections.length&&(0,V.R3)(e.allSections[0]);return p||e.isCreatingNewSection?p&&t&&!e.isCreatingNewSection?a.createElement(tB,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):a.createElement(a.Fragment,null):a.createElement(ar,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return a.createElement("div",{onMouseMove:P,onMouseLeave:M},s.map(t=>{let r=b===t.resource.id||t.resource.resourceId===l?.data?.resource.resourceId;return a.createElement(r5,{key:t.resource.resourceId,clearRearrangeDragState:k,favorite:t,isSelected:r,onSetResourceFavoriteDragDrop:U,preventHoverStyle:void 0!==b,previewYOffset:e.previewYOffset,rearrangeDragState:y,reorderOrInsertFavorite:L,sections:e.allSections,setShowPreviewDelay:R,showPreviewDelay:N,updateRearrangeDragState:w})}),l&&a.createElement(rd,{dropdownShown:l}))})()))}function at(e){return a.createElement("div",{role:"button",tabIndex:0,className:tP,"data-tooltip-max-width":200,"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},a.createElement(es.B,{svg:r9.A,className:tM}))}function ar(e){return a.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--Xhxgt sidebar--emptySection--SKfhv sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,C.tx)("sidebar.to_favorite_files_you_use_often"))}function aa(e){let t=(0,V.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return a.createElement(ae,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function an(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dragState),o=(0,n.d4)(e=>e.favorites.newCustomSectionIndex),l=(0,n.d4)(e=>e.favorites.favoritesCount),i=(0,V.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[s,c]=a.useState(),[d,m]=a.useState(),[u,_]=a.useState(!1),p=(0,tp.S)(),f=a.useMemo(()=>(0,V.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);a.useMemo(()=>{l&&l<15&&i.length>=15&&(0,tm.YQ)({id:tu.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),t(eA.lF({favoritesCount:i.length}))},[l,i.length,t]);let g={},E=[];i.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let v=a.useCallback(()=>r.type===eM.R.Favorite||r.type===eM.R.SidebarSection,[r]),b=a.useCallback(e=>{r.type===eM.R.SidebarSection&&_(e.upper)},[r]),h=a.useCallback(()=>{let a="starred"===s?void 0:s;if(r.type===eM.R.Favorite){let e=r.data;t(eA.V1({favoriteId:e.resource.id,sectionId:a,resourceType:e.resourceType}))}else if(r.type===eM.R.SidebarSection&&a){let n=f.map(e=>e.id)??[],o=(0,tc.Pe)(n,r.data,a,u);t($.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:o},userInitiated:!0}))}_(!1),c(void 0),t(t_.T())},[s,t,r,u,f,e.fileBrowserPreferences]),y=a.useCallback(e=>()=>{c(e)},[]),w=a.useCallback(()=>{c(void 0)},[]),T=a.useCallback(e=>{t(eA.pS({newCustomSectionIndex:e}))},[t]);if(0===f.length&&p&&void 0===o)return a.createElement(tU,{setNewCustomSectionIndex:T});let x=a.createElement("div",{className:S.s.mb8.$},a.createElement(ae,{allSections:f,favorites:[],fileBrowserPreferences:e.fileBrowserPreferences,isCreatingNewSection:!0,isRenaming:!0,order:[],previewYOffset:e.previewYOffset,sectionIndex:o||0,setNewCustomSectionIndex:T,setRenamingSectionId:m}));return a.createElement("div",{className:S.s.mt8.$},0===o&&x,f.map((t,n)=>{let l=r.type===eM.R.Favorite?tk:u?"favorited_section--dropBefore--6poyi sidebar--dropBefore--wZDYO":"favorited_section--dropAfter--7G6L7 sidebar--dropAfter--JEX7d",i=j()([s===t.id?l:"",S.s.mb8.$]);return a.createElement("div",{key:t.id},a.createElement(td.Y,{className:i,isDragTarget:v,draggable:!1,onTargetDragQuadrantUpdate:b,onTargetDrop:h,onTargetDragEnter:y(t.id),onTargetDragLeave:w},a.createElement(ae,{allSections:f,favorites:g[t.id]??[],isCurrentHoveredSection:s===t.id,isRenaming:d===t.id,order:t.orderedFavoritedResourceIds??[],previewYOffset:e.previewYOffset,section:t,sectionIndex:n,setNewCustomSectionIndex:T,setRenamingSectionId:m})),o===n+1&&x)}),p&&a.createElement(tw,{setRenamingSectionId:m}))}var ao=r(453822),al=r(266163),ai=r(128964),as=r(719006),ac=r(296623),ad=r(314272),am=r(824007);let au=(0,tf.Ju)(function(e){let[t,r]=(0,a.useState)(null),o=(0,n.wA)(),l=(0,ai.Gs)(),i=(0,K.TA)(),s=(0,n.d4)(e=>e.teamUserByTeamId),c=(0,n.d4)(e=>i?e.authedUsers.byId[i]?.plans?.filter(e=>!e.is_org):null),d=(0,C.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),m=()=>o(tv.Ce()),u={};i&&(0,ac._)(s,i).forEach(e=>{e.drafts_folder_id&&(u[e.team_id]=e.drafts_folder_id)});let _=(e,t)=>{t&&o(as.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return a.createElement(ad.XV,{title:d,fixedTop:!0,minWidth:480,maxWidth:480,onClose:m,truncateTitleText:!0},a.createElement("div",{className:"move_favorites_modal--modalBody---Rdx2"},c&&a.createElement(el.P,{width:480},a.createElement("div",{className:S.s.pl8.pr8.$},c.map(e=>a.createElement(a_,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>r(t?.plan_id===e.plan_id?null:e)})))),a.createElement("div",{className:"move_favorites_modal--footer--ERUeX"},a.createElement(ea.nR,{onClick:m},(0,C.tx)("modal.cancel")),a.createElement(ea.vd,{disabled:!t,onClick:()=>{let r=t?.is_org?null:t?.plan_id,a=e.favorites.reduce((e,t)=>t.resourceType===eL.bk.FILE&&t.resource.file?.key?{...e,[t.resource.file?.key]:!0}:e,{}),n={},i=l.filter(e=>{let t=!!a[e.key];return t&&(n[e.key]=!0),t}),s=e.favorites.filter(e=>!(e.resourceType===eL.bk.FILE&&e.resource.file?.key)||!n[e.resource.file?.key]).map(e=>e.resource.id);o(eA.Ic({favoriteIds:s,teamId:r})),r&&_(i,u[r]),m()}},(0,C.t)("modal.confirm")))))},"MoveFavoritesModal");function a_(e){return a.createElement("button",{"data-testid":`${e.name}-button`,className:j()("move_favorites_modal--teamRow--qNRGf",e.checked?S.s.colorBgSelected.$:""),onClick:e.onSelect},a.createElement("div",{className:"move_favorites_modal--iconContainer--oDATP"},e.checked?a.createElement(es.B,{className:S.s.colorIcon.$,svg:am.A}):a.createElement(rv.nl,{size:rv.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:rb.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),a.createElement("div",{className:"move_favorites_modal--teamName--pVqcu ellipsis--ellipsis--Tjyfa"},a.createElement("span",{className:"move_favorites_modal--destinationHeading--mwxLX"},e.name)))}var ap=r(507015);let af="favorited_drafts_to_move";function ag(e){let t=(0,n.wA)(),[r,o]=a.useState(!0),l=(0,n.d4)(e=>e.favorites.collapsedCustomSections),i=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),s=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),c=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),d=(0,V.ds)(i,s,c),m=!l.has(af),u=a.useCallback(()=>{r2.Fp({type:"topLevel",id:af,orgId:null},!m),m?l.add(af):l.delete(af),t(eA.U6({collapsedCustomSections:l}))},[m,l,t]),_=a.useCallback(()=>{t(eA.vr({favoriteIds:d.map(e=>e.id)}))},[t,d]);if(0===d.length)return a.createElement(a.Fragment,null);let f=d.map(t=>a.createElement(r5,{key:t.resource.resourceId,clearRearrangeDragState:p.lQ,favorite:t,isFavoritesToMove_DEPRECATED:!0,isSelected:!1,onSetResourceFavoriteDragDrop:p.lQ,preventHoverStyle:!1,previewYOffset:e.previewYOffset,rearrangeDragState:void 0,reorderOrInsertFavorite:p.lQ,sections:[],setShowPreviewDelay:o,showPreviewDelay:r,updateRearrangeDragState:p.lQ}));return a.createElement(a.Fragment,null,a.createElement("div",{className:"favorited_section--divider--o9WjE favorited_section--divider--o9WjE"}),a.createElement("div",{className:j()("favorited_section--moveFavoritesContainer--qp39R",S.s.pt4.pb4.ml8.mr8.mb8.$)},a.createElement("div",{className:j()(S.s.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--2RB9p favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa")},a.createElement("div",{onClick:u,className:S.s.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},a.createElement(es.B,{className:j()(S.s.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--pl1Hf"),svg:m?r3.A:r8.A}),(0,C.tx)("sidebar.move_these_starred_items"),a.createElement(es.B,{svg:ap.A,className:j()("favorited_section--helpIcon--vfl5Y",S.s.flex.itemsBaseline.ml4.$),"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),m?null:a.createElement(ao.Ex,{text:d.length>99?"99+":`${d.length}`,color:ao.zE.DEFAULT,className:S.s.mr8.colorText.colorBgSelectedSecondary.$})),m?a.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--xYv6p"},f,a.createElement("div",{className:S.s.flex.justifyBetween.m8.h24.$},a.createElement(al.$$,{className:"favorited_section--favoritesToMoveActionButtons--FUt77",onClick:()=>{t(tv.to({type:au,data:{favorites:d}}))}},(0,C.tx)("file_browser.planless_favorites.add_to_sidebar")),a.createElement(al.nR,{className:"favorited_section--unstarAllButton--Rhy3- favorited_section--favoritesToMoveActionButtons--FUt77",onClick:_},(0,C.tx)("file_browser.planless_favorites.unstar_all")))):null))}function aE(e){let t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.wA)();return t?a.createElement(ek.Z,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{r(e1.eP()),r(eS.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:a.createElement(e0.t,null),text:a.createElement(N.E,{truncate:!0},(0,C.tx)("sidebar.all_shared_projects"))}):null}var av=r(866664);function ab(e){return e?(0,C.t)("sidebar.browse.all_workspaces"):(0,C.t)("sidebar.browse.all_teams")}function ah(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(t=>e?t.orgById[e]:null),r=(0,J.c4)(e).data??!1;return t&&e?a.createElement(a.Fragment,null,ab(r)):null}function ay({hasWorkspaces:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,n.d4)(e=>e.selectedView),l=(0,tp.S)(),i=(0,n.d4)(e=>r?e.orgById[r]:null),s="org"===o.view&&o.orgId===r,c=ab(e);return i&&r&&c?a.createElement(ek.Z,{isSelected:s,onClick:()=>{t(eS.$T({view:"org",orgId:r,orgViewTab:tT.X.HOME})),t(eS.Oe({clickedResourceType:"org",resourceIdOrKey:r}))},icon:l?a.createElement(e0.t,{className:S.s.colorIcon.$}):a.createElement(av.Y,null),text:a.createElement(N.E,{truncate:!0},c)}):null}var aw=r(776293),aT=r(91888);let ax="seen_team_admin_moved_unassigned_drafts_onboarding",aI=(0,ef.r1)(ax);function ak(){let e=(0,ed.md)(aI),{show:t,isShowing:r,complete:n}=(0,ep.e)({overlay:eh.tZO,priority:eE.N.DEFAULT_MODAL},[e]);return(0,m.h)(()=>{t({canShow:e=>!e})}),a.createElement(ev.rq,{arrowPosition:eb.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,C.tx)("team_admin.onboarding.unassigned_drafts.description"),isShowing:r,onClose:n,primaryCta:{label:(0,C.tx)("general.got_it"),type:"button",onClick:n,ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,C.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:e_.c.LEARN_MORE},shouldCenterArrow:eb.EL.FALLBACK,targetKey:aN,title:(0,C.tx)("team_admin.onboarding.unassigned_drafts.title"),trackingContextName:aT.o8,userFlagOnShow:ax})}var aS=r(710665),aC=r(977508);let aN="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function aR(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),o=(0,n.d4)(e=>e.teams),l=(0,n.d4)(tz.getPermissionsState);if(!r)return null;let i=o[r];if(!(0,tz.hasAdminRoleAccessOnTeam)(r,l)||!i||!(0,aS.w5)(i))return null;let s=e.selectedView&&"teamAdminConsole"===e.selectedView.view,c=a.createElement(ej.e9,{planType:eU.ps.TEAM,planId:r,isSelected:s,isDataLoaded:!0,isOrgAdmin:!1});return a.createElement(a.Fragment,null,a.createElement(eH,{badge:i?.pro_team?c:void 0,isSelected:s,dataTestId:"admin-settings-link",dataOnboardingKey:aN,onClick:()=>{t(eS.$T({view:"teamAdminConsole",teamId:r,isProTeam:i.pro_team,teamAdminConsoleViewTab:i.pro_team?aC.Iv.DASHBOARD:aC.Iv.MEMBERS})),t(eS.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:i.id}))}}),a.createElement(ak,null))}var aA=r(231976),aO=r(54494),aF=r(901647);function aD(){let e=(0,n.wA)(),t=(0,eC.z3)(),r=(0,aO.Om)(),o=(0,aO.tv)();return a.createElement(ek.Z,{onClick:()=>{d.Ay.push(new aO.au({...r,tab:aF.N$.INTERNAL},o).href),e(eS.Oe({clickedResourceType:"resourceHub"}))},isSelected:"resourceHub"===t,icon:a.createElement(aA.e,null),text:a.createElement(N.E,{truncate:!0},(0,C.tx)("sidebar.templates_and_tools"))})}var aL=r(379338),aP=r(524271),aM=r(579185),aB=r(493554),aU=r(903217),aj=r(748604),aW=r(849752),a$=r(635547),aH=r(920963),aG=r(505870),aV=r(991371),az=r(155651);function aq(){return a.createElement("div",{className:"base_upgrade_section--divider--k-uOp sidebar--divider--sHsz4"})}function aY(e){return a.createElement(az.fu,{name:e.trackingContext,properties:e.trackingProperties},a.createElement("div",{className:e.demure?"base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":"base_upgrade_section--content--95XrT"},e.onDismiss&&a.createElement(aV.Jn,{className:"base_upgrade_section--closeButton--cbjWt",onClick:e.onDismiss}),e.header&&a.createElement("div",{className:S.s.wFull.if(e.demure,S.s.font13.lh24,S.s.mb12).$},e.header,!e.demure&&a.createElement(aq,null)),!!e.icon&&e.icon,e.countDownDaysLeft&&a.createElement("div",{className:"base_upgrade_section--countdownTicker--6YLVt"},a.createElement(N.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),a.createElement("div",{className:e.demure?"base_upgrade_section--textContainerMindful--CttjJ":"base_upgrade_section--textContainer--ObHaO"},e.titleText&&a.createElement("p",{className:"base_upgrade_section--title--MLhT1"},e.titleText),a.createElement("p",null,e.bodyText)),a.createElement(ea.vd,{className:"base_upgrade_section--ctaButton--B1ywj",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let aK="upgrade_section--upgradeTextEmphasized--aQCr9";var aJ=(e=>(e[e.UPGRADE=0]="UPGRADE",e[e.CREATE=1]="CREATE",e))(aJ||{});function aX(e){let t=(0,n.wA)(),r=(0,x.sx)(),o=e.type,l=a.createElement("span",{className:aK},(0,C.t)("edu.sidebar_section.verified"));return a.createElement(aY,{trackingContext:0===o?"Edu Upgrade Section":"Edu Create Section",icon:a.createElement(aP.o,null),bodyText:a.createElement(a.Fragment,null,l," ",0===o?(0,C.t)("edu.sidebar_section.upgrade"):(0,C.t)("edu.sidebar_section.create_team")),ctaText:0===o?(0,C.t)("edu.choose_team"):(0,C.t)("edu.create_free_team"),onClickCTA:0===o?()=>{t((0,tv.to)({type:aj.q}))}:()=>{t(e1.Dw({isEduTeam:!0}))},onDismiss:r?void 0:()=>{t(eO.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function aQ({daysLeft:e}){let t=(0,n.wA)(),r=(0,aB.Rs)(a$.UpR,{},{enabled:!(0,o.k)().edu_bootcamps_reverification}),l=(0,H.H5)(),i=!!(0,aW.f)("edu_hide_verification");if((0,o.k)().edu_bootcamps_reverification||(i=(r.data?.currentUser?.schoolType?.status===er.tT.Loaded?r.data.currentUser.schoolType.data:null)===aG.h6.BOOTCAMP_OR_ONLINE&&l()),e<0)return null;let s=()=>{t((0,tv.to)({type:aU.V,data:{upsellSource:aH.b.EDU_UPGRADE_SECTION}}))},c=a.createElement(ea.eM,{onClick:()=>d.Ay.redirect("/education/apply",f.Ay.isIpadNative?void 0:"_blank")},(0,C.tx)("edu.sidebar_section.verify_your_education_status"));return e>0?a.createElement(aY,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,C.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:i?(0,C.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,C.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:c}),ctaText:(0,C.tx)("upgrade.upgrade_to_professional"),onClickCTA:s}):a.createElement(aY,{trackingContext:"Universal Upgrade Section Education Plan Expired",icon:a.createElement(aM.e,null),titleText:(0,C.tx)("edu.sidebar_section.education_plan_expired"),bodyText:i?(0,C.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,C.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:c}),ctaText:(0,C.tx)("upgrade.upgrade_to_professional"),onClickCTA:s})}var aZ=r(351766),a0=r(280198),a1=r(470230),a4=r(142899);let a5="dismissed_limited_team_space_uub";function a2(e){let t=(0,n.wA)(),[r,o]=a.useState(!1),l=(0,aB.Rs)(a$.qOl,{teamId:e.team.id}),i=(0,K.iZ)(),s="loaded"===l.status&&(0,aZ.oA)(l.data?.teamRoleRequest),c=!!s&&"pending"===s.status,d=!!s&&"approved"===s.status,m=!!s&&"denied"===s.status;if(a.useEffect(()=>{c&&o(!0)},[c]),"loaded"!==l.status||d||m)return null;let u=async()=>{try{await a4.$.requestTeamRole({teamId:e.team.id}),t(t$.F.enqueue({message:(0,C.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,G.uE)("limited_team_plan_request_upgrade_clicked",{user:i},{teamId:e.team.id}),o(!0)}catch(e){t(a0.s.error("Failed to request team role",e))}};return a.createElement(aY,{bodyText:(0,C.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:r?(0,C.tx)("upgrade.access_requested"):(0,C.tx)("upgrade.request_full_access"),ctaTrackingProperties:{},demure:"very",disabled:c||r,header:(0,C.tx)("upgrade.limited_access_in_this_team"),onClickCTA:u,onDismiss:()=>{t(a1.bE({all_team_flags:[{team_id:e.team.id,flags:{[a5]:!0}}]}))},trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id}})}var a7=r(219575),a3=r(478550),a8=r(620760);function a6({orgUpsellEligibility:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.userFlags),o=e===a8.VY.SINGLE_TEAM?(0,C.tx)("upgrade.access_cross_team_design_libraries_sso_and_more"):(0,C.tx)("upgrade.centralize_your_teams_and_share_design_libraries"),l=`${e===a8.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return a.createElement(aY,{trackingContext:l,icon:a.createElement(a7.L,null),bodyText:o,ctaText:(0,C.tx)("upgrade.view_plans"),onClickCTA:()=>{e===a8.VY.SINGLE_TEAM&&t((0,tv.to)({type:a3.HS,data:{upsellSource:aH.b.ORG_UPGRADE_SECTION}})),e===a8.VY.MULTIPLE_TEAMS&&t((0,tv.to)({type:a3.u3,data:{upsellSource:aH.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,a8.CJ)(r)),ctaDataTestId:"org-upgrade-cta"})}var a9=r(901450),ne=r(470861),nt=r(592845);let nr="dismissed_paid_free_space_uub";function na(e){let t=(0,n.wA)(),r=(0,ed.md)(a9.A),o=nt.h.useTrackingContext({trigger:aH.b.UNIVERSAL_UPGRADE_SECTION}),l=a.createElement(ea.eM,{onClick:()=>{t(eS.j7({type:ne.ER,data:{targetRect:r}}))},trackingProperties:{trackingDescriptor:e_.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS}},(0,C.tx)("upgrade.work_in_one_of_your_paid_teams")),i=(0,C.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:l});return a.createElement(aY,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...o},header:(0,C.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:i,ctaText:(0,C.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,tv.to)({type:aU.V,data:{upsellSource:aH.b.UNIVERSAL_UPGRADE_SECTION}}))},ctaTrackingProperties:{trackingDescriptor:e_.c.VIEW_ALL_PLANS},onDismiss:()=>{t(a1.bE({all_team_flags:[{team_id:e.team.id,flags:{[nr]:!0}}]}))},demure:"very"})}var nn=r(195631),no=r(895104),nl=r(839630),ni=r(944527);let ns="pro_trials_upgrade_section--divider--0tBoX sidebar--divider--sHsz4";function nc(){let e=(0,n.wA)();return a.createElement(aY,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:ni.ng.getTrackingProperties(),icon:a.createElement(nn.K,null),titleText:a.createElement(N.E,null,(0,C.tx)("upgrade.free_professional_team_trial")),bodyText:a.createElement(N.E,null,(0,C.tx)("upgrade.enjoy_our_best_design_features_for_14_days")),ctaText:a.createElement(N.E,null,(0,C.tx)("upgrade.try_the_professional_plan")),onClickCTA:()=>e((0,tv.to)({type:nl.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:ni.ng.getTrackingProperties("Try the Professional Plan")})}function nd({team:e}){return a.createElement(no.Y,{spacing:8,dataTestId:"team-info"},a.createElement(rv.nl,{size:rv.Pf.SMALL,team:e,fallbackDisplay:rb.U.HIDDEN,shape:"ROUNDED_SQUARE"}),a.createElement(N.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function nm({daysLeft:e,trialTeam:t,onClickCTA:r}){var n;let o=a.createElement(ea.eM,{onClick:r,dataTestId:"pro_trial_inline_upgrade",trackingProperties:ni.ng.getTrackingProperties()},(0,C.tx)("upgrade.pro_trial_inline_upgrade_cta"));return a.createElement(az.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:ni.ng.getTrackingProperties()},a.createElement("div",{className:ns}),a.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--E-f1E"},a.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--sN5Pd"},a.createElement(nd,{team:t})),a.createElement("div",{className:ns}),a.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker--rDpWO"},a.createElement(N.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),a.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--a-ppM"},a.createElement(N.E,{color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13},(0,C.tx)("upgrade.days_left_in_trial",{days:e}))),a.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--ho-7F"},a.createElement(N.E,{children:(n=e)>=14?a.createElement(N.E,null,(0,C.tx)("upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",{upgrade:o})):n>=10?a.createElement(N.E,null,(0,C.tx)("upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",{upgrade:o})):n>=4?a.createElement(N.E,null,(0,C.tx)("upgrade.pro_trial_uub_countdown.try_out_these_features")):n>=2?a.createElement(N.E,null,(0,C.tx)("upgrade.pro_trial_uub_countdown.you_will_miss_these_files")):n>=1?a.createElement(N.E,null,(0,C.tx)("upgrade.pro_trial_uub_countdown.just_a_memory")):null})),e<=9&&a.createElement(ea.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--SP1nz",onClick:r,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:ni.ng.getTrackingProperties()},a.createElement(N.E,null,(0,C.tx)("upgrade.upgrade_to_professional")))))}function nu(e){return a.createElement(aY,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:ni.ng.getTrackingProperties(),titleText:a.createElement(N.E,null,(0,C.tx)("upgrade.currently_on_starter_plan")),bodyText:a.createElement(N.E,null,(0,C.tx)("upgrade.your_trial_has_ended")),ctaText:a.createElement(N.E,null,(0,C.tx)("upgrade")),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:ni.ng.getTrackingProperties(),header:a.createElement(nd,{team:e.team})})}function n_(e){let t=(0,n.wA)(),{ongoingUpgradableTrials:r,expiredUpgradableTrials:o}=e,l=(0,n.d4)(e=>e.teams),i=e=>{t((0,tv.to)({type:aU.V,data:{teamId:e,upsellSource:aH.b.PRO_TRIAL_UPSELL_MODAL}}))};return o.length>0?a.createElement(nu,{team:l[o[0].teamId],onClickCTA:()=>i(o[0].teamId)}):r.length>0?a.createElement(nm,{trialTeam:l[r[0].teamId],daysLeft:r[0].daysLeft,onClickCTA:()=>i(r[0].teamId)}):null}var np=(e=>(e.PRO_TRIALS_ENTRY="Pro Trials Entry",e.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",e.LIMITED_TEAM_SPACE="Limited Team Space",e.EDU_EXPIRY="EDU Expiry",e.EDU_UPGRADE="EDU Upgrade",e.ORG_UPGRADE="Org Upgrade",e.PAID_FREE_SPACE="Paid Free Space",e.UNIVERSAL="Universal",e))(np||{}),nf=(e=>(e.BETWEEN_CONTENT="between_content",e.AFTER_CONTENT="after_content",e.IN_FOOTER="in_footer",e))(nf||{});function ng({onTeam:e,hitFileLimit:t}){let r=(0,n.wA)(),o=nt.h.useTrackingContext({trigger:aH.b.UNIVERSAL_UPGRADE_SECTION}),l=t?a.createElement(a.Fragment,null,a.createElement("span",{className:aK},(0,C.tx)("upgrade.running_out_of_files_in_your_free_team"))," ",(0,C.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")):(0,C.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return a.createElement(aY,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...o},icon:a.createElement(a7.L,null),bodyText:l,ctaText:(0,C.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:e_.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{r((0,tv.to)({type:aU.V,data:{upsellSource:aH.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var nE=r(921494),nv=r(416900),nb=r(270070),nh=r(320830),ny=r(922030),nw=r(119310),nT=r(111693);let nx=(0,ed.eU)(e=>{let t=e(nT.m),r=e(nI),a=(0,o.k)().ps_benchmark;if(!r)return!1;let n=[eL.P4.FILES_LIMITED,eL.P4.FILES_LIMITED_LEGACY,eL.P4.WHITEBOARD_FILES_LIMITED,eL.P4.WHITEBOARD_FILES_LIMITED_BETA,eL.P4.SLIDE_FILES_LIMITED,eL.P4.SLIDE_FILES_LIMITED_BETA].some(e=>r?.restrictions_list?.includes(e));return a?n:Object.values(t).some(e=>[eL.P4.FILES_LIMITED,eL.P4.FILES_LIMITED_LEGACY,eL.P4.WHITEBOARD_FILES_LIMITED,eL.P4.WHITEBOARD_FILES_LIMITED_BETA,eL.P4.SLIDE_FILES_LIMITED,eL.P4.SLIDE_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),nI=(0,nw.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function nk(){return a.createElement(L.tH,{boundaryKey:"SidebarUpgradeSection",fallback:L.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:B.e.MONETIZATION_UPGRADES}},a.createElement(nS,null))}function nS(){let e=nN();return null===e?null:a.createElement(nC,{...e})}function nC(e){switch(e.type){case np.PRO_TRIALS_ENTRY:return a.createElement(nc,null);case np.PRO_TRIALS_UPGRADE:return a.createElement(n_,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case np.EDU_EXPIRY:return a.createElement(aQ,{daysLeft:e.props.daysLeft});case np.EDU_UPGRADE:return a.createElement(aX,{type:e.props.type});case np.ORG_UPGRADE:return a.createElement(a6,{orgUpsellEligibility:e.props.orgUpsellEligibility});case np.PAID_FREE_SPACE:return a.createElement(na,{team:e.props.team});case np.LIMITED_TEAM_SPACE:return a.createElement(a2,{team:e.props.team});case np.UNIVERSAL:default:return a.createElement(ng,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function nN(){let e=function(){let e=(0,eD.FC)(),t=(0,K.TA)(),r=(0,aW.f)(ni.Jy),a=(0,nh.xX)(),o=(0,n.d4)(e=>e.userTeamFlags),l=(0,te.pT)();if(ni.ng.uxEnabled()&&!l){let{ongoingTrials:n,expiredTrials:l}=ni.ng.getUpgradableProTrials(o,e),i=l.filter(ni.ng.canSeeProTrialExpiryUx);if(n.length>0||i.length>0)return{type:np.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:n,expiredUpgradableTrials:i}};if(r&&a.length>0&&ni.ng.isUserInVariant(t))return{type:np.PRO_TRIALS_ENTRY}}return null}(),t=function(){let e=(0,K.iZ)(),t=(0,ny.ol)(),r=(0,eD.FC)(),a=(0,aB.Rs)(a$.UpR,{}),l=a.data?.currentUser?.eduPeriodEnd,i=(0,x.sx)(),s=(0,n.d4)(e=>e.userFlags),c=(0,te.pT)();if(!e||"loaded"!==a.status)return null;let d=(0,nv.x$)(l,(0,nv.cn)(e)),m=d>0&&d!==1/0&&(0,nv.cn)(e)&&t?.student_team_state===eL.kU.STUDENT_TEAM_CURRENT,u=0===d&&t?.student_team_state===eL.kU.STUDENT_TEAM_EXPIRED&&(0,aS.oc)(t.id,r);if((0,o.k)().edu_offboarding_experience&&(m||u))return{type:np.EDU_EXPIRY,props:{daysLeft:d}};let _=!i&&!s.dismissed_edu_sidebar,p=i&&!t?.student_team;if((_||p)&&(0,nv.cn)(e)&&!c){let e=(0,aS.Kg)(r).length>0;return{type:np.EDU_UPGRADE,props:{type:e?aJ.UPGRADE:aJ.CREATE}}}return null}(),r=function(){let e=(0,K.iZ)(),t=0===Object.keys((0,n.d4)(e=>e.orgById)).length,r=(0,n.d4)(e=>e.teams),a=(0,ny.ol)(),l=(0,ed.md)(nx),i=!Object.values(r).some(e=>null!==e.subscription||e.student_team_at),s=!!(0,o.k)().ps_benchmark,c=(0,ed.md)(e7.Lm),d=(0,aB.Rs)(a$.kQI,{id:a?.id??""},{enabled:!!a&&s}),m=(0,ee.vt)(),u=(0,H.Yz)(),_=(0,Q.R)(a?.id),p=(0,Q.jn)(),f=(0,H.Xs)();if(!e||s&&!a||s&&("loaded"!==d.status||!d.data.team?.hasPermission||"loaded"!==c.status||!c.data))return null;let g=a&&s&&!(0,nv.cn)(e)&&!(0,aS.w5)(r[a.id])&&!u(m)&&!f(p&&_);return!s&&t&&!(0,nv.cn)(e)&&i||g?{type:np.UNIVERSAL,props:{onTeam:Object.keys(r).length>0,hitFileLimit:l}}:null}(),a=function(){let e=(0,n.d4)(e=>e.userFlags),t=function(){let e=(0,eD.FC)(),t=(0,nE.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId}));return(0,a8.hF)(t,e)}(),r=(0,a8.j)(e);return t===a8.VY.NONE||r?null:{type:np.ORG_UPGRADE,props:{orgUpsellEligibility:t}}}(),l=function(){let e=(0,K.iZ)(),t=(0,n.d4)(e=>e.teams),r=(0,ny.ol)(),a=!!(0,o.k)().ps_benchmark,l=(0,ed.md)(e7.Lm),i=(0,n.d4)(e=>e.userTeamFlags),s=(0,aB.Rs)(a$.kQI,{id:r?.id??""},{enabled:!!r&&a}),c=(0,H.Mi)();return!e||!r||!a||"loaded"!==l.status||l.data||(0,nv.cn)(e)||(0,aS.w5)(t[r.id])||"loaded"!==s.status||!s.data.team?.hasPermission||!c()?null:(0,nb.gY)(i,nr,r.id,7776e6)?null:{type:np.PAID_FREE_SPACE,props:{team:r},overrideLocation:nf.IN_FOOTER}}(),i=function(){let e=(0,K.iZ)(),t=(0,ny.ol)(),r=(0,X.d)(),a=(0,n.d4)(e=>e.userTeamFlags);return e&&t&&r?(0,nb.gY)(a,a5,t.id,7776e6)?null:{type:np.LIMITED_TEAM_SPACE,props:{team:t},overrideLocation:nf.IN_FOOTER}:null}();return null!==e?e:null!==i?i:null!==t?t:null!==r?r:null!==a?a:null!==l?l:null}var nR=r(643727),nA=r(224223),nO=r(355232),nF=r(880245);function nD(){let e=(0,n.wA)(),t=()=>{(0,nA.sx)("community_browser_sidebar_action_clicked"),e(eS.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,nO.Gu)()}))};return a.createElement(az.L0,{trackingEventName:"community_browser_sidebar_action_clicked",className:j()(S.s.flex.flexRow.itemsCenter.gap12.h48.pl12.pr12.colorText.cursorDefault.$,"explore_community_button--hoverColor--mDUIs"),"data-onboarding-key":nF.vM,onClick:e=>{e.preventDefault(),e.stopPropagation(),t()}},a.createElement(nR.J,null),a.createElement(N.E,null,(0,C.tx)("sidebar.explore_community")))}function nL(e){return a.createElement("div",{className:S.s.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,S.s.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&a.createElement("div",{className:S.s.pb10.pt12.$},a.createElement(nk,null)),!(0,aL.sL)()&&!(0,eR.yl)()&&a.createElement(nD,null))}var nP=r(785439),nM=r(629215);function nB(e){return a.createElement("div",{className:S.s.flex.flexColumn.colorBg.if(e.hasBottomBorder,S.s.bb1.colorBorder.bSolid).$},a.createElement(nM.Xg,null),a.createElement(nP.Zn,null))}var nU=r(949002);function nj(e){let t=(0,n.wA)(),r=(0,eC._6)(),o=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.teamFeedBellStates),i=!!(o&&l[o]),s="teamFeed"===r.view;return a.createElement(ek.Z,{onClick:()=>{t(eS.$T({view:"teamFeed"})),t(eS.Oe({clickedResourceType:"teamFeed"}))},isSelected:s,icon:a.createElement(nU.h,null),text:a.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--dPwog sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},a.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--MLMFK"},(0,C.tx)("fig_feed.feed"),i&&a.createElement("div",{className:"team_feed_page_link--redDot--t6QPY red_dot--baseRedDot--pgZV7"})))})}var nW=r(106483);function n$({selectedView:e,teamFolderId:t,teamFolderName:r}){let o=(0,n.wA)();return t&&r?a.createElement(ek.Z,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{o(e1.gN(t)),o(eS.Oe({clickedResourceType:"folder"}))},icon:a.createElement(r$.e,null),text:a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!1},r),"data-onboarding-key":nW.Jo}):null}var nH=r(492201);function nG(){let e=(0,n.wA)(),t="deletedFiles"===(0,n.d4)(e=>e.selectedView).view;return a.createElement(a.Fragment,null,a.createElement(ek.Z,{isSelected:t,onClick:()=>{e(eS.$T({view:"deletedFiles"})),e(eS.Oe({clickedResourceType:"deletedFiles"}))},icon:a.createElement(nH.z,null),text:a.createElement("div",{className:S.s.pr36.$},a.createElement(N.E,null,(0,C.tx)("file_browser.tool_bar.trash")))}))}var nV=r(821527);function nz(e){let t=(0,n.wA)(),r=(0,Y.dq)(),l=(0,n.d4)(e=>e.currentTeamId),i=(0,n.d4)(e=>e.userFlags),s=(0,eD.FC)(),c=(0,n.d4)(e=>e.userStateLoaded),d=(0,eC._6)(),m=(0,n.d4)(e=>e.dragState),[u,_]=a.useState(0),[p,g]=a.useState(!1),[E,v]=a.useState(!1),[b,h]=a.useState(!1),y=e=>{t(eO.b({show_create_new_section_banner:!1}))},w=e=>{t(eA.pS({newCustomSectionIndex:0})),y(e)},T=!!l,x=(0,X.d)(),I=(0,eP.wA)(s),k=(0,eF.a9)(),N=k&&k.permission===eL._D.ADMIN,R=(0,V.D6)(r),A=()=>c?a.createElement(nk,null):null,O=(0,o.k)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedFiles:e.sidebarUser?.favoritedFiles,F=(0,o.k)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:e.sidebarUser?.favoritedPrototypes,D=(0,o.k)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedProjects:e.sidebarUser?.favoritedProjects;D&&e.FBGNavigationUpdatesTreatment!==H.ih.CONTROL&&(D=D.filter(t=>t.project?.id!==e.teamFolderId));let L=O?.length===0&&F?.length===0&&D?.length===0,P=e.FBGNavigationUpdatesTreatment===H.ih.CONTROL||!L,M=nN(),B={[H.ih.CONTROL]:nf.BETWEEN_CONTENT,[H.ih.VARIANT_A]:nf.IN_FOOTER,[H.ih.VARIANT_B]:nf.AFTER_CONTENT}[e.FBGNavigationUpdatesTreatment],U=M?.overrideLocation??B,W=!!m.data&&(m.type===eM.R.Folder||m.type===eM.R.Team||m.type===eM.R.Favorite),$=I&&a.createElement("div",{className:tt},i.show_create_new_section_banner?a.createElement("div",{className:"sidebar--betaAnnouncementContainer--FfmFT"},a.createElement("div",{className:"sidebar--betaAnnouncementHeader--g6Qzz"},a.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--AyDjm"},(0,C.tx)("favorited_resources.custom_sections_banner_header")),a.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX---nRcN",onClick:e=>y(e)},a.createElement(es.B,{svg:nV.default}))),a.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--8u60g"},a.createElement("p",null,(0,C.tx)("favorited_resources.custom_sections_banner_body")),a.createElement("br",null),a.createElement("p",null,a.createElement(ea.tM,{className:"sidebar--betaAnnouncementButton--RCpKp",onClick:e=>w(e)},(0,C.tx)("favorited_resources.custom_sections_banner_create_new_section_button"))))):null),G=!(e.showLoadingState||e.showingFileBrowserLoader),z=(0,o.k)().file_browser_ia_overhaul_m1;return a.createElement(en.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:G},a.createElement(et.J,{enabled:z},a.createElement("div",{className:S.s.flex.flexColumn.wFull.$},a.createElement(nB,{hasBottomBorder:b}),a.createElement(el.P,{className:"sidebar--sidebarScrollContainer--Z95XT",innerClassName:S.s.hFull.$,scrollingDisabled:!1,onScroll:e=>_(e)},a.createElement(ei.a,{onIntersectionChange:t=>{h(!t.isIntersecting),t.isIntersecting||p||(e.trackScroll(),g(!0))}}),a.createElement("div",{className:j()("sidebar--navContent--15V3f",{"sidebar--grabbingCursor--6rbhU":W},{"sidebar--navContentRedesigned--npUNY":(0,o.k)().file_browser_sidebar_row_ui})},a.createElement("div",{className:S.s.flexGrow1.flex.flexColumn.$},a.createElement(a.Fragment,null,a.createElement(eN,null),(0,o.k)().ps_benchmark&&a.createElement(ts.r,{selectedView:d,dispatch:t}),(0,eR.yl)()&&a.createElement(aD,null),a.createElement("div",{className:ta}),a.createElement("div",{className:S.s.mr8.mt2.mb2.$},a.createElement(aw.b,null)),(0,o.k)().xr_debounce_threshold&&I&&k&&k.permission!==eL._D.GUEST?a.createElement(nj,null):null,e.draftsProject&&a.createElement(ti.s,{folder:e.draftsProject,selectedView:d,dispatch:t,shouldHideCreateFileButton:e.isShowingLockedRedesign}),a.createElement(tn,{userStateLoaded:c,sidebarUser:e.sidebarUser}),T&&a.createElement(a.Fragment,null,x?a.createElement(a.Fragment,null,a.createElement(aE,{selectedView:d}),a.createElement(nG,null)):a.createElement(a.Fragment,null,a.createElement(e4,{selectedView:d}),a.createElement(nG,null),a.createElement(aR,{selectedView:d}),e.FBGNavigationUpdatesTreatment!==H.ih.CONTROL&&a.createElement(n$,{selectedView:d,teamFolderId:e.teamFolderId,teamFolderName:e.teamFolderName}))),U===nf.BETWEEN_CONTENT&&a.createElement("div",{className:tt},!!M&&a.createElement("div",{className:S.s.my8.mx0.h1.$,style:ec.sx.add({backgroundColor:"var(--color-border)"}).$}),A()),!1,(0,o.k)().dt_component_browser&&a.createElement(tl,null),k&&I&&(c?a.createElement(a.Fragment,null,a.createElement(ay,{hasWorkspaces:e.isOrgWithWorkspaces}),a.createElement(nG,null),I&&k&&!f.Ay.mobile&&a.createElement(a.Fragment,null,a.createElement(eZ,{selectedView:d,org:I,orgUser:k}),N&&a.createElement(ex,null))):a.createElement("div",{className:tr},a.createElement(eo.kt,null))),R&&$,a.createElement("div",{className:ta}),c?a.createElement(a.Fragment,null,r?a.createElement(an,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:O,favoritedPrototypes:F,favoritedProjects:D,favoritedTeams:e.sidebarUser?.favoritedTeams??null,favoritedWorkspaces:e.sidebarUser?.favoritedWorkspaces??null,userSidebarSections:e.sidebarUser?.userSidebarSections?(0,er.oA)(e.sidebarUser.userSidebarSections):[],previewYOffset:u}):a.createElement(a.Fragment,null,P&&a.createElement(aa,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:O,favoritedPrototypes:F,favoritedProjects:D,favoritedTeams:null,favoritedWorkspaces:null,previewYOffset:u})),T&&a.createElement(ag,{teamUser:e.sidebarUser?.currentTeamUser??null,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:u})):a.createElement("div",{className:tr},a.createElement(eo.kt,null)),U===nf.AFTER_CONTENT&&a.createElement("div",{className:S.s.sticky.bottom0.colorBg.pb10.pt12.$},A()))),a.createElement(ei.a,{onInitialLoad:e=>{v(!e)},onIntersectionChange:e=>{v(!e.isIntersecting)}}))),a.createElement(nL,{hasTopBorder:U===nf.BETWEEN_CONTENT&&(E||b),shouldShowUUBInFooter:U===nf.IN_FOOTER}))))}function nq(e){let t=(0,K.iZ)(),r=(0,Y.dq)(),l=(0,X.d)(),s=(0,n.d4)(e=>e.currentTeamId),c=(0,n.wA)(),d=(0,Z.Q)({currentOrgId:r,currentTeamId:(0,o.k)().ps_benchmark&&s||null}),m="loaded"===d.status?d.data:null,u="loaded"!==d.status;(0,i.WX)({markName:"Sidebar",markCondition:!u});let p=(0,K.TA)(),f=(0,n.d4)(e=>p?e.authedUsers.byId[p]?.plans:null),[{status:g,data:E}]=(0,_.IT)((0,z.Xg)({teamId:s||void 0}),{enabled:!l}),v="loaded"===g&&E?.length===1?E[0]:null,b=v?.id,h=v?.name,y=null,w=(0,ee.vt)(s),T=(0,H.Yz)(),x=(0,Q.R)(s),I=(0,Q.jn)(),k=(0,H.Xs)(),S=(0,a.useMemo)(()=>m?{...m.currentUser}:null,[m]),C=(0,J.Zr)(m?.org??null),N=a.useMemo(()=>{if(S&&S.currentTeamUser&&s)return(0,V.TF)(S,s,f)},[S,s,f]),R=e.showingFileBrowserLoader;if(a.useEffect(()=>{if((0,o.k)().ps_benchmark&&s&&S&&S?.currentTeamUser){let e=S.currentTeamUser;!e.fileBrowserPreferences&&S.fileBrowserPreferences&&c($.Sh({prefs:S.fileBrowserPreferences,orderedFolderSubscriptions:S.fileBrowserSectionPreferences?.filter(e=>e.teamId===s)[0]?.orderedFolderIds??[],teamUser:e}))}},[s,S,c]),S){if(r&&S.baseOrgUser){let e=S.baseOrgUser;S.fileBrowserPreferences=e.fileBrowserPreferences,S.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,o.k)().ps_benchmark&&s&&S.currentTeamUser&&(S.fileBrowserPreferences=S.currentTeamUser?.fileBrowserPreferences);s?y=S.currentTeamUser?.draftsProject??null:r&&(y=S.baseOrgUser?.draftsProject??null)}return a.createElement(nz,{FBGNavigationUpdatesTreatment:(0,H.fn)(),dataDriftCorrectedTeamResources:N,draftsProject:y,isOrgWithWorkspaces:C,isShowingLockedRedesign:T(w)||k(I&&x),showLoadingState:u,showingFileBrowserLoader:R,sidebarUser:S,teamFolderId:b,teamFolderName:h,trackScroll:()=>(0,G.uE)("Sidebar Scrolled",{user:t})})}var nY=(e=>(e.FILE_BROWSER="FileBrowserSidebar",e.ADMIN="AdminSettingsSidebar",e))(nY||{});let nK={FileBrowserSidebar:B.e.WAYFINDING,AdminSettingsSidebar:B.e.SCALE};function nJ(e){let t=(0,n.d4)(e=>e.mobileNavShown),r=(0,M.A)()?"AdminSettingsSidebar":"FileBrowserSidebar";return a.createElement("nav",{className:j()("sidebar--navDefault--pYuzm",{"sidebar--navDefaultRedesigned--pttVx":(0,o.k)().file_browser_sidebar_row_ui,"sidebar--showMobileNav--YiFit":t,"sidebar--showMobileNavRedesigned--h3sJb":t&&(0,o.k)().file_browser_sidebar_row_ui})},a.createElement(L.tH,{sentryTags:{area:nK[r]},boundaryKey:r,fallback:a.createElement(W.R,null),hasCustomWASMBuild:q.y4},"FileBrowserSidebar"===r?a.createElement(nq,{...e}):a.createElement(O.ay,null)))}var nX=r(625069),nQ=r(253654),nZ=r(97859),n0=r(871681),n1=r(217084),n4=r(426229),n5=r(40962),n2=r(311131),n7=r(122524),n3=r(412168),n8=r(629829),n6=r(818754),n9=r(108098),oe=r(855703),ot=r(37257),or=r(980753);function oa(e){return void 0!==e.team_id}function on(e,t){if(e!==or.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var oo=r(668249),ol=r(469024),oi=r(937053);function os(e){return a.createElement(no.Y,{spacing:4},a.createElement(oi.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),a.createElement(N.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let oc={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:eQ.V0.DIRECTORY,workspaceId:e??null,selectedTab:eQ.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:tT.X.HOME}:void 0};function od({resource:e}){let t=(0,n.wA)(),r=(0,eD.FC)(),o=(0,te.b_)({migrationGroup:oo.L.GROUP_1,component:"BreadcrumbsContainer"}),l=(0,te.u3)({migrationGroup:oo.L.GROUP_1,component:"BreadcrumbsContainer"}),i=(0,aB.Rs)(a$.bUn,{orgId:o??null},{enabled:l}),s="loaded"!==i.status,c=i.data?.org?.workspaces??[],d=function(e,t){let r=(0,nE.R)(e=>({currentUserOrgId:e.currentUserOrgId,teams:e.teams,orgById:e.orgById}));return(0,a.useMemo)(()=>({folder:oa(e)?e:void 0,team:on(e,r),workspace:function(e,t,r){let a=on(e,t);if(e===or.O);else if(a&&a.workspace_id)return r?.find(e=>e.id===a.workspace_id);else if(a&&!a.workspace_id&&a.org_id){let e=t.orgById[a.org_id];return e?.workspaces_count?or.O:void 0}else if("domain_capture"in e||oa(e)||"workspace_id"in e)return;return e}(e,r,t),org:function(e,t){let r=on(e,t);return r?.org_id?t.orgById[r.org_id]:e===or.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,r)}),[e,r,t])}(e,s?[]:[...c]);if(l||d.org?o!==d.org?.id:!d.team||!(0,tz.canViewTeam)(d.team.id,r)){let e=d.org??d.team;return e?a.createElement(os,{planEntity:e}):null}let m=(r,a)=>{let n=a===or.O?void 0:a.id,l=oc[r](n);(0,G.Cu)({clickedResourceType:r,clickedResourceId:n,currentResource:e.id,orgId:o}),l&&t(eS.$T(l))},u=["org","workspace","team","folder"].reduce((e,t)=>{let r=d[t];if(r){let a="workspace"===t&&!r.canView,n=r===ol.s?(0,C.t)("breadcrumbs.unassigned_license_group"):a?(0,C.t)("breadcrumbs.private_workspace_ellipses"):r?.name;e.push({text:n,onClick:()=>{a||m(t,r)},disabled:r===ol.s||a})}return e},[]);return u.pop(),a.createElement(ot.A5,null,...u.map((e,t)=>a.createElement(ot.J5,{key:t,text:e.text,onClick:e.onClick,hasTrailingDivider:t<u.length-1,disabled:e.disabled})))}var om=r(741419),ou=r(980399),o_=r(543072),op=r(314078),of=r(744149),og=r(295915);let oE=(0,ed.eU)(void 0),ov=(0,ed.eU)(!1),ob=(0,o_.H0)("#2c2c2c");function oh(e){let t=(0,ed.md)(oE);if(!e||"unset"===t)return;let r=(e.colorConfig?.colors??[])[0];return t?(0,ou.colorToHex)(t):r}function oy(e){return!!e&&"unset"!==e}function ow(e){return e.rightSideActions?a.createElement(oT,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function oT(e){return a.createElement("div",{className:S.s.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,a.createElement("div",{className:S.s.flex.gap8.$},e.rightSideActions))}function ox(e){let t=(0,Y.dq)(),r=(0,J.P)(t,(0,n.d4)(n0.o$)),o=oh("Unassigned"===r.data?null:r.data);return a.createElement("div",{...n8.xk(oI.desktopHeader,e.showNavigationChevrons&&oI.desktopHeaderWithChevrons,!!e.pageHeaderContent&&!e.pageHeaderDividerHidden&&oI.desktopHeaderBorder),style:{backgroundColor:o},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&a.createElement(n3.J,{parentBackgroundColor:o}),e.pageHeaderContent?a.createElement("span",{className:"xeuugli xh8yej3"},a.createElement(ow,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource_DEPRECATED&&a.createElement(od,{resource:e.resource_DEPRECATED}))}let oI={desktopHeader:{display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",gap:"x167g77z",rowGap:null,columnGap:null,alignItems:"x6s0dn4",height:"xsdox4t",paddingLeft:"x1tudf5h",paddingRight:"x1m2p0i2",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},desktopHeaderWithChevrons:{paddingLeft:"x5tiur9",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},desktopHeaderBorder:{borderBottom:"x1n5zjp5",borderBottomWidth:null,borderBottomStyle:null,borderBottomColor:null,$$css:!0}};var ok=r(27776);let oS=(0,n6.jz)(ok.tgj);function oC(e){return a.createElement(a.Fragment,null,a.createElement(n9.z,{query:`(min-width: ${oS}px)`,defaultClass:S.s.sticky.top0.colorBg.zIndexTopBar.$},a.createElement(ox,{resource_DEPRECATED:e.breadcrumbResource_DEPRECATED,pageHeaderContent:e.pageHeaderContent?a.createElement("h1",{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},e.pageHeaderContent):void 0,pageHeaderDividerHidden:e.pageHeaderDividerHidden,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&a.createElement(oe.i,{tabs:[a.createElement("h1",{key:"mobilePageHeaderKey",className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},e.pageHeaderContent)]}))}function oN(e){let t=a.useRef(null),r=(0,n.d4)(({selectedView:e})=>e),i=(0,n3.E)(),s=(0,n.d4)(n0.oL),d=(0,n2.K)(),m=(0,Y.sZ)(),u=d&&m&&!n1.T8.includes(r.view);!function(){let e=(0,o.k)().ps_benchmark,t=(0,n.Pj)();a.useEffect(()=>{if(!e)return;let r=t.getState(),a=(0,tz.getPermissionsState)(r),n=(0,nQ.vp)(a.user,a.currentUserOrgId,a.currentTeamId);n&&(0,nZ.Y9)(n.userId,(0,nX.d9)(r.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let _=(0,M.A)()||"litmus"===r.view,p=!e.showingFileBrowserLoader&&!_&&(!!c.eD||(0,l.ce)()||s||e.pageHeaderContent);return a.useEffect(()=>{let e=e=>{e.keyCode===D.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,o.k)().internal_only_debug_tools&&(0,o.k)().figment_debugger&&(0,n5.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),a.createElement("div",{className:S.s.flex.flexRow.flexGrow1.$,ref:t},a.createElement(nJ,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),a.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--m7oe2"},p&&a.createElement(L.tH,{boundaryKey:"FileBrowserPageHeader",fallback:L.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:q.y4},a.createElement(oC,{pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource_DEPRECATED:s,showNavigationChevrons:i,pageHeaderDividerHidden:e.pageHeaderDividerHidden})),a.createElement(L.tH,{boundaryKey:"FileBrowserLayout-content",fallback:a.createElement(W.R,null),hasCustomWASMBuild:q.y4},!e.showingFileBrowserLoader&&(u?a.createElement(n7.H,{org:m,isInFileBrowser:!0}):a.createElement(P.z,{layoutRef:t},e.children)))),a.createElement(n4.G,{entryPoint:n4.Q.FILE_BROWSER}))}var oR=r(468189),oA=r(193871),oO=r(894009),oF=r(739396),oD=r(622812),oL=r(775452),oP=r(184353),oM=r(213226);function oB({orgTeamsQuery:e,workspaceId:t,onLoad:r}){let o=(0,n.wA)(),{currentOrgUser:l,teams:i,user:s,roles:c,orgId:d,orgName:m}=(0,nE.R)(e=>({currentOrgUser:e.orgUsersByOrgId[e.currentUserOrgId]?.[e.user.id],teams:e.teams,user:e.user,roles:e.roles,orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name})),{canCreateTeam:u}=(0,J.LM)(d?{id:d}:null,t),_="loaded"===e.status;a.useEffect(()=>{_&&r?.()},[r,_]);let p=a.useMemo(()=>{let t=e.data??[],r=t.length<tc.Tw;return(0,tc.KQ)(t,"name",{useExpensiveNaturalComparison:r}),t},[e]),f=l&&l.permission===eL._D.GUEST,g=Object.keys((0,oL.t)(c.byTeamId,s.id)).filter(e=>i[e]);if(f){let e=g.map(e=>i[e]).filter(e=>e.org_id===d);return a.createElement(oO.h,{teams:e,onLeave:e=>{o(tv.to({type:oM.p,data:{teamId:e.id}}))},orgName:m})}return _?a.createElement("div",{className:S.s.mt24.$},a.createElement(oF.w,{orgTeams:p,orgTeamStatus:e.status,onCreateTeam:u?()=>{let e={workspaceId:t??or.O};o(tv.to({type:oP.Uc,data:e}))}:void 0,emptyView:t&&!u?(0,C.t)("team_tile.no_teams.empty_workspace"):void 0})):a.createElement("div",{className:S.s.flex.wFull.hFull.alignCenter.justifyCenter.$},a.createElement(oR.k,{htmlAttributes:{"data-testid":"loading-spinner"}}))}let oU=(0,ed.eU)(()=>tV.Qw.loaded([]));function oj({workspaceId:e,onlyJoinedTeams:t}){let r=(0,eD.FC)(),n=(0,te.b_)({migrationGroup:oo.L.GROUP_4,component:"useFilteredOrgTeams"}),o=!(0,tz.canMemberOrg)(n??null,r),l=(0,ed.md)(o?oU:oA.E);return a.useMemo(()=>l.transform(a=>a.filter(a=>{if(t)return(0,tz.hasViewerRoleAccessOnTeam)(a.id,r);if(null===e){if(a.workspace_id)return!1}else if(e&&a.workspace_id!==e)return!1;return(0,oD.ox)(a,r,n??null)})),[l,r,n,t,e])}function oW({children:e}){return a.createElement("section",{"aria-label":(0,C.t)("file_browser.teams")},a.createElement("div",{className:S.s.mx32.textBodyLargeStrong.$},a.createElement("div",null,(0,C.t)("file_browser.teams"))),e)}var o$=r(765285);function oH({avatar:e,title:t,rightSideActions:r,rightSideOfTitleAction:n,pageHeaderIcon:o,textColor:l,badge:i}){return a.createElement("div",{className:j()(S.s.mt12.mx32.mb20.$,"page_header--mx16Mobile--8Eihb")},a.createElement("div",{className:S.s.flex.mt8.itemsCenter.justifyBetween.$},a.createElement("div",{className:S.s.flex.itemsCenter.h40.minW0.$},e,a.createElement("div",{className:S.s.wFull.overflowHidden.$,style:ec.sx.if(e&&!o,ec.sx.ml16).$},a.createElement("span",{className:S.s.flex.itemsCenter.$},o,a.createElement(N.E,{color:l,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),a.createElement("div",{className:S.s.ml8.$},i),n&&n.element))),a.createElement("div",{className:S.s.flex.ml16.gap8.$},r?.map(e=>a.createElement(o$.K,{action:e,key:e.key})))))}function oG(e){let{belowHeaderItem:t,...r}=e;return a.createElement(a.Fragment,null,a.createElement(oe.i,{tabs:null,hideToolBarOnMobile:!0}),a.createElement(oH,{...r}),t)}var oV=r(286913),oz=r(356505),oq=r(415873),oY=r(541525);function oK(e){return a.createElement(oz.$n,{variant:"secondary",disabled:!0,htmlAttributes:{"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onPointerEnter:e.onMouseEnter},"aria-describedby":e.tooltipText},e.text)}function oJ({backgroundColor:e}){let t=(0,oY.NV)(G.WL),r=(0,n.d4)(e=>e.selectedView.view),o=(0,C.t)("license_group_view.toolbar.new_team_button"),l=()=>{t(G.jd,{placement:r})};return e?a.createElement("button",{className:j()("button_custom--buttonBase--H2KEL button--buttonBase---72nl",(0,o_.kx)(e)?"button_custom--buttonColorsForDarkBackground--CiydL":"button_custom--buttonColorsForLightBackground--wejKf","button_custom--buttonHugContents--Ntibj"),"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:l,disabled:!0},a.createElement(N.E,{fontSize:11,fontWeight:"medium",truncate:!0},o)):a.createElement(oK,{text:o,tooltipText:(0,C.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:l})}var oX=r(62429);function oQ(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,eC._6)();return()=>{r?t(tv.to({type:oP.Uc,data:{workspaceId:e??or.O}})):t(e1.Dw({previousView:a}))}}function oZ({workspace:e,org:t}){let{canCreateTeam:r,cannotCreateTeamReason:n}=(0,J.LM)(t,e?.id??null),o=oh(e),l=oQ(e?.id);return n===J.z4.TEAM_CREATION_CONTROL?{kind:oX.A.CUSTOM,key:oX.D.NEW_TEAM,element:a.createElement(oJ,{backgroundColor:o})}:r?{kind:oX.A.CUSTOM,key:oX.D.NEW_TEAM,element:a.createElement(oz.$n,{"aria-label":(0,C.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:l,iconPrefix:a.createElement(oq.e,null)},(0,C.t)("license_group_view.toolbar.new_team_button"))}:null}function o0(){let e=(0,Y.sZ)(),t=oZ({org:e,workspace:null}),r=oj({workspaceId:null,onlyJoinedTeams:!1});return a.createElement(oV.r,{header:a.createElement(oG,{title:(0,C.t)("license_group_view.meta.unassigned_title",{orgName:e.name}),rightSideActions:t?[t]:void 0}),content:a.createElement("div",{className:S.s.flex.flexColumn.my24.$},a.createElement(oW,null,a.createElement(oB,{orgTeamsQuery:r,workspaceId:null})))})}var o1=r(647462),o4=r(584305),o5=r(229424),o2=r(957897);function o7(e){let t=(0,n.wA)(),r=a.useRef(null),l=(0,n.d4)(({dropdownShown:e})=>e),i=e.dropdownKey&&e.dropdownOptions&&l&&l.type===e.dropdownKey&&l.data&&l.data.targetRect,s=(0,az.j6)(),c=(0,o.k)().file_browser_ia_overhaul_m1_dropdowns;return a.createElement("button",{ref:r,onClick:()=>{r.current&&t(eS.j7({type:e.dropdownKey,data:{targetRect:r.current.getBoundingClientRect()}}))},onMouseDown:o4.dG,className:S.s.bgNone.ml8.$,"aria-label":e.buttonAriaLabel,"data-onboarding-key":e.dataOnboardingKey},a.createElement(es.B,{svg:o2.A,className:j()("page_header_dropdown--dropdownIcon--tr-Wo",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--kMRsm")}),i&&(0,az.T8)(a.createElement(et.J,{enabled:c},a.createElement(tb.j,{parentRect:l.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,G.Cu)({...s.properties,trackingContext:s.name,...e.trackingProperties})},showPoint:!0})),o5.e0.PAGE_HEADER_DROPDOWN))}var o3=r(511039),o8=r(465584),o6=r(595324);let o9=t6.M4.Mutation(async e=>{await o8.u.updateDescription(e)}),le=(0,tf.Ju)(function({workspace:e}){let t=(0,n.wA)(),r=(0,t6.n_)(o9);return a.createElement(o6.c,{title:(0,C.t)("workspace_view.description_modal.title"),subtitle:a.createElement("div",{className:S.s.mb16.$},a.createElement(N.E,{color:"secondary"},(0,C.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:a.createElement("span",{className:S.s.fontSemiBold.$},(0,C.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,C.t)("workspace_view.description.placeholder"),submitText:(0,C.t)("workspace_view.description.save"),onRename:a=>r({workspaceId:e.id,description:a}).then(()=>t(t$.F.enqueue({message:(0,C.t)("workspace_view.description_update_updated")})),()=>{let e=(0,C.t)("workspace_view.description_update_error");t(a0.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");function lt(){let e=(0,n.wA)(),t=(0,K.TA)();return a.useCallback(r=>{let a=r.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),n=[];return a&&n.push({displayText:(0,C.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(eS.$T({view:"workspace",subView:eQ.V0.ADMIN,workspaceId:r.workspace.id,selectedTab:eQ._C}))}}),n.length>0&&n.push({displayText:"",separator:!0}),n.push({displayText:(0,C.t)("file_browser.copy_link"),callback:()=>{let t=(0,t9.fO)(r.workspace.id,r.org.id);e(tY.S({url:t}))}}),r.workspace.canAdmin&&n.push({displayText:(0,C.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,o3.X)({entity:r.workspace,entityType:rT.ck.WORKSPACE,shape:"SQUARE"}))}}),n},[e,t])}var lr=r(182059),la=r(197681),ln=r(71145),lo=r(983187),ll=(e=>(e.SOLID="solid",e.NO_FILL="no_fill",e))(ll||{});function li({selectedFillOption:e,onSelectFillOption:t}){let r={solid:(0,C.t)("workspace_view.toolbar.solid"),no_fill:(0,C.t)("workspace_view.toolbar.no_fill")};return a.createElement(lr.Ve,{className:S.s.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return a.createElement(ln.$n,{className:S.s.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},a.createElement("span",{className:S.s.minW32.mr8.$},r[e]))},dropdownOptionsClassName:S.s.mt4.$,options:["solid","no_fill"].map((e,n)=>a.createElement(lr.c$,{className:S.s.colorTextMenuSecondary.$,key:n,id:e,onClick:()=>{t(e)}},r[e])),optionsBelowSelector:!0,noBorder:!0})}let ls=t6.M4.Mutation(async e=>{await o8.u.updateColor(e)});function lc({workspace:e,onClose:t}){let r=(0,n.wA)(),o=(0,t6.n_)(ls),l=[{option:ob},...(0,og.TS)("base").filter(e=>!(0,o_.DA)(e,(0,og.BV)(om.daH.BLACK,"base"))).map(e=>({option:e})),...(0,og.TS)("baseLight").map(e=>({option:e}))],i=a.useRef(null),[s,c]=a.useState(!1),d=(0,of.DP)(),m=function(e){try{if(e)return(0,o_.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[u,_]=a.useState(m?"solid":"no_fill"),[p,f]=(0,ed.fp)(oE);return a.useEffect(()=>(f(m),()=>{f(void 0)}),[]),a.useEffect(()=>{if(!s){let e=e=>{"Escape"===e.key&&t()},r=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",r)}}},[s,t]),a.createElement(a.Fragment,null,a.createElement("div",{role:"button","aria-label":(0,C.t)("common.close"),tabIndex:0,className:S.s.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),a.createElement("div",{className:S.s.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:i},a.createElement(li,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e="dark"===d?ob:o_.UE;f(m??e)}else f("unset")}}),oy(p)&&a.createElement(a.Fragment,null,a.createElement(ln.wv,null),a.createElement(la.qW,{buttonClassName:S.s.ml2.mr2.$,buttonSize:"xsmall",dropperDisabled:!0,fixedNumColumns:9,hasNonWhiteboardColors:!0,isColorPopoverOpen:s,onColorChange:e=>{f(e.option)},optionSize:"medium",options:l,paletteType:"base",positionX:()=>0,positionY:(e,t)=>(0,lo.DH)(e,t,4),setIsColorPopoverOpen:c,shouldCustomColorPopoverCloseOnEscape:!0,shouldDisableDataTooltip:!0,value:{option:p}})),a.createElement(ln.wv,null),a.createElement(ln.$n,{className:S.s.ml4.mr2.$,onClick:t},a.createElement("span",{className:S.s.mr1.colorTextToolbarSecondary.$},(0,C.t)("workspace_view.color.toolbar.cancel"))),a.createElement(ln.$n,{className:S.s.mr8.$,onClick:()=>{o({workspaceId:e.id,colors:oy(p)?[(0,ou.colorToHex)(p)]:[],onfulfilled:()=>r(t$.F.enqueue({message:(0,C.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,C.t)("workspace_view.toolbar.workspace_color_update_error");r(a0.s.error(e)),console.error(e)}}),t()}},a.createElement("span",{className:S.s.colorTextOnbrand.$},(0,C.t)("workspace_view.color.toolbar.save")))))}var ld=r(197945),lm=r(391205);let lu=(0,n.Ng)(e=>({currentUserId:e.user?.id}))(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},r=e.members.length,n=e.membersToShow||10;return a.createElement("div",null,!e.removeHeader&&a.createElement("div",{className:S.s.font13.fontMedium.mb12.$},e.label||(0,C.t)("file_browser.team_overview.member_label")),e.members.slice(0,n).map(r=>{let n=r.id===e.currentUserId,o=e.showAdminBadge&&e.showAdminBadge(r);return a.createElement(e5.az,{key:r.id,size:24,entity:r,className:e.customAvatarRowStyle?e.customAvatarRowStyle:S.s.font13.mb16.$,showIsMe:n,onClick:e.onMemberClick,badge:o?{color:ao.zE.DEFAULT,text:(0,C.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&n&&a.createElement("span",{onClick:t,className:"members_preview--leaveLink--v8vxs text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},(0,C.tx)("file_browser.team.leave_confirm")))}),r>n&&(e.customOverflowRow||a.createElement("div",{className:"members_preview--totalMemberCountContainer--wYQwX",onClick:e.onClickShowMore},a.createElement(es.B,{svg:lm.A,className:"members_preview--teamIcon--UFW2s"}),a.createElement("div",{className:"members_preview--totalMemberCount--D3Q8a text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,C.tx)("file_browser.team_overview.num_others",{numMembers:r-n})))))});var l_=r(672182),lp=r(300035),lf=(e=>(e.MEMBERS="MEMBERS",e.ADMINS="ADMINS",e))(lf||{});function lg(e){let t=(0,lp.rw)(),r=new Map([["MEMBERS",(0,C.t)("workspace_view.members_modal.members")],["ADMINS",(0,C.t)("workspace_view.members_modal.admins")]]),n=[];return r.forEach((r,o)=>{n.push(a.createElement(t,{tab:o,mobileNavTabTitle:r,selectedTab:e.selectedTab,key:o,onClick:()=>e.setTab(o)},r))}),a.createElement("div",{className:"workspace_members_modal--tabsContainer--DBh33"},n)}function lE(e){return a.createElement("div",{className:"workspace_members_modal--searchContainer--KGPrU modal--searchContainer--EA8ib"},a.createElement(ld.IW,{className:"workspace_members_modal--searchBar--z110d",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--7DSd4",placeholder:(0,C.t)("workspace_view.members_modal.search_placeholder")}))}function lv(e){return a.createElement("div",{className:"workspace_members_modal--emptyContainer--bTf-s"},a.createElement("div",{className:"workspace_members_modal--emptyState--IwqA2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let lb=(0,tf.Ju)(function(e){let t=(0,n.wA)(),r=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),o=e.workspace.members.slice().sort(r),l=e.workspace.admins.slice().sort(r),i={};o.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)});let[s,c]=(0,a.useState)("MEMBERS"),[d,m]=(0,a.useState)(o),[u,_]=(0,a.useState)(""),p=a.createElement(lg,{dispatch:t,selectedTab:s,setTab:e=>{_(""),c(e),m("MEMBERS"===e?o:l)}}),f=d.filter(e=>{let t=e.baseOrgUser?.user,r=u.toLocaleLowerCase();return!!t?.email?.toLocaleLowerCase().includes(r)||!!t?.handle.toLocaleLowerCase().includes(r)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],g=a.createElement(lE,{query:u,onChange:e=>_(e)}),E=a.createElement(lv,{content:(0,C.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace.name})}),v=a.createElement(lv,{content:(0,C.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace.name})}),b=a.createElement(lv,{content:(0,C.tx)("workspace_view.members_modal.no_results",{query:u})}),h=a.createElement(el.P,{className:"workspace_members_modal--outerContainer--in03x",innerClassName:"workspace_members_modal--membersContainer--16pMi"},a.createElement(lu,{members:f,showAdminBadge:e=>"ADMINS"!==s&&i[e.id]===eL.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--y5bbv text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,r)=>{t(eS.$T({view:"user",userId:r.id,userViewTab:l_.o.INTERNAL_PROFILE})),t(tv.Ce())}}));return"MEMBERS"===s?0===o.length?h=E:0===f.length&&(h=b):"ADMINS"===s&&0===l.length&&(h=v),a.createElement(ad.XV,{title:p,headerSize:"large",fixedTop:!0,onClose:()=>{t(tv.Ce())}},a.createElement("div",{className:"workspace_members_modal--modalContainer--3d9wu"},a.createElement(no.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===s&&o.length>0&&g," ",h)))},"WORKSPACE_MEMBERS_MODAL",tf.ZU.YES);var lh=r(842087);function ly(e){let{workspace:t,org:r}=e,o=(0,n.wA)(),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,n.d4)(e=>e.avatarEditorState),s=t.canAdmin,[c,d]=(0,ed.fp)(ov),{canCreateTeam:m}=(0,J.LM)(r,t.id),u=(0,tp.S)(),_=window.innerWidth<=(0,n6.hG)(ok.tgj),p=t?t.id:or.O,f=function(e){let t=(0,of.DP)(),r=oh(e);if(r&&("light"===t||"dark"===t))return(0,o_.kx)(r)!==("dark"===t)}(t),g=oh(t),E=t?.members||[],v=oQ(t.id),b=a.useCallback((e,r,a)=>{if(t){let n={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:a,favoriteId:r};e?o(eA.ZW(n)):o(eA.if(n))}},[o,t]),h=()=>{o(tv.to({type:lb,data:{workspace:e.workspace,tab:lf.MEMBERS}}))},y={kind:oX.A.ICON_TEXT_BUTTON,key:oX.D.VIEW_MEMBERS,displayText:E.length.toString(),onClick:e=>h(),icon:lh.A,svgStyleClass:j()(g?(0,o_.kx)(g)?"workspace_page_header--iconTextButtonSvgForDarkBackground--Sq5Fx workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvgForLightBackground--pL63t workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvg--zStD-"),styleClass:j()(g?(0,o_.kx)(g)?"workspace_page_header--membersButtonForDarkBackground--2IRgt workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--membersButtonForLightBackground--N75P8 workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0),isLoading:e.isWorkspaceMembersLoading},w=a.useMemo(()=>a.createElement(rO.r,{setFavorite:b,favoriteType:eL.bk.WORKSPACE,resourceId:p,isInHeader:!0,orgId:l}),[p,b,l]),T=function(){let e=lt(),t=(0,n.wA)(),[r,o]=(0,ed.fp)(ov);return a.useCallback(r=>{let a=e(r);return r.workspace.canAdmin&&(a.push({displayText:(0,C.t)("workspace_view.toolbar.change_color"),callback:()=>o(!0)}),a.push({displayText:(0,C.t)("workspace_view.description.title"),callback:()=>{t(tv.to({type:le,data:{workspace:r.workspace}}))}})),a},[e,t,o])}(),x=t&&r?T({workspace:t,org:r}):m&&_?[{displayText:(0,C.t)("org_view.new_team"),callback:v}]:void 0,I=[],k=oZ({workspace:t,org:r});if(k&&I.push(k),e.showMembersButton&&I.push(y),u&&t&&I.push({kind:oX.A.CUSTOM,key:oX.D.FAVORITE,element:w}),!t)return a.createElement(oG,{title:(0,C.t)("license_group_view.meta.unassigned_title",{orgName:r.name}),rightSideActions:I});let S=x?{kind:oX.A.CUSTOM,key:oX.D.DROPDOWN,element:a.createElement(o7,{buttonAriaLabel:(0,C.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:x,dropdownColorClassName:g?(0,o_.kx)(g)?"workspace_page_header--dropdownColorsForDarkBackground--OIHSt":"workspace_page_header--dropdownColorsForLightBackground--uH-aL":void 0})}:void 0;return a.createElement("div",{style:{backgroundColor:g}},a.createElement(oG,{avatar:s?a.createElement(rx.j,{avatarEditorState:i,entityType:rT.ck.WORKSPACE,entity:t,dispatch:o,size:40}):a.createElement(e5.z6,{entity:t,size:40}),title:g&&(0,o_.kx)(g)?a.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--Qnjvi"},t.name):t.name,badge:t.orgAccess===eL.bU.SECRET?a.createElement("div",{"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,C.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},a.createElement(rB.In,{icon:"lock-16"})):void 0,rightSideActions:I,rightSideOfTitleAction:S,belowHeaderItem:c?a.createElement(lc,{workspace:t,onClose:()=>d(!1)}):void 0,textColor:f?"oninverse":void 0}))}function lw(e){let t=(0,n.wA)(),r=e.workspace.members,o=a.useMemo(()=>r||[],[r]),l=a.useMemo(()=>o.slice(0).sort(()=>Math.random()-.5),[o]),i={};return o.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)}),a.createElement("div",{className:S.s.my24.mr8.ml24.$},a.createElement("div",{className:"workspace_page_meta_content--membersHeader--0jaJ3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,C.t)("workspace_view.sidebar.members")),a.createElement(lu,{removeHeader:!0,members:l.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,r)=>{t(eS.$T({view:"user",userId:r.id,userViewTab:l_.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>i[e.id]===eL.bp.ADMIN,customOverflowRow:a.createElement(a.Fragment,null,a.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--mIOar text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{t(tv.to({type:lb,data:{workspace:e.workspace,tab:lf.MEMBERS}}))}},(0,C.t)("workspace_view.sidebar.see_all_members")))}))}var lT=r(878028);function lx({isExpanded:e,fill:t,onClick:r}){return a.createElement("div",{role:"button",tabIndex:-1,className:j()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:r},a.createElement(rB.In,{icon:"caret-right-16",fill:t}))}function lI({isOpen:e,toggleIsOpen:t,collapseHeader:r,content:n}){return a.createElement("div",{className:S.s.flex.flexColumn.wFull.$},a.createElement("div",{className:S.s.flex.flexRow.gap4.itemsCenter.wFull.$},a.createElement(lx,{isExpanded:e,fill:"secondary",onClick:t}),r),a.createElement("div",{className:S.s.grid.ml20.$,"aria-hidden":!e,style:ec.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,ec.sx.add({gridTemplateRows:"1fr"}),ec.sx.add({gridTemplateRows:"0fr"})).$},a.createElement("div",{className:S.s.if(!e,S.s.overflowHidden).$},n)))}var lk=r(813321),lS=r(988346),lC=r(237461),lN=r(354054),lR=r(269067);function lA({title:e,confirmText:t,emptyStateText:r,onSelectFile:n,onSubmit:o,files:l,tileClassName:i,renderFileTile:s,renderTileFooter:c,query:d,setQuery:m,gridText:u,shouldDisableTile:_}){let[f,g]=a.useState(null),E=a.useCallback(()=>{f&&o(f)},[o,f]),v=a.useCallback(e=>{if(e.length>0){let t=e[0].key;n?.(t),g(t)}else g(null)},[n]);return a.createElement(lO,{title:e,onSubmit:E,confirmText:t,isDisabled:!f,query:d,onSearchChange:m,clearSearch:()=>m(""),searchPlaceholder:(0,C.t)("file_browser.choose_file_modal.search_for_a_file")},0===l.length?a.createElement("div",{className:"x78zum5 x1q0g3np x195vfkc x6s0dn4 xl56j7k x1n0bwc9 x5yr21d xh8yej3 x1iyjqo2 x2b8uid"},r):a.createElement(a.Fragment,null,u&&a.createElement("span",{className:"x1n0bwc9"},u),a.createElement(lR.g,{canSelectItem:e=>!_?.(e),containerStyle:lF.grid,doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,handleContextMenu:p.lQ,isDraggable:!1,items:l,keepSelectionOnFocusLost:!0,multiselectDisabled:!0,onSelection:v,renderTile:s,renderTileFooter:c,tileClassName:i})))}function lO({title:e,confirmText:t,onSubmit:r,isDisabled:n,children:o,query:l,onSearchChange:i,clearSearch:s,searchPlaceholder:c}){return a.createElement(ad.Eo,{title:e,confirmText:t,onSubmit:r,disabled:n,maxWidth:1024,useRedesign:!0,fullWidthContent:!0},a.createElement(ld.IW,{className:j()(S.s.px16.py8.colorBg.wFull.bb1.bSolid.colorBorder.borderBox.$,"choose_file_modal--heightOverride--QTue5"),hasTransparentBackground:!0,placeholder:c,focusOnMount:!0,query:l,onChange:i,clearSearch:s,iconClassName:S.s.colorIcon.$,hideXIcon:!0}),a.createElement(el.P,{className:"choose_file_modal--gridMaxHeight--8NKvW",innerClassName:S.s.hFull.gap12.flex.flexColumn.pt16.px24.borderBox.$},o))}let lF={grid:{paddingBottom:"x1l90r2v",$$css:!0}};var lD=r(261274),lL=r(737397);function lP({file:e,isDisabled:t,orgName:r}){let n=(0,rL.N)();return a.createElement(lL.i,{thumbnail:a.createElement(rA.NM,{file:e,noBorder:!0}),bottomLeftIcon:a.createElement(rM.r,{type:n(e)}),title:a.createElement("div",{className:"x78zum5 x1q0g3np x1jnr06f x1jud9m8 x6s0dn4"},a.createElement("span",{...n8.xk(lM.truncate,t&&lM.secondaryText)},e.name),t&&r&&a.createElement("span",{"data-tooltip-type":"text","data-tooltip":(0,C.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:r}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500},a.createElement(lD.B,{className:"xmauxvm"}))),subtitle:e.project?.name})}let lM={truncate:{whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,textOverflow:"xlyipyv",$$css:!0},secondaryText:{color:"x1n0bwc9",$$css:!0}};function lB({file:e,orgName:t,isDisabled:r}){let n=e.project?.name;return a.createElement("div",{className:S.s.pt8.flex.flexColumn.overflowHidden.$},a.createElement("div",{className:S.s.flex.flexRow.gap4.justifyBetween.itemsCenter.maxWFull.$},a.createElement("span",{className:S.s.ellipsis.textBodyLargeStrong.truncate.with({colorTextSecondary:r}).$},e.name),r&&t&&a.createElement("span",{"data-tooltip-type":"text","data-tooltip":(0,C.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:t}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500},a.createElement(rB.In,{icon:"info-16",fill:"secondary"}))),a.createElement("span",{className:S.s.ellipsis.colorTextSecondary.truncate.$},n?a.createElement("div",{className:S.s.colorTextSecondary.truncate.$},n):null))}let lU=(0,tf.Ju)(function({workspaceId:e}){let t=(0,n.wA)(),r=(0,e9.pL)(),o=(0,te.yN)({migrationGroup:oo.L.GROUP_11,component:"ChooseFileToPinModal",attribute:"orgName",legacy:(e,t)=>t?.name??null,migrated:(e,t)=>t?.name??null}),[l,i]=a.useState(""),[s]=(0,lk.A)(l,400),[c,d]=a.useState(null),m=a.useCallback(e=>{d(e)},[]);(0,aB.Rs)(a$.wtK,{fileKey:c??""},{enabled:!!c});let u=function({searchQuery:e,workspaceId:t}){let r=tV.Qw.useTransformShallowEqual((0,aB.Rs)(a$.z07,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t}),a=function({searchQuery:e,workspaceId:t}){let r=(0,Y.dq)();(0,I.vA)(!!r,"currentUserOrgId must be defined in useSearchWorkspaceFilesQuery");let a=(0,aB.Rs)(a$.Imb,{query:e,workspaceId:t,orgId:r,sort:"relevancy",desc:"true"},{enabled:!!e});return tV.Qw.useTransformShallowEqual(a,e=>{let t=[];for(let r of e.searchWorkspaceFiles)r.file&&t.push(r.file);return t})}({searchQuery:e,workspaceId:t}),n="disabled"!==a.status?a:r;return(0,lC.z1)(n,t)}({searchQuery:s,workspaceId:e}),_=tV.Qw.useTransformShallowEqual(u,e=>e.map(e=>e.key)),f=(0,lC.H6)(_.unwrapOr([])),g=a.useCallback(e=>{t(tv.ES(lU)),t(tv.to({type:(0,lS.a)(),data:{fileKey:e,source:l?"add_file_modal_search":"add_file_modal_suggested"}}))},[t,l]);a.useEffect(()=>(t(lN.Dy({entryPoint:"file_browser:file_picker_modal"})),t(lN.Rz({workspaceFilter:e})),()=>{t(lN.Rz({workspaceFilter:null})),t(lN.ky())}),[t,i,e]);let E=a.useCallback(e=>{i(e)},[]),v=(0,rL.N)();if("loaded"!==f.status||"loaded"!==u.status)return a.createElement(lO,{title:(0,C.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,C.t)("general.next"),isDisabled:!0,query:l,onSearchChange:E,clearSearch:p.lQ,searchPlaceholder:(0,C.t)("file_browser.choose_file_modal.search_for_a_file")},a.createElement("div",{className:j()(S.s.flex.itemsCenter.justifyCenter.wFull.hFull.flexGrow1.$)},a.createElement(eo.qc,null)));let b=e=>{let t=f.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace};return a.createElement(lA,{confirmText:(0,C.t)("general.next"),emptyStateText:l?(0,C.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:a.createElement("div",{className:S.s.colorText.fontMedium.truncate.$},l)}):(0,C.t)("file_browser.workspace_pinning.no_suggested_files"),files:u.data,gridText:l?void 0:(0,C.t)("file_browser.pinning.suggested"),onSelectFile:m,onSubmit:g,query:l,renderFileTile:(e,t,{isSelected:n,isHovered:l})=>r()?a.createElement(lP,{file:e,orgName:o,isDisabled:b(e)}):a.createElement("div",{className:S.s.relative.$},a.createElement(rA.NM,{file:e,noBorder:!0}),n||l?a.createElement("div",{className:S.s.absolute.left0.top0.ml8.mt8.flex.flexRow.gap8.$},a.createElement(rR.MW,{type:v(e),size:rR.LE.MEDIUM})):null),renderTileFooter:e=>r()?a.createElement(a.Fragment,null):a.createElement(lB,{file:e,orgName:o,isDisabled:b(e)}),setQuery:E,shouldDisableTile:b,tileClassName:"choose_file_to_pin_modal--showOnHoverContainer--DO9-h",title:(0,C.t)("file_browser.pinning.pin_modal.pin_file_to_workspace")})},"ChooseFileToPinModal");var lj=r(599952),lW=r(193324),l$=r(290868),lH=r(743500),lG=r(725038),lV=r(241513),lz=r(196976),lq=r(369223),lY=r(188591);let lK={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function lJ({suggestedFiles:e}){let t=e.slice(0,8),r=(0,eC._6)(),o=(0,n.wA)(),{showing:l,show:i,data:s}=(0,lV.L)(),c=a.useCallback((e,t)=>{d.Ay.redirect((0,t2.r1)(e)),(0,G.k1)(e.key,{selectedViewName:r.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[r.view]),m=a.useCallback((e,t)=>{c(e,t)},[c]),u=a.useCallback((e,t,r)=>{let a=e[0];a&&i({data:{tile:(0,lC.bn)(a),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[i]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr"},(0,C.t)("file_browser.pinning.suggested")),a.createElement(lq.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:m,onSelection:e=>{o(tZ.an()),o(tZ.PW({type:rr.F.FILES,keys:e.map(e=>e.key)}))},handleContextMenu:u,gridViewProps:{containerStyle:lQ.grid,renderTile:e=>a.createElement("div",{className:"x1dmp6jm xkib98w xbyyjgo x12oqio5 xgk9eko xb3r6kr"},a.createElement(rA.NM,{file:e,noBorder:!0,size:rX.y.SMALL})),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:r})=>a.createElement(lX,{file:e,isHovered:r,isSelected:t})},viewType:lY.XU.GRID}),l&&s?.tile?a.createElement(lz.i,{tileActions:lK,openTile:e=>c(s.tile.file,e),tile:s.tile,selectedTiles:[s.tile],dropdownVisible:l}):null)}function lX({file:e,isHovered:t,isSelected:r}){let o=(0,n.wA)(),l=a.useCallback(t=>{o(tv.to({type:(0,lS.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),t.stopPropagation(),t.preventDefault()},[o,e]),i=e.project?.name;return a.createElement("div",{className:"x78zum5 xdt5ytf x195vfkc x1iyjqo2 xl56j7k xb3r6kr xq1n1xh"},a.createElement("div",{...n8.xk(lQ.fileName)},e.name),t||r||f.Ay.mobile||f.Ay.tablet?a.createElement("div",{role:"button",tabIndex:0,className:"x1quhyk7 xlyipyv xuxw1ft xb3r6kr x1ypdohk",onClick:l},(0,C.t)("file_browser.pinning.pin_file")):i?a.createElement("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr"},i):null)}let lQ={fileName:{...lj.g.textBodyMedium,textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},grid:{gridTemplateColumns:"xem2tbl",gap:"xou54vl",rowGap:null,columnGap:null,$$css:!0}};function lZ({workspaceId:e}){let t;let r=function(e){let t=tV.Qw.useTransform((0,aB.Rs)(a$.m28,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t});return(0,lC.z1)(t,e)}(e);return t="loaded"!==r.status?a.createElement("div",{className:S.s.py1.h20.wFull.$},a.createElement(eo.qc,null)):r.data.length>0?a.createElement(lJ,{suggestedFiles:r.data}):a.createElement("span",{className:S.s.colorTextSecondary.truncate.textBodyLarge.alignCenter.$},(0,C.t)("file_browser.pinning.no_pinned_files")),a.createElement("div",{className:S.s.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$},t)}var l0=r(891627),l1=r(464437),l4=r(879378),l5=r.n(l4),l2=r(322035),l7=r(68134),l3=r(855584),l8=r(753131),l6=r(572112),l9=r(918663),ie=r(280679);function it({pinnedFile:e}){let t=(0,lC.bn)(e.file),r=(0,l6.l)(e.file.folderId);return a.createElement("div",{className:S.s.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:ec.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$},a.createElement("div",{className:S.s.flex.flexRow.gap16.$},a.createElement("div",{className:S.s.flexBasisAuto.$},a.createElement(ie.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})),a.createElement("div",{className:S.s.flex.flexColumn.overflowHidden.$},a.createElement("div",{className:S.s.flex.flexRow.gap8.textBodyLarge.$},a.createElement(N.E,{fontWeight:"semi-bold",truncate:!0},e.creator.name),a.createElement("span",{className:S.s.flexBasisAuto.flexGrow1.flexShrink0.$},a.createElement(N.E,{color:"secondary"},a.createElement(l8.h1,{date:e.createdAt})))),a.createElement("div",{className:S.s.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,l3.p)((0,lW.sP)(e.description))}}))),a.createElement("div",{className:S.s.flex.flexColumn.$},a.createElement("div",{className:S.s.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$},a.createElement("div",null,a.createElement(l$.e,{tile:t,noBorder:!0})),a.createElement("div",{className:S.s.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$},a.createElement(l9.j,{tile:t,usePageIcon:!0}),a.createElement("div",{className:S.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},a.createElement("div",{className:S.s.textBodyLargeStrong.truncate.$},e.file.name),"loaded"===r.status&&r.data?a.createElement("div",{className:S.s.textBodyMedium.colorTextSecondary.truncate.$},r.data):null)))))}let ir={width:0,height:0};function ia({pinnedFile:e,targetRef:t,shouldHide:r}){let n=(0,l7.s)(t),[o,l]=(0,l7.M)(),[i,s]=a.useState(ir),[c,d]=a.useState(!1),m=a.useCallback(()=>{if(!t.current)return;let e=(0,l2.E)(t.current.getBoundingClientRect()),r=window.innerWidth,a=window.innerHeight,n=a-e.top-8,o=n>100;if(r-e.right>438&&o){s({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:n});return}if(e.left>438&&o){s({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:n});return}let l=430-(r-e.left),i=a-e.bottom-16;if(i>100){s({transform:`translate(${(0,l1.qE)(e.left-l,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:i});return}let c=e.top-16;s({top:"auto",bottom:"100vh",transform:`translate(${(0,l1.qE)(e.left-l,0,e.left)}px, ${e.top-8}px)`,maxHeight:c})},[t,s]),_=!r&&(n||l),p=(0,u.ZC)(_);if(a.useEffect(()=>{if(!p&&_)m();else if(p&&!_){d(!0);let e=setTimeout(()=>{d(!1)},(0,n6.XB)("150ms"));return()=>{clearTimeout(e)}}},[_,p,m]),a.useEffect(()=>{let e=l5()(m),t=()=>{_&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[_,m]),!t.current)return null;let f=a.createElement("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--VaAZM"},a.createElement("div",{className:j()("pinned_files_hover--hoverCard--MLJbb",_&&"pinned_files_hover--makeVisible--QrDF7"),style:i,ref:o,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},(_||c)&&a.createElement(it,{pinnedFile:e})));return l0.createPortal(f,document.body)}let io={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0},il=[];function ii({workspace:e}){let t=(0,n.wA)(),r=(0,eC._6)(),o=(0,K.TA)(),{showing:l,show:i,data:s}=(0,lV.L)(),c=(0,lG.v)(),d=a.useCallback((t,a,n,o)=>{c(t,n),(0,G.E9)(G.gH,a.file,{entrypoint:o,selectedView:r.view,resourceType:"workspace",resourceId:e.id,pinDescription:(0,lW._Z)(a.description)})},[c,r.view,e.id]),m=a.useCallback((e,t)=>{d((0,lC.bn)(e.file),e,t,"pinned files")},[d]),u=e.pinnedFiles??il,_=a.useCallback(r=>{let a=r[0];a&&(e.canAdmin||a.creator?.id===o)&&t(tv.to({type:(0,lH.I)(),data:{pinnedFileId:a.id}}))},[e.canAdmin,o,t]),p=a.useMemo(()=>u.filter(({file:e})=>!!e).map(e=>(0,lC.bn)(e.file)),[u]),f=(0,t4.nw)(p),g=a.useMemo(()=>u.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[u]);return a.createElement(a.Fragment,null,u.length>0?a.createElement(lq.A,{doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,gridViewProps:{containerStyle:id.grid,renderTile:e=>a.createElement(is,{pinnedFile:e,isDropdownOpen:l}),renderTileFooter:e=>a.createElement(ic,{pinnedFile:e}),renderTileDragImage:e=>a.createElement(rA.NM,{file:e.file,noBorder:!0})},handleContextMenu:(e,r,a)=>{t(tZ.an());let n=e.map(e=>e.file).filter(e=>null!==e);t(tZ.PW({type:rr.F.FILES,keys:n.map(e=>e.key)}));let o=n[0];o&&i({data:{tile:(0,lC.bn)(o),targetRect:{top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1},index:a}})},handleDeleteKey:_,handleDragDataTransfer:(e,t)=>{t.setFigFilesData(e.map(e=>t7.F.toSinatra(e.file)))},handleOpenItem:m,isDraggable:!0,items:g,viewType:lY.XU.GRID}):a.createElement(lZ,{workspaceId:e.id}),(()=>{let e=s?.tile??null,t=s?.index??0;return a.createElement(lz.i,{tile:e,selectedTiles:f,tileActions:io,openTile:r=>{e&&d(e,u[t],r,"pinned files: context menu")},dropdownVisible:l})})())}function is({pinnedFile:e,isDropdownOpen:t}){let r=a.useRef(null),n=(0,lC.bn)(e.file);return a.createElement(a.Fragment,null,a.createElement(ia,{pinnedFile:e,targetRef:r,shouldHide:t}),a.createElement("div",{ref:r},a.createElement(l$.e,{tile:n,noBorder:!0,size:rX.y.SMALL})))}function ic({pinnedFile:e}){return a.createElement("div",{className:"x1y1aw1k x78zum5 xdt5ytf"},a.createElement("span",{...n8.xk(id.fileName)},e.file.name),a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,C.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})))}let id={fileName:{...lj.g.textBodyLargeStrong,textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},grid:{paddingTop:"xyamay9",gridTemplateColumns:"x1g5i94c",userSelect:"x87ps6o",$$css:!0}},im=(0,ed.Iz)(e=>(0,ed.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,lT.z.boolean()));function iu({workspace:e,isAssignedWorkspace:t,onLoad:r}){a.useEffect(()=>{r?.()},[r]);let[o,l]=(0,ed.fp)(im(e.id)),i=a.useCallback(()=>l(e=>!e),[l]),s=(0,n.wA)(),c=e.pinnedFiles?.length??0,d=t||e.canAdmin,m=c>=lC.D1,u=d||c>0,_=a.useCallback(()=>{s(tv.to({type:lU,data:{workspaceId:e.id}}))},[s,e.id]);return a.createElement(a.Fragment,null,u&&a.createElement(lI,{isOpen:o,toggleIsOpen:i,collapseHeader:a.createElement("div",{className:S.s.flex.justifyBetween.itemsCenter.wFull.$},a.createElement("div",{"aria-expanded":o,role:"button",tabIndex:0,className:S.s.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.cursorDefault.$,onClick:i},(0,C.t)("file_browser.pinning.pinned_files")),d&&a.createElement("button",{onClick:_,disabled:m,"data-tooltip":m&&(0,C.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:lC.D1}),"data-tooltip-type":r7.Ib.TEXT,"data-tooltip-show-above":!0},a.createElement("div",{className:m?S.s.colorTextDisabled.$:S.s.colorTextBrand.$},(0,C.t)("file_browser.pinning.add_file")))),content:a.createElement(ii,{workspace:e})}))}function i_({workspaceId:e}){let t=(0,Y.sZ)(),r=(0,aB.Rs)(a$.aON,{orgId:t.id,workspaceId:e}),n=(0,aB.Rs)(a$.nD$,{workspaceId:e}).transform(e=>e.workspace?.members??null),o=oj({workspaceId:e,onlyJoinedTeams:!1}),l=function(){let e=a.useRef(void 0);e.current||(e.current=performance.now());let t=a.useRef("hidden"===document.visibilityState),r=a.useRef(!1===navigator.onLine);return a.useEffect(()=>{let e=new AbortController;return document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(t.current=!0)},{signal:e.signal}),window.addEventListener("offline",()=>{r.current=!0},{signal:e.signal}),()=>{e.abort()}},[]),a.useCallback(a=>{t.current||r.current||nA.az.trackDefinedEvent("file_browser.workspace_page_load_time",{type:a,durationMs:Math.round(performance.now()-e.current)})},[])}();if("loading"===r.status)return a.createElement(eo.qc,null);if("loaded"!==r.status)return a.createElement(o1.S,{resourceType:n1.Ft.WORKSPACE});let i=r.data.workspace;if(!i||!i.canView)return a.createElement(o1.S,{resourceType:n1.Ft.WORKSPACE});let s=(0,J.eO)(r.data.currentUser)===i.id;return a.createElement(ip,{org:t,workspace:i,workspaceMembersQuery:n,workspaceOrgTeamsQuery:o,isAssignedWorkspace:s,trackPerfEvent:l})}function ip({org:e,workspace:t,workspaceMembersQuery:r,workspaceOrgTeamsQuery:n,isAssignedWorkspace:o,trackPerfEvent:l}){(0,t0.hL)(t.name);let s={...t,members:r.data??[]},c=r.transform(e=>!!e&&e.length>0),d=t.admins.length>0,m=c.transform(e=>e||d).unwrapOr(!0);a.useEffect(()=>{l("initial_load")},[l]),a.useEffect(()=>{"loaded"===r.status&&l("members_load")},[r.status,l]);let u=a.useCallback(()=>{l("pinned_files_load")},[l]),_=a.useCallback(()=>{l("teams_load")},[l]);return(0,i.kF)("Workspace"),(0,i.WX)({markName:"MainBodyContent",markCondition:"loaded"===n.status}),a.createElement(oV.r,{header:a.createElement(ly,{workspace:s,org:e,isWorkspaceMembersLoading:"loading"===r.status,showMembersButton:m}),content:a.createElement("div",{className:S.s.flex.flexColumn.gap24.my24.$},a.createElement("section",{"aria-label":(0,C.t)("file_browser.pinning.pinned_files"),className:S.s.pl12.pr32.borderBox.wFull.$},a.createElement(iu,{workspace:t,isAssignedWorkspace:o,onLoad:u})),a.createElement(oW,null,a.createElement(oB,{orgTeamsQuery:n,workspaceId:t.id,onLoad:_}))),metaContent:c.unwrapOr(!1)?a.createElement(lw,{workspace:s}):void 0})}var ig=r(593005),iE=r(24096),iv=r(766878),ib=r(430330),ih=r(748288),iy=r(783235),iw=r(66325),iT=r(556884),ix=r(497478),iI=r(695621),ik=r(994351),iS=(e=>(e.FIGJAM_TEMPLATES="figjam-templates",e.PLUGINS="plugins",e.WIDGETS="widgets",e.SLIDE_TEMPLATES="slide-templates",e.LIBRARIES="libraries",e.COOPER_TEMPLATES="cooper-templates",e.RECENTLY_ADDED_TEMPLATES="recently-added-templates",e))(iS||{});let iC=class extends ik.nS{};(0,ik.Ac)(iC),iC.path=(0,ik.aV)(aO.VR,"/internal/:resourceTypeSlug"),iC.serializeParams=e=>({...(0,aO.FZ)(e),resourceTypeSlug:e.resourceTypeSlug}),iC.deserializeParams=e=>{let t=(0,iI.S)(e.resourceTypeSlug,iS);if(void 0===t)throw Error(`InternalResourceHubRoute: Invalid resource type slug ${e.resourceTypeSlug}`);return{resourceTypeSlug:t,...(0,aO.CS)(e)}},iC.parseQueryString=e=>({...(0,aO.p7)(e)});var iN=r(116234),iR=r(815779),iA=r(965344);function iO({limit:e,resourceType:t,category:r,editorType:a,caller:n,includeContent:o}){let[{data:l,status:i}]=(0,_.IT)(iA.a.ResourcesPaginatedQuery({resourceType:[t],category:r,editorType:a,caller:n,pageSize:e,includeContent:o}));return{resources:l,loading:"loading"===i}}var iF=r(197464),iD=r(327206),iL=r(181670),iP=r(817990),iM=r(376025),iB=r(302308),iU=r(701601),ij=r(782623);function iW({imageSources:e}){return a.createElement("div",{className:"x10l6tqk x1y0lptx x1c42kn3 xxbcxho x78zum5 x1q0g3np x1v2ro7d"},a.createElement(ij.oW,{className:"x1iyjqo2 x1swblul xacr46v x1mxnbhz",src:(0,aL.ck)(e[0]),alt:""}),a.createElement(ij.oW,{className:"x1iyjqo2 x1swblul xacr46v x1mxnbhz",src:(0,aL.ck)(e[1]),alt:""}),a.createElement(ij.oW,{className:"x1iyjqo2 x1swblul xacr46v x1mxnbhz",src:(0,aL.ck)(e[2]),alt:""}))}function i$({imageSources:e}){return a.createElement(a.Fragment,null,a.createElement(ij.oW,{className:"x10l6tqk xamxeob x1nrll8i x1pdbt9q x1swblul x874rk5 x1mxnbhz",src:(0,aL.ck)(e[0]),alt:""}),a.createElement(ij.oW,{className:"x10l6tqk xamxeob x1nrll8i xpdgo6v x1swblul x1y0lptx x1mxnbhz",src:(0,aL.ck)(e[1]),alt:""}))}function iH({imageSource:e}){return a.createElement("div",{className:"x10l6tqk x13vifvy xu96u03 xh8yej3 x5yr21d"},a.createElement(ij.oW,{className:"x10l6tqk x1nrll8i xmkg3ln xlxyqfn x1y0lptx",src:(0,aL.ck)(e),alt:""}))}function iG({imageSource:e}){return a.createElement(a.Fragment,null,a.createElement(ij.oW,{className:"x10l6tqk xamxeob x1nrll8i xuuh30 x1y0lptx",src:(0,aL.ck)(e),alt:""}))}var iV=r(931990);let iz=new Set([iL.LJ.uiKits,iL.LJ.wireframes,iL.LJ.designTemplates,iL.LJ.mobileApps,iL.LJ.portfolios,iL.LJ.resumes,iL.LJ.visualAssets,iL.LJ.illustrations,iL.LJ.icons,iL.LJ.shapesColors]),iq=new Set([iL.LJ.brainstorming,iL.LJ.diagramming,iL.LJ.funGames,iL.LJ.teamMeetings,iL.LJ.whiteboarding,iL.LJ.strategicPlanning]),iY=new Set([iL.LJ.editingEffects,iL.LJ.fileOrganization,iL.LJ.development,iL.LJ.whiteboarding,iL.LJ.designTools,iL.LJ.importExport,iL.LJ.accessibility,iL.LJ.prototypingAnimation]),iK=new Set([iL.LJ.presentations]),iJ=new Set([iL.LJ.desktopAppsWebsites]),iX={DESIGN_RESOURCES:"designResources",PLUGINS_AND_WIDGETS:"pluginsAndWidgets",WHITEBOARDING:"whiteboarding",PRESENTATIONS:"presentations",WEBSITES:"websites"};function iQ(e){let t=(0,aO.Om)(),r=(0,aO.tv)();return(0,a.useMemo)(()=>Object.fromEntries(e.map(({key:e,category:a,resource_type:n,tag:o})=>[e,new ix.Dv({...t,categorySlug:a,tagSlug:o},{resource_type:n,...r})])),[e,t,r])}var iZ=(e=>(e.marketing="marketing",e.product="product",e.pitchDeck="pitch-deck",e.sales="sales",e.landingPages="landing-pages",e.portfolio="portfolio",e.ecommerce="ecommerce",e.blog="blog",e.wedding="wedding",e.photography="photography",e))(iZ||{});function i0({header:e,route:t,content:r,showSeeMore:n}){return a.createElement("div",null,a.createElement("div",{className:"x78zum5 x1qughib x6s0dn4 x1y1aw1k x1l90r2v"},a.createElement("h3",{...n8.xk(i1.headerText)},e),t&&n&&a.createElement(az.o3,{className:"x1quhyk7",to:t.to,trackingEventName:"resource_hub_section_link_clicked",trackingProperties:{slug:t.pathname}},(0,C.t)("community.resource_hub.see_more"))),r)}let i1={headerText:{...lj.g.textBodyLarge,$$css:!0}};function i4({size:e,title:t,description:r,art:n,backgroundColor:o,route:l}){let[i,s]=(0,a.useState)(!1);return a.createElement(iM.E,{...n8.xk(i5.card,"large"===e?i5.largeCard:i5.smallCard),onClick:()=>{l&&d.Ay.push(l.href)},htmlAttributes:{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},style:{backgroundColor:o},key:t},a.createElement("div",{className:"x78zum5 xdt5ytf x10l6tqk x13vifvy x1nejdyq xs58bn6"},a.createElement("div",{...n8.xk(i5.title)},t),a.createElement("div",{className:"x1n0bwc9"},r)),n(i))}let i5={smallCard:{flexBasis:"xhnlq4v",flexGrow:"x1iyjqo2",$$css:!0},largeCard:{flexBasis:"x4pfjvb",flexGrow:"xgyuaek",$$css:!0},card:{position:"x1n2onr6",display:"x1lliihq",placeItems:"x1hd2rbs",alignItems:null,justifyItems:null,borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,border:"x1bamp8i",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,height:"x5yr21d",overflow:"xb3r6kr",overflowX:null,overflowY:null,textAlign:"x1yc453h",$$css:!0},title:{...lj.g.textHeadingMedium,$$css:!0}};function i2(){let e="developer"===(0,iU.w)()?[{category:iL.LJ.diagramming,size:"large",art:()=>a.createElement(iW,{imageSources:["df764945e0991c1ff285c73b001329cfa4d88542","076222f3ab173d9a31e7d135316e8894e5cdc12e","ab98e1d1af91231bf6d1f10979219c5d547347f1"]}),backgroundColor:"#FFDFCC"},{category:iL.LJ.teamMeetings,size:"small",art:()=>a.createElement(i$,{imageSources:["742fbce6b78404d48f62e39a6be510dce4cae699","b7e05a6d6b76b8b377e5c4f0eb006dfe99e5875d"]}),backgroundColor:"#FFDFCC"},{category:iL.LJ.development,size:"small",art:()=>a.createElement(iH,{imageSource:"a3d15bebe41a6a8da3d031fefa52671c59a13e30"}),backgroundColor:iB.Tj.bgBrandTertiary}]:[{category:iL.LJ.wireframes,size:"large",art:()=>a.createElement(iW,{imageSources:["4c787218f1399d78e7035575c6041d05b7c51abf","4a119c09ddc4e5a598728b3121b81e7df52f30f0","47d4c8d7fef354a92cf2708a7485501509028972"]}),backgroundColor:iB.Tj.bgBrandTertiary},{category:iL.LJ.uiKits,size:"small",art:()=>a.createElement(i$,{imageSources:["41686325eb3816d0a673fba57945ac4aca17b0b0","4fe01c80bdd1ce0e59a84006fbea27d8f205eac1"]}),backgroundColor:iB.Tj.bgBrandTertiary},{category:iL.LJ.presentations,size:"small",art:()=>a.createElement(iG,{imageSource:"3cc7d15f2adb13c8d26cb1932a636b86ba94f82a"}),backgroundColor:"#FFDFCC"}],t=iQ(e.map(e=>({key:e.category,category:e.category}))),r=e.map(e=>({...function(e){switch(e){case iL.LJ.visualAssets:return{title:(0,C.t)("community.categories.visual_assets"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.editingEffects:return{title:(0,C.t)("categories.editing_effects"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.presentations:return{title:(0,C.t)("categories.presentations"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.development:return{title:(0,C.t)("community.resource_hub.featured_categories.plugins_for_development"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.diagramming:return{title:(0,C.t)("categories.diagramming"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.teamMeetings:return{title:(0,C.t)("community.resource_hub.featured_categories.team_meetings"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.strategicPlanning:return{title:(0,C.t)("categories.strategic_planning"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.resumes:return{title:(0,C.t)("categories.resumes"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.fileOrganization:return{title:(0,C.t)("categories.file_organization"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.brainstorming:return{title:(0,C.t)("categories.brainstorming"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.uiKits:return{title:(0,C.t)("categories.ui_kits"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.dataTemplates:return{title:(0,C.t)("community.footer.data_templates"),description:(0,C.t)("community.resource_hub.brief_description")};case iL.LJ.wireframes:return{title:(0,C.t)("categories.wireframes"),description:(0,C.t)("community.resource_hub.brief_description")};default:(0,I.xb)(e)}}(e.category),size:e.size,art:e.art,backgroundColor:e.backgroundColor,route:t[e.category]})),n=(0,a.useRef)(null),[o,l]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=new ResizeObserver(e=>{l(e[0]?.contentRect.width??0)});return n.current&&(l(n.current.clientWidth),e.observe(n.current)),()=>{e.disconnect()}},[n]);let i=(0,a.useMemo)(()=>{let e=[],t=0;return r.forEach(r=>{let a="large"===r.size?420:210;t+a<=o&&(e.push(r),t+=a)}),e},[o,r]);return a.createElement(i0,{header:(0,C.t)("community.resource_hub.featured_categories"),content:a.createElement("div",{className:"x78zum5 x1q0g3np x1665zp3 xc6p2dh",ref:n},i.map(e=>a.createElement(i4,{key:e.title,...e}))),showSeeMore:!1})}function i7(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),n=(0,a.useCallback)(e=>{r(Math.floor((e-4+32)/304))},[]);return(0,a.useLayoutEffect)(()=>{let t=e.current;if(!t)return;n(t.clientWidth);let r=new ResizeObserver(e=>{n(e[0]?.target.clientWidth??0)});return r.observe(e.current),()=>r.disconnect()},[e,n]),(0,a.useMemo)(()=>({numberOfTiles:t,sizeRef:e}),[t,e])}var i3=r(577245);function i8(){let e=i7(),{trackResourceImpression:t}=(0,iF.G)(),r=(0,a.useCallback)((e,r)=>{r&&t(e)},[t]);return a.createElement("div",{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d x1665zp3",ref:e.sizeRef},a.createElement(i6,{sizingInfo:e}),a.createElement(i2,null),a.createElement(i9,{sizingInfo:e}),a.createElement(se,{resourceImpressionTracking:r}),a.createElement(st,{sizingInfo:e}),a.createElement(sr,{sizingInfo:e}))}function i6({sizingInfo:e}){return a.createElement(sa,{header:(0,C.t)("community.footer.presentations"),categorySlug:iL.LJ.presentations,resourceType:iP.vt.SLIDE_TEMPLATE,sizingInfo:e})}function i9({sizingInfo:e}){return a.createElement(sa,{header:(0,C.t)("categories.design_templates"),categorySlug:iL.LJ.designTemplates,resourceType:iP.vt.DESIGN_TEMPLATE,sizingInfo:e})}function se({resourceImpressionTracking:e}){let{resources:t,loading:r}=iO({limit:aF.l_,resourceType:iP.vt.PLUGIN,category:iL.LJ.designTools,caller:iA.z.RESOURCE_HUB,includeContent:!0}),n=iQ([{key:"pluginsRoute",category:iL.LJ.designTools,resource_type:iD.L.BrowseResourceTypes.PLUGINS}]);return r||t&&0!==t.length?a.createElement(i0,{header:(0,C.t)("community.view_bar.plugins"),route:n.pluginsRoute,content:a.createElement(iR.M,{plugins:(t??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:e,isOrgTeamBrowsing:!1,isLoading:r,loadingRowCount:aF.l_}),showSeeMore:!0}):null}function st({sizingInfo:e}){return a.createElement(sa,{header:(0,C.t)("community.resource_hub.figjam_templates"),categorySlug:iL.LJ.whiteboarding,resourceType:iP.vt.FIGJAM_TEMPLATE,sizingInfo:e})}function sr({sizingInfo:e}){return a.createElement(sa,{header:(0,C.t)("community.view_bar.widgets"),categoryForQuery:iL.LJ.whiteboarding,categorySlug:iL.LJ.whiteboarding,resourceType:iP.vt.WIDGET,apiResourceType:iD.L.BrowseResourceTypes.WIDGETS,sizingInfo:e})}function sa({header:e,categoryForQuery:t,categorySlug:r,resourceType:n,apiResourceType:o,editorType:l,sizingInfo:i}){let{resources:s,loading:c}=iO({limit:aF.u8,resourceType:n,category:t,editorType:l,caller:iA.z.RESOURCE_HUB,includeContent:!1}),d=iQ([{key:"categoryRoute",category:r,resource_type:o}]);return c||s&&0!==s.length?a.createElement(i0,{header:e,route:d.categoryRoute,content:a.createElement(i3.T,{resources:(s&&s.slice(0,i.numberOfTiles))??[]}),showSeeMore:!0}):null}var sn=r(58294),so=r(753433);function sl({limit:e=sn.N,resourceTypes:t,teamId:r,orgId:a,caller:n,includeContent:o=!1}){let[{data:l,status:i,hasNextPage:s,isFetchingNextPage:c},{fetchNextPage:d}]=(0,_.IT)(iA.a.ResourcesPaginatedQuery({resourceType:t,orgId:a,teamId:r,caller:n,pageSize:e,includeContent:o,sortBy:so.e.Browse.PUBLISHED_AT}));return{resources:l,loading:"loading"===i,hasNextPage:s,isFetchingNextPage:c,fetchNextPage:d}}function si({limit:e=sn.N,orgId:t,caller:r,includeContent:a=!1}){return sl({limit:e,resourceTypes:[iP.vt.PLUGIN],teamId:void 0,orgId:t,caller:r,includeContent:a})}function ss(e){switch(e){case iS.PLUGINS:return(0,C.t)("community.view_bar.plugins");case iS.FIGJAM_TEMPLATES:return(0,C.t)("community.resource_hub.figjam_templates");case iS.WIDGETS:return(0,C.t)("categories.widgets");case iS.SLIDE_TEMPLATES:return(0,C.t)("community.resource_hub.slide_templates");case iS.LIBRARIES:return(0,C.t)("categories.libraries");case iS.COOPER_TEMPLATES:return(0,C.t)("community.resource_hub.cooper_templates");case iS.RECENTLY_ADDED_TEMPLATES:return(0,C.t)("community.resource_hub.recently_added_templates");default:(0,I.xb)(e)}}function sc({plan:e}){let t=i7(),r=e?.type===eL.OL.ORG?e?.key.parentId:void 0,n=e?.type===eL.OL.TEAM?e?.key.parentId:void 0,{trackResourceImpression:o}=(0,iF.G)(),l=(0,a.useCallback)((e,t)=>{t&&o(e)},[o]);return a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl",ref:t.sizeRef},a.createElement(sd,{resourceImpressionTracking:l,orgId:r??void 0,teamId:n??void 0,numberOfTiles:t.numberOfTiles}),a.createElement(sm,{resourceImpressionTracking:l,orgId:r??void 0,teamId:n??void 0,numberOfTiles:t.numberOfTiles}),a.createElement(s_,{resourceImpressionTracking:l,orgId:r??void 0,numberOfTiles:t.numberOfTiles}),a.createElement(su,{resourceImpressionTracking:l,orgId:r??void 0,teamId:n??void 0,numberOfTiles:t.numberOfTiles}),a.createElement(sp,{resourceImpressionTracking:l,orgId:r??void 0}),a.createElement(sf,{resourceImpressionTracking:l,orgId:r??void 0}))}function sd({resourceImpressionTracking:e,orgId:t,teamId:r,numberOfTiles:n}){return a.createElement(sg,{resourceTypes:[iP.vt.SLIDE_TEMPLATE,iP.vt.COOPER_TEMPLATE_FILE,iP.vt.FIGJAM_TEMPLATE],resourceTypeSlug:iS.RECENTLY_ADDED_TEMPLATES,resourceImpressionTracking:e,orgId:t,teamId:r,numberOfTiles:n})}function sm({resourceImpressionTracking:e,orgId:t,teamId:r,numberOfTiles:n}){return a.createElement(sg,{resourceTypes:[iP.vt.COOPER_TEMPLATE_FILE],resourceTypeSlug:iS.COOPER_TEMPLATES,resourceImpressionTracking:e,orgId:t,teamId:r,numberOfTiles:n})}function su({resourceImpressionTracking:e,orgId:t,teamId:r,numberOfTiles:n}){return a.createElement(sg,{resourceTypes:[iP.vt.SLIDE_TEMPLATE],resourceTypeSlug:iS.SLIDE_TEMPLATES,resourceImpressionTracking:e,orgId:t,teamId:r,numberOfTiles:n})}function s_({resourceImpressionTracking:e,orgId:t,numberOfTiles:r}){return a.createElement(sg,{resourceTypes:[iP.vt.FIGJAM_TEMPLATE],resourceTypeSlug:iS.FIGJAM_TEMPLATES,resourceImpressionTracking:e,orgId:t,numberOfTiles:r})}function sp({resourceImpressionTracking:e,orgId:t}){let r=(0,aO.Om)(),n=(0,aO.tv)(),{resources:o,loading:l,hasNextPage:i}=si({limit:aF.l_,caller:iA.z.RESOURCE_HUB,orgId:t,includeContent:!0});return l||o&&0!==o.length?a.createElement(i0,{header:ss(iS.PLUGINS),route:new iC({...r,resourceTypeSlug:iS.PLUGINS},n),content:a.createElement(iR.M,{plugins:(o??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:e,isOrgTeamBrowsing:!1,isLoading:l,loadingRowCount:aF.l_}),showSeeMore:!!i}):null}function sf({resourceImpressionTracking:e,orgId:t}){return a.createElement(sg,{resourceTypes:[iP.vt.WIDGET],resourceTypeSlug:iS.WIDGETS,resourceImpressionTracking:e,orgId:t})}function sg({resourceTypes:e,resourceTypeSlug:t,resourceImpressionTracking:r,orgId:n,teamId:o,numberOfTiles:l}){let i=(0,aO.Om)(),s=(0,aO.tv)(),{resources:c,loading:d,hasNextPage:m}=sl({resourceTypes:e,limit:aF.qP,caller:iA.z.RESOURCE_HUB,orgId:n,teamId:o,includeContent:!0});return d||c&&0!==c.length?a.createElement(i0,{header:ss(t),route:new iC({...i,resourceTypeSlug:t},s),content:a.createElement(i3.T,{resources:(c??[]).slice(0,l)}),showSeeMore:!!m}):null}let sE="resource_hub--pageContainer--0k53S";function sv({plan:e}){let t;let{tab:r}=(0,ik.RA)(aO.au);switch(r){case aF.N$.INTERNAL:t=a.createElement(sc,{plan:e});break;case aF.N$.COMMUNITY:t=a.createElement(i8,null);break;default:(0,I.xb)(r)}return a.createElement("div",{className:sE},t)}var sb=r(543287);function sh({planTier:e,currentOrgId:t,currentTeamId:r}){let n;let{resourceTypeSlug:o}=(0,ik.RA)(iC),{trackResourceImpression:l,flushAndResetResourceImpressions:i}=(0,iF.G)(),s=(0,a.useCallback)((e,t)=>{t&&l(e)},[l]);a.useEffect(()=>{i()},[o,i]);let c=ss(o),d=function(e){switch(e){case iS.PLUGINS:return[iP.vt.PLUGIN];case iS.FIGJAM_TEMPLATES:return[iP.vt.FIGJAM_TEMPLATE];case iS.WIDGETS:return[iP.vt.WIDGET];case iS.SLIDE_TEMPLATES:return[iP.vt.SLIDE_TEMPLATE];case iS.COOPER_TEMPLATES:return[iP.vt.COOPER_TEMPLATE_FILE];case iS.RECENTLY_ADDED_TEMPLATES:return[iP.vt.SLIDE_TEMPLATE,iP.vt.COOPER_TEMPLATE_FILE,iP.vt.FIGJAM_TEMPLATE];case iS.LIBRARIES:return[];default:(0,I.xb)(e)}}(o);return d[0]&&!function(e,t){switch(t){case iP.vt.PLUGIN:case iP.vt.WIDGET:case iP.vt.FIGJAM_TEMPLATE:case iP.vt.COOPER_TEMPLATE_FILE:return e===eL.Ag.ORG||e===eL.Ag.ENTERPRISE;case iP.vt.SLIDE_TEMPLATE:case iP.vt.COOPER_TEMPLATE_ASSET:return e===eL.Ag.ORG||e===eL.Ag.ENTERPRISE||e===eL.Ag.PRO;case iP.vt.DESIGN_TEMPLATE:case iP.vt.UI_KIT:case iP.vt.PROTOTYPE:case iP.vt.SITE_TEMPLATE:return!1;default:(0,I.xb)(t)}}(e,d[0])||(d[0]===iP.vt.PLUGIN?n=a.createElement(sw,{orgId:t??void 0,resourceImpressionTracking:s}):d&&(n=a.createElement(sy,{resourceTypes:d,orgId:t??void 0,teamId:r??void 0,resourceImpressionTracking:s}))),a.createElement("div",{className:sE},a.createElement("div",{className:"resource_hub--pageHeader--EI4B1 utilities--bodyLarge--VTRab"},c),n)}function sy({resourceTypes:e,orgId:t,teamId:r,resourceImpressionTracking:n}){let{resources:o,loading:l,hasNextPage:i,isFetchingNextPage:s,fetchNextPage:c}=sl({resourceTypes:e,limit:16,caller:iA.z.RESOURCE_HUB,orgId:t,teamId:r});return l||o&&0!==o.length?a.createElement("div",null,a.createElement(i3.T,{resources:o??[]}),i&&a.createElement(sb.A,{onClick:e=>{e.preventDefault(),c()},isLoading:s,isMoreToFetch:i})):null}function sw({orgId:e,resourceImpressionTracking:t}){let{resources:r,loading:n,hasNextPage:o,isFetchingNextPage:l,fetchNextPage:i}=si({limit:10,caller:iA.z.RESOURCE_HUB,orgId:e,includeContent:!0});return n||r&&0!==r.length?a.createElement("div",null,a.createElement(iR.M,{plugins:(r??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:t,isOrgTeamBrowsing:!1,isLoading:n}),o&&a.createElement(sb.A,{onClick:e=>{e.preventDefault(),i()},isLoading:l,isMoreToFetch:o})):null}var sT=r(957296),sx=r(904239),sI=r(905899),sk=r(485211),sS=r(207488),sC=r(775902),sN=r(629612),sR=r(478538);function sA({text:e,isSelected:t,onClick:r}){return a.createElement(iM.E,{"aria-label":e,"aria-pressed":t,className:j()(sR.x6,sR.Mg,"category_link_pill--tagPill--vb98J",t&&sR.wH),onClick:r},a.createElement("span",{className:j()(sR.IO,"category_link_pill--tagPillContent--tADeA")},e,t&&a.createElement(sN.f,{className:"category_link_pill--closeIcon--T-e7b"})))}function sO({links:e}){let t=(0,ik.a4)(ix.Dv),{tagSlug:r}=(0,ik.RA)(ix.Dv);return a.createElement(a.Fragment,null,e.map(({to:e,translatedTitle:n,categorySlug:o,tagSlug:l})=>{let i=!!(l&&r&&l===r);return a.createElement("div",{className:"x167g77z",key:e},a.createElement(sA,{text:n,categoryTagSlug:l,onClick:()=>{i?d.Ay.push(t.copyWith({categorySlug:o,tagSlug:void 0}).href):d.Ay.push(e)},isSelected:i}))}))}function sF({category:e,showTags:t=!1}){let r=(0,ik.a4)(ix.Dv),n=(0,iI.S)(e.url_slug,iL.LJ);if(!n)return null;let o=(0,sC.m)(e,n,t,r);return a.createElement("div",{className:"x78zum5 x167g77z x1a02dak"},a.createElement(sO,{links:o}))}var sD=r(325655),sL=r(202392),sP=r(944440),sM=r(601963);function sB({context:e,filterState:t}){let{resourceType:r,editorType:n=(0,sM.MF)(r),price:o}=t;return a.createElement(az.fu,{name:o5.e0.RESOURCE_HUB_FEED_FILTERS},a.createElement("div",{className:"x78zum5"},"category"===e&&a.createElement(sP.y,{context:e,resourceType:r,editorType:n}),"search"===e&&a.createElement(sD.Z,{context:e,resourceType:r,editorType:n}),a.createElement(sL.OQ,{context:e,price:o})))}function sU(){let e=(0,o.k)().cmty_curated_tags_mapping,t=i7(),r=(0,ik.a4)(ix.Dv);(0,ix.pj)(r);let n=r.params,{categorySlug:l,tagSlug:i}=n,s=r.search,[{data:c,status:d}]=(0,_.IT)((0,sk.Zp)({categorySlug:l,tagSlug:i})),m=(0,sx.V)(n,s),u=m.filterState,p="loading"===d||!c;return a.createElement(az.fu,{name:o5.e0.RESOURCE_HUB_CATEGORY,properties:{category:l,tag:i}},a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl x1gh5o4n x1rmmofs x1gan7if",ref:t.sizeRef},p?a.createElement("div",{className:"x7z7khe"},a.createElement(sI.y$,null)):a.createElement(a.Fragment,null,a.createElement("div",{className:"x78zum5 x1qughib x6s0dn4 x1a02dak xou54vl"},a.createElement("div",{className:"x78zum5 xdt5ytf x1n2onr6"},a.createElement(sF,{category:c,showTags:e&&!!c.tags.length}))),a.createElement("div",{className:"x78zum5 x13a6bvl"},a.createElement(sB,{context:sS.g.CATEGORY,filterState:u})),a.createElement("div",{className:"xw7yly9"},a.createElement(sT.e,{category:c,categoryPageData:m,numTilesPerRow:t.numberOfTiles})))))}var sj=r(708788),sW=r(725611),s$=r(764932),sH=r(404827);function sG({defaultText:e,iconPrefix:t,disabled:r,categorySlug:n,tagSlug:o,resourceType:l,getTriggerProps:i}){let s=n?function(e,t,r){let a=t?({marketing:(0,C.t)("community.resource_hub.categories.marketing_presentations"),product:(0,C.t)("community.resource_hub.categories.product_presentations"),"pitch-deck":(0,C.t)("community.resource_hub.categories.pitch_decks"),sales:(0,C.t)("community.resource_hub.categories.sales_presentations"),"landing-pages":(0,C.t)("community.resource_hub.categories.landing_pages"),portfolio:(0,C.t)("community.resource_hub.categories.portfolio"),ecommerce:(0,C.t)("community.resource_hub.categories.ecommerce"),blog:(0,C.t)("community.resource_hub.categories.blog"),wedding:(0,C.t)("community.resource_hub.categories.wedding"),photography:(0,C.t)("community.resource_hub.categories.photography")})[t]:void 0;if(a)return a;let n=r?function(e,t){let r={[iL.LJ.whiteboarding]:{[iD.L.BrowseResourceTypes.WIDGETS]:(0,C.t)("categories.widgets")},[iL.LJ.designTools]:{[iD.L.BrowseResourceTypes.PLUGINS]:(0,C.t)("community.view_bar.plugins")}};return r[e]?.[t]}(e,r):void 0;return n?n:({[iL.LJ.mobileApps]:(0,C.t)("community.resource_hub.categories.mobile_app_templates"),[iL.LJ.desktopAppsWebsites]:(0,C.t)("community.resource_hub.categories.websites")})[e]||(0,iV.xF)(e)}(n,o,l):void 0;return a.createElement(iM.E,{disabled:r,"aria-pressed":!!s,className:j()(sR.x6,sR.Mg,s&&sR.wH,r&&sR.r9),...i()},a.createElement("span",{className:sR.IO},t,a.createElement("span",{className:"category_menu_button--buttonText--0inUk"},s||e),a.createElement(sH.r,null)))}function sV({parentDropdown:e,defaultText:t,iconPrefix:r,menuItemsByGroup:n}){let{getTriggerProps:o,manager:l}=s$.b(),i=(0,ik.Rd)(ix.Dv),s=i?.categorySlug,c=i?.tagSlug,m=(0,ik.vA)(ix.Dv),u=m?.resource_type,_=s&&(s?s===iL.LJ.whiteboarding?u===iD.L.BrowseResourceTypes.WIDGETS?iX.PLUGINS_AND_WIDGETS:iX.WHITEBOARDING:iq.has(s)?iX.WHITEBOARDING:iY.has(s)?iX.PLUGINS_AND_WIDGETS:iz.has(s)?iX.DESIGN_RESOURCES:iK.has(s)?iX.PRESENTATIONS:iJ.has(s)?iX.WEBSITES:null:null)===e,p=(0,ik.ed)(iN.b);return a.createElement(s$.bL,{manager:l},a.createElement(sG,{defaultText:t,iconPrefix:r,disabled:!!p,categorySlug:_?s:void 0,tagSlug:c,resourceType:u,getTriggerProps:o}),a.createElement(s$.mc,null,n.map((e,t)=>a.createElement(s$.YJ,{key:t},e.map((e,t)=>a.createElement(s$.q7,{key:t,onClick:()=>d.Ay.push(e?.href??"")},e.text))))))}function sz(){let e=iQ([{key:"uikitRoute",category:iL.LJ.uiKits},{key:"wireframesRoute",category:iL.LJ.wireframes},{key:"designTemplatesRoute",category:iL.LJ.designTemplates},{key:"mobileAppRoute",category:iL.LJ.mobileApps},{key:"portfolioRoute",category:iL.LJ.portfolios},{key:"resumeRoute",category:iL.LJ.resumes},{key:"visualAssetsRoute",category:iL.LJ.visualAssets},{key:"illustrationsRoute",category:iL.LJ.illustrations},{key:"iconsRoute",category:iL.LJ.icons},{key:"shapesColorsRoute",category:iL.LJ.shapesColors}]),t=[[{href:e.uikitRoute?.href,text:(0,C.t)("categories.ui_kits")},{href:e.wireframesRoute?.href,text:(0,C.t)("categories.wireframes")}],[{href:e.mobileAppRoute?.href,text:(0,C.t)("community.resource_hub.categories.mobile_app_templates")},{href:e.resumeRoute?.href,text:(0,C.t)("categories.resumes")},{href:e.portfolioRoute?.href,text:(0,C.t)("categories.portfolios")},{href:e.designTemplatesRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_design_templates")}],[{href:e.iconsRoute?.href,text:(0,C.t)("categories.icons")},{href:e.illustrationsRoute?.href,text:(0,C.t)("categories.illustrations")},{href:e.shapesColorsRoute?.href,text:(0,C.t)("categories.shapes_colors")},{href:e.visualAssetsRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_assets")}]];return a.createElement(sV,{parentDropdown:iX.DESIGN_RESOURCES,menuItemsByGroup:t,defaultText:(0,C.t)("community.homepage.figma_section.header"),iconPrefix:a.createElement(sW.a,null)})}var sq=r(808580);function sY(){let e=iQ([{key:"editingEffectsRoute",category:iL.LJ.editingEffects,resource_type:iD.L.BrowseResourceTypes.PLUGINS},{key:"fileOrganizationRoute",category:iL.LJ.fileOrganization,resource_type:iD.L.BrowseResourceTypes.PLUGINS},{key:"developmentRoute",category:iL.LJ.development,resource_type:iD.L.BrowseResourceTypes.PLUGINS},{key:"widgetsRoute",category:iL.LJ.whiteboarding,resource_type:iD.L.BrowseResourceTypes.WIDGETS},{key:"pluginsRoute",category:iL.LJ.designTools,resource_type:iD.L.BrowseResourceTypes.PLUGINS},{key:"importExportRoute",category:iL.LJ.importExport,resource_type:iD.L.BrowseResourceTypes.PLUGINS},{key:"accessibilityRoute",category:iL.LJ.accessibility,resource_type:iD.L.BrowseResourceTypes.PLUGINS},{key:"prototypingAnimationRoute",category:iL.LJ.prototypingAnimation,resource_type:iD.L.BrowseResourceTypes.PLUGINS}]),t=[[{href:e.fileOrganizationRoute?.href,text:(0,C.t)("categories.file_organization")},{href:e.developmentRoute?.href,text:(0,C.t)("categories.development")},{href:e.editingEffectsRoute?.href,text:(0,C.t)("categories.editing_effects")},{href:e.importExportRoute?.href,text:(0,C.t)("categories.import_export")},{href:e.accessibilityRoute?.href,text:(0,C.t)("categories.accessibility")},{href:e.prototypingAnimationRoute?.href,text:(0,C.t)("categories.prototyping_animation")}],[{href:e.widgetsRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_widgets")},{href:e.pluginsRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_plugins")}]];return a.createElement(sV,{parentDropdown:iX.PLUGINS_AND_WIDGETS,defaultText:(0,C.t)("community.resource_hub.categories.plugins_and_widgets"),iconPrefix:a.createElement(sq.u,null),menuItemsByGroup:t})}var sK=r(76925);function sJ(){let e=iQ([{key:"marketingRoute",category:iL.LJ.presentations,tag:iZ.marketing},{key:"productRoute",category:iL.LJ.presentations,tag:iZ.product},{key:"pitchDecksRoute",category:iL.LJ.presentations,tag:iZ.pitchDeck},{key:"salesRoute",category:iL.LJ.presentations,tag:iZ.sales},{key:"presentationsRoute",category:iL.LJ.presentations}]),t=[[{href:e.marketingRoute?.href,text:(0,C.t)("community.resource_hub.categories.marketing_presentations")},{href:e.productRoute?.href,text:(0,C.t)("community.resource_hub.categories.product_presentations")},{href:e.pitchDecksRoute?.href,text:(0,C.t)("community.resource_hub.categories.pitch_decks")},{href:e.salesRoute?.href,text:(0,C.t)("community.resource_hub.categories.sales_presentations")}],[{href:e.presentationsRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_presentations")}]];return a.createElement(sV,{parentDropdown:iX.PRESENTATIONS,menuItemsByGroup:t,defaultText:(0,C.t)("categories.presentations"),iconPrefix:a.createElement(sK.l,null)})}function sX(){let e=iQ([{key:"websitesRoute",category:iL.LJ.desktopAppsWebsites},{key:"landingPagesRoute",category:iL.LJ.desktopAppsWebsites,tag:iZ.landingPages},{key:"portfolioRoute",category:iL.LJ.desktopAppsWebsites,tag:iZ.portfolio},{key:"ecommerceRoute",category:iL.LJ.desktopAppsWebsites,tag:iZ.ecommerce},{key:"blogRoute",category:iL.LJ.desktopAppsWebsites,tag:iZ.blog},{key:"weddingRoute",category:iL.LJ.desktopAppsWebsites,tag:iZ.wedding},{key:"photographyRoute",category:iL.LJ.desktopAppsWebsites,tag:iZ.photography}]),t=[[{href:e.landingPagesRoute?.href,text:(0,C.t)("community.resource_hub.categories.landing_pages")},{href:e.portfolioRoute?.href,text:(0,C.t)("community.resource_hub.categories.portfolio")},{href:e.ecommerceRoute?.href,text:(0,C.t)("community.resource_hub.categories.ecommerce")},{href:e.blogRoute?.href,text:(0,C.t)("community.resource_hub.categories.blog")},{href:e.weddingRoute?.href,text:(0,C.t)("community.resource_hub.categories.wedding")},{href:e.photographyRoute?.href,text:(0,C.t)("community.resource_hub.categories.photography")}],[{href:e.websitesRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_websites")}]];return a.createElement(sV,{parentDropdown:iX.WEBSITES,menuItemsByGroup:t,defaultText:(0,C.t)("community.resource_hub.categories.websites"),iconPrefix:a.createElement(nR.J,null)})}var sQ=r(998241);function sZ(){let e=iQ([{key:"brainstormingRoute",category:iL.LJ.brainstorming},{key:"diagrammingRoute",category:iL.LJ.diagramming},{key:"funGamesRoute",category:iL.LJ.funGames},{key:"teamMeetingsRoute",category:iL.LJ.teamMeetings},{key:"whiteboardingRoute",category:iL.LJ.whiteboarding},{key:"strategicPlanningRoute",category:iL.LJ.strategicPlanning}]),t=[[{href:e.diagrammingRoute?.href,text:(0,C.t)("categories.diagramming")},{href:e.brainstormingRoute?.href,text:(0,C.t)("categories.brainstorming")},{href:e.funGamesRoute?.href,text:(0,C.t)("categories.fun_games")},{href:e.teamMeetingsRoute?.href,text:(0,C.t)("categories.team_meetings")},{href:e.strategicPlanningRoute?.href,text:(0,C.t)("categories.strategic_planning")}],[{href:e.whiteboardingRoute?.href,text:(0,C.t)("community.resource_hub.categories.see_all_whiteboarding")}]];return a.createElement(sV,{parentDropdown:iX.WHITEBOARDING,menuItemsByGroup:t,defaultText:(0,C.t)("categories.whiteboarding"),iconPrefix:a.createElement(sQ.D,null)})}var s0=r(87641);function s1(){return a.createElement("div",{className:"resource_hub_search_bar--searchInputContainer--6WP25"},a.createElement(s0.M,null))}function s4(){return a.createElement(sj.nK,null,a.createElement("div",{className:"x78zum5 x1q0g3np x167g77z x1a02dak"},a.createElement(sz,null),a.createElement(sY,null),a.createElement(sJ,null),a.createElement(sZ,null),a.createElement(sX,null),a.createElement(s1,null)))}var s5=r(707005);function s2({selectedTab:e,orgOrTeamName:t}){let r=(0,ik.a4)(aO.au),n=e=>{d.Ay.push(r.copyWith({tab:e}).href)},[o,l,i]=s5.t.useManagedTabs({[aF.N$.INTERNAL]:!0,[aF.N$.COMMUNITY]:!0},e,e=>{n(e)}),s=Object.keys(aF.N$).map(e=>a.createElement(s5.t.Tab,{key:e,...o[aF.N$[e]]},function(e,t){switch(e){case aF.N$.INTERNAL:if(t)return(0,C.t)("community.resource_hub.internal_tab",{orgOrTeamName:t});return(0,C.t)("community.resource_hub.internal_tab_default");case aF.N$.COMMUNITY:return(0,C.t)("community.resource_hub.community_tab");default:(0,I.xb)(e)}}(aF.N$[e],t)));return a.createElement(nP.g2,{leftSide:a.createElement(s5.t.TabStrip,{manager:i},s),rightSide:[]})}function s7({orgOrTeamName:e}){let{tab:t}=(0,ik.RA)(aO.au);return a.createElement("div",{className:"x1hq5gj4 x1gh5o4n"},a.createElement(s2,{selectedTab:t||aF.N$.INTERNAL,orgOrTeamName:e}),t===aF.N$.COMMUNITY&&a.createElement(s4,null))}var s3=r(878035),s8=r(367909),s6=r(126757),s9=r(36221),ce=r(4476);function ct({selectedTab:e,resultsByType:t,filtersControlState:r}){let n=(0,ik.a4)(iN.b),o=(0,aO.tv)(),l=(0,ce.v)(t),i=(e,t)=>{let r=n.copyWith({},{...o,resource_type:t}).href;d.Ay.push(r),(0,nA.sx)("resource_type_filter_changed",{resource_type:t,from:e})},[s,c,m]=s5.t.useManagedTabs({[iD.t.FILES]:!0,[iD.t.PLUGINS]:!0,[iD.t.WIDGETS]:!0},e,t=>{i(e,t)}),u=Object.keys(iD.t).map(e=>{let{count:t=0,hasMore:r}=l[iD.t[e]];return a.createElement(s5.t.Tab,{key:e,...s[iD.t[e]]},a.createElement("span",null,function(e){switch(e){case iD.t.FILES:return(0,C.t)("community.view_bar.files_and_templates");case iD.t.PLUGINS:return(0,C.t)("community.view_bar.plugins");case iD.t.WIDGETS:return(0,C.t)("community.view_bar.widgets");default:(0,I.xb)(e)}}(iD.t[e])),a.createElement("span",null,` (${t??0}${r?"+":""})`))});return a.createElement("div",null,a.createElement(nP.g2,{leftSide:a.createElement(s5.t.TabStrip,{manager:m},u),rightSide:[a.createElement(sB,{key:"filters",context:sS.g.SEARCH,filterState:r})]}))}let cr=e=>({query:e.search.query??"",editor_type:e.search.editor_type??s6.k.Editors.ALL,price:e.search.price??s8.C.Price.ALL,resource_type:e.search.resource_type??iD.t.FILES});function ca(){let e=(0,ik.a4)(iN.b);(0,sM._4)(e);let t=cr(e),r=t.resource_type,{trackResourceImpression:n,flushAndResetResourceImpressions:o}=(0,iF.G)({extraProperties:{resourceType:t.resource_type}}),l=(0,a.useMemo)(()=>({resourceType:t.resource_type,editorType:t.editor_type,price:t.price,sortBy:(0,so.H)()}),[t]);a.useEffect(()=>{o()},[t.resource_type,t.query,t.editor_type,t.price,o]);let{resultsByType:i,isLoading:s}=(0,s3._w)((0,a.useMemo)(()=>({query:t.query,editor_type:t.editor_type,price:t.price,sort_by:(0,so.H)()}),[t.query,t.editor_type,t.price]),r),c=i7();return a.createElement(az.fu,{name:o5.e0.RESOURCE_HUB_SEARCH},a.createElement("div",{className:sE,ref:c.sizeRef},a.createElement(ct,{selectedTab:r,resultsByType:i,filtersControlState:l}),a.createElement(s9.G,{searchParams:t,trackResourceImpression:n,resultsByType:i,isLoadingThisView:s,numTilesPerRow:c.numberOfTiles})))}function cn(){let e=(0,aO.Om)(),t=(0,aO.tv)(),r=(0,a.useMemo)(()=>new aO.au({...e,tab:aF.N$.INTERNAL},t),[e,t]),n=(0,te.tJ)();if("loading"===n.status)return null;let o=n.data?.type===eL.OL.ORG?n.data?.key.parentId:void 0,l=n.data?.type===eL.OL.TEAM?n.data?.key.parentId:void 0;return a.createElement(iT.Rj.Provider,{value:iT.mk.RESOURCE_HUB},a.createElement(et.J,null,a.createElement(iw.qh,{path:aO.VR},a.createElement(s7,{orgOrTeamName:n.data?.name}),a.createElement(iw.dO,null,a.createElement(iw.qh,{path:iN.b.path},a.createElement(ca,null)),a.createElement(iw.qh,{path:iC.path},a.createElement(sh,{planTier:n.data?.tier??null,currentOrgId:o,currentTeamId:l})),a.createElement(iw.qh,{path:ix.Dv.path},a.createElement(sU,null)),a.createElement(iw.qh,{path:aO.au.path},a.createElement(sv,{plan:n.data})),a.createElement(iw.rd,{to:r.to})))))}var co=r(958149),cl=r(467397),ci=r(438626),cs=r(176677),cc=r(793478),cd=r(757033);let cm=new class{markFeedVisited(e){return cd.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var cu=r(318342),c_=r(699321),cp=r(842488),cf=r(586994),cg=r(218384),cE=r(507720),cv=r(950738),cb=r(804072),ch=r(842589),cy=r(255603),cw=r(246633),cT=r(814815),cx=r(823888),cI=r(582538),ck=r(853807),cS=r(981412),cC=r(768205);let cN="feed_tile--commentPillText--goQ26",cR="feed_tile--feedPostHoverContainerSelectable--rhPI9";var cA=r(505e3);function cO(e){let t=(0,n.wA)(),r=a.useRef(null),[o,l]=(0,l7.M)(),[i,s]=(0,l7.M)(),{requestToOpenPostByFeedIdx:c}=e,d=a.useCallback((r,a)=>{r?.stopPropagation();let n=e.itemIdx+1;(0,nA.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),t((0,tv.to)({type:cp.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:a?.autofocusCommentInput,selectedContentIdx:a?.selectedContentIdx,onSetSelectedContentIdx:a?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,t,e.feedIdx,c]),m=a.useCallback(()=>{t((0,tv.to)({type:(0,cu.t1)(),data:{preloadedFeedPost:e.post,entryPoint:cu.M2.FEED}}))},[t,e.post]),{refSetter:u}=function(e){let t=a.useRef(null),r=a.useRef(e);r.current=e;let n=a.useMemo(()=>new ResizeObserver(()=>{r.current(t.current)}),[]);return a.useEffect(()=>()=>{n.disconnect()},[n]),{refSetter:a.useCallback(e=>{null!==t.current&&n.unobserve(t.current),t.current=e,null!==t.current&&n.observe(t.current)},[n])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=e.feedListRef.current?.getBoundingClientRect().left??0,f=Math.max(0,(r.current?.getBoundingClientRect().left??0)-p),g=a.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},a.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,C.t)("fig_feed.youre_all_caught_up")),a.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,C.t)("fig_feed.come_back_later_for_more_posts")));return a.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(r.current=e,o(e))},style:_},a.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:i}),a.createElement("div",{className:"feed_tile--tileContainer---NbBK"},a.createElement(cF,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:f,isHovered:l||s}),e.mostRecentUnviewed&&g))}function cF(e){let t=parseInt(e.feedPost.numComments,10),r=(0,cE.o8)(e.feedPost.descriptionMeta),n=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],o=a.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},t>0?a.createElement(a.Fragment,null,a.createElement(cg.u,{users:n,totalNum:n.length,numAvatarsToDisplay:4}),a.createElement("div",{className:cN},(0,C.tx)("fig_feed.num_comments",{numComments:t}))):a.createElement("div",{className:cN},(0,C.tx)("fig_feed.add_comment"))),[l,i]=a.useState(!1),s=a.useRef(null);a.useEffect(()=>{let e=s.current;e&&i(e.scrollHeight>e.offsetHeight)},[]);let c=a.useMemo(()=>(r.length>0&&(r[0].t=r[0].t?.trimStart(),r[r.length-1].t=r[r.length-1].t?.trimEnd()),r),[r]),d=(0,cb.q)(),m=a.useCallback((e=[],t)=>e?e.map((e,r)=>{let n=(e.user_annotated?e.user_annotated.handle:e.t)||"",o=(0,l3.F)(n),l=null,i=e.link&&(0,cy.xT)(e.link);if(e.user_annotated&&o)l=a.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},a.createElement(cy.E4,{href:`/files${d}/user/${e.user_id}`,userId:e.user_annotated.id,handle:o,imgUrl:e.user_annotated.img_url}));else if(i&&o&&(0,cT.$)(i))l=a.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},a.createElement(cy.Rk,{text:o,hyperlink:i}));else{let e=(0,cf.x6)(o?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");l=a.createElement("span",null,e)}return a.createElement(a.Fragment,{key:`${t}-${r}`},l,e.children?.length&&e.styles?.length&&e.children.map((n,o)=>a.createElement(a.Fragment,{key:`${t}-${r}-${o}`}," ",e.styles.includes("ol")?`${o+1}. `:"\u2022 ",m(n.children,`${t}-${r}-${o}`)," ")))}):[a.createElement(a.Fragment,null)],[d]),u=a.useMemo(()=>m(c,e.feedPost.id),[c,m,e.feedPost.id]),{onTileMouseDown:_}=e,p=a.useMemo(()=>a.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:_,role:"button",tabIndex:0},a.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),a.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:s},a.createElement("div",{className:j()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",l&&"feed_tile--hasShowMore--6Nm-e")},u),l&&a.createElement("div",{onMouseDown:e=>{e.stopPropagation(),_()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},a.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),a.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,C.t)("fig_feed.see_more"))))),[l,s,e.feedPost,_,u]),f=(0,cx.DG)(e.feedPost.publicUuid,cx.dy.TILE),g=(0,cv.Um)(),E=e.isHovered||g?.type===(0,cC.j8)(cC.Hx.USER,e.feedPost.publicUuid,cx.Zp.TILE);return a.createElement(a.Fragment,null,a.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},a.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},a.createElement(ck.A,{user:e.feedPost.creator,size:rv.Pf.LARGE,noHandle:!0})),a.createElement(ck.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),a.createElement("div",{className:S.s.flex.flexRow.$},a.createElement(cC.Wu,{hideTarget:!E,feedPost:e.feedPost,source:cx.Zp.TILE,onEditClick:e.onEditClick}),E&&a.createElement(cw.K0,{"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("fig_feed.copy_link_to_post"),onClick:f},a.createElement(rB.In,{icon:"hyperlink-32"})))),p,a.createElement(cD,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),a.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},a.createElement(cS.Q$,{type:cS.Us.FULL,source:cS.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[o]})))}function cD(e){let t=a.useRef(null),r=e.feedPost.content.map(e=>JSON.parse(e)),[n,o]=a.useState(!1),[l,i]=a.useState(!1),[s,c]=a.useState(0);a.useEffect(()=>{0!==s&&ch.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let d=(0,cS.mz)({type:"post",id:e.feedPost.publicUuid},cS.zY.TILE_CONTENT),m=r.length>1,u=j()(m?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(n||l||d)&&"feed_tile--hidden--9bafI"),_={selectedContentIdx:s,onSetSelectedContentIdx:c},{fileData:p,fileIcon:f,fileLoaded:g,openFile:E}=(0,cx.rS)(e.feedPost.publicUuid,r,e.feedPost.fileKey);return a.createElement("div",{ref:e=>{e&&(t.current=e)},className:j()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",m&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},a.createElement(cI.xT,{contentItems:r,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:c,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,_),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:cx.Zp.TILE,onContentHover:e=>o(e)}),g&&a.createElement("button",{className:j()(u,cR,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},a.createElement(rR.MW,{type:f,size:rR.LE.SMALL}),a.createElement("div",null,p.name)),a.createElement("button",{className:j()(u,cR,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,_),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},a.createElement(es.B,{svg:cA.A})))}let cL=(0,ed.eU)(!0),cP=(0,ed.eU)(!1);function cM(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,K.iZ)(),l=(0,n.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:i}=e,[s,c]=a.useState(null),d=(0,eC._6)(),m="teamFeed"===d.view,_="user"===d.view;a.useEffect(()=>{m&&(cm.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),t(eO.b({has_visited_feed:!0})))},[e.currentOrgId,l,t,m]);let p=(0,aB.Rs)(a$.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:l}),f=(0,u.ZC)(l);f&&f!==l&&r.current&&(r.current.scrollTop=0),a.useEffect(()=>{"errors"===p.status&&t(t$.F.enqueue({message:(0,C.t)("general.an_error_occurred"),error:!0}))},[t,p.status]);let g=a.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),E=a.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(e=>!!e.feedPost)}:p,[p]),v="loaded"===E.status&&"loaded"===p.status;a.useEffect(()=>{i?.(v)},[v,i]);let b=a.useCallback(()=>512,[]),h=E.data?E.data.length:0,y=(0,cs.z)({size:h,parentRef:r,estimateSize:b,overscan:15,paddingStart:0}),w=a.useRef(0);a.useEffect(()=>{w.current=E.data?.length??0},[v,E.data?.length]),a.useEffect(()=>{v&&(0,nA.sx)("Team Feed Posts Rendered",{numPosts:w.current,view:d.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,w,v,d.view]);let[T,x]=a.useState(!1),[I,k]=a.useState(null),N=(0,ed.Xr)(cP),R=a.useCallback((e,t)=>{e>0&&!T&&((0,nA.sx)("Team Feed User Scrolled Down"),x(!0));let r=h/50,a=e+t.trackHeight,n=t.scrollHeight;1-(n-a)/(n/r)>=.5&&g&&!g.isLoadingNextPage&&g.hasNextPage()&&g.loadNext(50),k(t)},[T,g,h]);a.useEffect(()=>{if(!I)return;let{scrollTop:e}=I;e>=72?N(!0):N(!1)},[I,N]);let A=a.useMemo(()=>{let e={};return E.data&&E.data.forEach((t,r)=>{e[t.publicUuid]=r}),e},[E]),[O,F]=a.useState(void 0),D=a.useCallback(e=>{F(e)},[]);a.useEffect(()=>{if(void 0===O||(F(void 0),O<0)||(O>=.5*h&&g&&g.loadNext(50),O>=h))return;let e=E.data[O];t(tv.hm({type:cp.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:O,requestToOpenPostByFeedIdx:D}}))},[O,t,E,D,g,h]);let L=a.useMemo(()=>{if(!s||!E.data)return null;let e=0,t=E.data.length-1,r=-1,a=0;for(;e<=t;){let n=Math.floor((e+t)/2);if(new Date(E.data[n].createdAt)>s?(r=n,e=n+1):t=n-1,(a+=1)>50)break}for(;r>=0&&o&&E.data[r].feedPost?.creator.id===o.id;)r-=1;return r},[s,E.data,o]),P=v&&E.data&&0===E.data.length&&e.selectedUser;return a.createElement(el.P,{scrollContainerRef:r,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:j()("feed_list_view--scrollContainerInner--8Le-r",_&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:R},a.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,P?a.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},a.createElement("div",{className:S.s.fontMedium.$},(0,C.tx)("fig_feed.no_posts_found_title")),a.createElement("div",{className:S.s.colorTextSecondary.$},(0,C.tx)("fig_feed.no_posts_found_description"))):a.createElement("div",{style:{margin:"0 8px",height:`${y.totalSize}px`,position:"relative"}},y.virtualItems.map(e=>{let t=e.index;if(!E.data||!E.data[t].feedPost)return null;let n=E.data[t].feedPost;return a.createElement(cO,{post:n,key:e.key,virtualRowItem:e,feedListRef:r,itemIdx:t,feedIdx:A[n.publicUuid],requestToOpenPostByFeedIdx:D,mostRecentUnviewed:m&&A[n.publicUuid]===L})}))))}function cB(e){let t=(0,n.wA)(),[r,o]=(0,ed.fp)(cL),[l,i]=a.useState(!1),s=(0,n.d4)(e=>e.teamFeedRefreshNonce);a.useEffect(()=>{t(cc.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,s,e.currentOrgId]);let c=a.createElement(a.Fragment,null,a.createElement(c_.CreateFeedPostContent,{entryPoint:cu.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!l,minimized:r,setMinimized:o,uploadInfo:e.uploadInfo}));return a.createElement(cM,{...e,scrollHeaders:c,setHasLoaded:i})}var cU=r(211939),cj=r(473677);function cW(){let e=(0,ed.md)(ci.T),t=(0,ed.md)(cP),r=(0,ed.Xr)(cL),[n,o]=a.useState(!1);return(a.useEffect(()=>{t&&o(!0)},[t]),n)?a.createElement(al.$$,{className:j()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>r(!1)},a.createElement(es.B,{svg:cj.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,C.t)("fig_feed.new_post"),e&&a.createElement(es.B,{svg:cU.A})):null}var c$=r(427193),cH=r(697411);let cG="new_post_indicator--icon--uvRMg";var cV=r(185333);function cz(e){return a.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},a.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},a.createElement(es.B,{svg:cV.A,className:cG}),(0,C.tx)("fig_feed.new_posts")),a.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},a.createElement(es.B,{svg:nV.default,className:cG})))}function cq(e){let t=(0,n.wA)();a.useEffect(()=>((0,nA.sx)("Team Feed Posts List View Visited"),t(cc.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,nA.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let r=a.useCallback(()=>t(cc.Y9()),[t]),o=a.useCallback(e=>{e||r()},[r]),l=a.useCallback(()=>{r()},[r]),i=(0,n.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[s,c]=a.useState(!1),d=(0,u.ZC)(i);a.useEffect(()=>{i&&!1===d?c(!0):d&&!1===i&&c(!1)},[i,d,t]),a.useEffect(()=>{e.initialPostUuidToShow&&t((0,tv.to)({type:cp.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,_]=a.useState(!1),[p,f]=a.useState(null),[g,E]=(0,ed.fp)(cL),v=a.useCallback(e=>{g&&(f(e.files),_(!1))},[g]);return a.createElement(a.Fragment,null,a.createElement(td.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>_(!0),onTargetDragLeave:()=>_(!1),onTargetDrop:v,className:"main_feed_view--contentLayout--HPUlv"},s&&a.createElement(cz,{onRefresh:l,onDismiss:()=>c(!1)}),a.createElement(cB,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:o,uploadInfo:p??void 0}),g&&m&&a.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"})),a.createElement(cH.cx,null))}function cY(e){let t=(0,n.d4)(e=>e.currentUserOrgId),r=a.useRef(new c$.M4);return(a.useEffect(()=>{r.current.start()},[]),t)?a.createElement(cq,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current}):null}var cK=r(508242);function cJ(e){let t=e.tabs?a.createElement(et.J,null,a.createElement(s5.t.TabStrip,{manager:e.tabManager},e.tabs.map(e=>a.createElement(s5.t.Tab,{...e.tabProps,key:e.tabName},e.tabName)))):a.createElement(a.Fragment,null);return a.createElement(nP.g2,{leftSide:t,rightSide:e.viewbarActions||[]})}var cX=r(441048);let cQ=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[lY.C0.TRASHED_AT]}),cZ=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[lY.C0.TRASHED_AT,lY.C0.NAME]}),c0=(e,t,r)=>{let n=(0,cK.xx)(cQ)(t),l=[a.createElement(nP.gr,{key:0,dispatch:e,options:n,selectedView:r}),a.createElement(nP.ye,{key:1,config:n.tileSortFilterConfig}),a.createElement(nP.mc,{key:2,dispatch:e,options:n,selectedView:r})];return(0,o.k)().file_browser_ia_overhaul_remove_list_view||l.push(a.createElement(nP.$c,{key:3,initialViewMode:n.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,nA.sx)("file view toggle",{viewType:t===lY.XU.GRID?"grid":"list"}),e(eS.JF({selectedView:r,config:{...n.tileSortFilterConfig,viewMode:t}}))}})),l},c1=(e,t,r)=>{let n=(0,cK.xx)(cZ)(t),l=[a.createElement(nP.KH,{key:6,dispatch:e,options:n,selectedView:r}),a.createElement(nP.mc,{key:4,dispatch:e,options:n,selectedView:r})];return(0,o.k)().file_browser_ia_overhaul_remove_list_view||l.push(a.createElement(nP.$c,{key:5,initialViewMode:n.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,nA.sx)("folder view toggle",{viewType:t===lY.XU.GRID?"grid":"list"}),e(eS.JF({selectedView:r,config:{...n.tileSortFilterConfig,viewMode:t}})),e(eS.uV({viewId:cX.l,viewMode:t}))}})),l};function c4({currView:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.tileSortFilterStateByView),o=c0(t,r,e),l=c1(t,r,e),[i,s,c]=s5.t.useManagedTabs({deletedFiles:!0,trashedFolders:!0},e.view,a.useCallback(e=>{t(eS.$T({view:e}))},[t]));return a.createElement(cJ,{tabManager:c,tabs:[{tabName:(0,C.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,C.t)("file_browser.tool_bar.trashed_files.aria_label"),tabProps:i.deletedFiles},{tabName:(0,C.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,C.t)("file_browser.tool_bar.trashed_projects.aria_label"),tabProps:i.trashedFolders}],viewbarActions:"deletedFiles"===e.view?o:l})}var c5=r(939082),c2=r(702),c7=r(494941),c3=r(575058),c8=r(20191),c6=r(882439),c9=r(603826);function de(){let e=a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),a.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),a.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return a.createElement("div",{className:c9.kL},a.createElement("div",{className:c9.yl},a.createElement("div",{className:c9._h},e)))}function dt({text:e,tooltipText:t,currentProgress:r,totalProgress:n}){return a.createElement(no.Y,{direction:"vertical",height:"hug-contents",spacing:"7px"},a.createElement(no.Y,{horizontalAlignItems:"space-between"},a.createElement(no.Y,{spacing:4},a.createElement(N.E,{fontSize:13,fontWeight:"medium"},e),a.createElement("div",{"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0},a.createElement(rB.In,{icon:"info-16",fill:"secondary"}))),a.createElement(N.E,{fontSize:13,fontWeight:"medium"},r,"/",n)),a.createElement("div",{className:S.s.relative.wFull.$},a.createElement("div",{className:S.s.absolute.wFull.$},a.createElement(no.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})),a.createElement("div",{className:S.s.absolute.wFull.$},a.createElement(no.Y,{cornerRadius:5,height:5,width:`${Math.min(r/n*100,100)}%`,backgroundColor:r>=n?"warning":"brand"}))))}function dr({canEditTeam:e,isDraftsFolder:t}){let r=(0,n.wA)(),o=(0,ny.ol)(),l=(0,eC._6)(),i=(0,H.PP)();return t||!o||(0,aS.w5)(o)||"folder"!==l.view||!i()?null:a.createElement(da,{folderId:l.folderId,showPlanComparisonModal:()=>{r((0,tv.to)({type:aU.V,data:{upsellSource:aH.b.STARTER_LIMIT_OVERVIEW,teamId:o.id}}))},canEditTeam:e})}function da({folderId:e,showPlanComparisonModal:t,canEditTeam:r}){let n=(0,aB.Rs)(a$.yU5,{projectId:e}),o=nt.h.useTrackingContext({trigger:aH.b.STARTER_LIMIT_OVERVIEW}),l=(0,H.Gm)();if("loaded"!==n.status)return null;let i=n.data.project?.team?.projectsCount.status==="loaded"?n.data.project?.team?.projectsCount.data??1:1,s=n.data.project?.team?.teamFileCounts?.designFileCount??0,c=n.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,d=n.data.project?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=s>=aS.WW||c>=aS.WW;return a.createElement(az.fu,{name:"Starter Limit Overview",properties:o},a.createElement("div",{className:j()(S.s.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--tahPL"),style:ec.sx.sticky.add({alignSelf:"flex-start",top:"128px"}).$},a.createElement(no.Y,{direction:"vertical",padding:32,spacing:24,cornerRadius:8,strokeWidth:1,strokeColor:"default",height:"hug-contents"},a.createElement(N.E,{fontSize:14,fontWeight:"semi-bold"},(0,C.tx)("file_browser.starter_limit.your_starter_team_overview")),a.createElement(dn,{numProjects:i,numFigmaFilesUsed:s,numFigjamFilesUsed:c,numSlidesFilesUsed:m,isSlidesFilesDisplayed:l}),r?a.createElement(no.Y,{direction:"vertical",spacing:"12px"},a.createElement(N.E,{fontSize:13},(0,C.tx)(u?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")),a.createElement(al.vd,{onClick:t,trackingProperties:{trackingDescriptor:e_.c.VIEW_PLANS}},(0,C.tx)("upgrade.view_plans"))):a.createElement(N.E,{fontSize:13},(0,C.tx)("file_browser.starter_limit.trying_things_out")))))}function dn({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:r,numSlidesFilesUsed:n,isSlidesFilesDisplayed:o}){return a.createElement(no.Y,{direction:"vertical",spacing:24,width:234},a.createElement(dt,{text:(0,C.t)("file_browser.starter_limit.projects"),tooltipText:(0,C.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:aS.Wf}),a.createElement(dt,{text:(0,C.t)("file_browser.starter_limit.design_files"),tooltipText:(0,C.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:aS.WW}),a.createElement(dt,{text:(0,C.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,C.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:r,totalProgress:aS.WW}),o&&a.createElement(dt,{text:(0,C.t)("file_browser.starter_limit.slides"),tooltipText:(0,C.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:n,totalProgress:aS.WW}))}var dl=r(254862),di=r(611034),ds=r(42987),dc=r(317713),dd=r(815830),dm=r(323075),du=r(486934),d_=r(339599),dp=r(834111),df=r(94929),dg=r(241917),dE=r(804361),dv=r(565460),db=r(665488);let dh="open_invoice_reminder_card--icon--gcN35";function dy(e){let t=(0,n.wA)(),r=e.team.restrictions_list?.includes(eL.P4.LOCKED),o=e.canAdminTeam?r?(0,C.t)("billing.open_invoice_reminder.title"):(0,C.t)("billing.open_invoice_reminder.grace_period_title"):(0,C.t)("billing.open_invoice_reminder.title_viewer"),l=e.canAdminTeam?r?(0,C.t)("billing.open_invoice_reminder.locked_admin_description"):(0,C.t)("billing.open_invoice_reminder.grace_period_admin_description"):(0,C.t)("billing.open_invoice_reminder.locked_viewer_description"),i=e.canAdminTeam?(0,C.t)("billing.open_invoice_reminder.cta"):null,s={"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return a.createElement(no.Y,{direction:"vertical",padding:e.noPaddingOrBorder?0:20,spacing:24,width:288,cornerRadius:e.noPaddingOrBorder?void 0:8,strokeWidth:e.noPaddingOrBorder?void 0:1,strokeColor:"default",height:"hug-contents"},a.createElement("div",{className:S.s.flex.justifyBetween.wFull.$},a.createElement("div",{className:S.s.flex.itemsCenter.justifyCenter.w32.h32.bRadius5.colorBgWarning.$},r?a.createElement(dv.s,{className:dh}):a.createElement(db.R,{className:dh}))),a.createElement("div",{className:S.s.font14.fontSemiBold.lh24.$},o),a.createElement("div",{className:S.s.font13.lh24.$},l),!!i&&a.createElement("div",{className:S.s.flex.justifyEnd.wFull.$},a.createElement(oz.IK,{onClick:()=>t(eS.$T({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:aC.Iv.BILLING})),variant:"primary",htmlAttributes:(0,H.kF)()?s:void 0},i)))}function dw(e){return e.team.restrictions_list?.includes(eL.P4.LOCKED)||e.canAdminTeam?a.createElement(az.fu,{name:"Open Invoice Reminder Card",properties:{teamId:e.team.id}},a.createElement(dy,{...e})):null}var dT=r(905676);let dx="tiles_view--container--u00AG",dI="tiles_view--emptyStateContainer--eoExf",dk="tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",dS={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},dC=256/192;function dN({tile:e,index:t,dispatch:r,selectedView:a,currentPlanFilter:n,currentSharedByFilter:o,isListView:l}){e.type===t4.nb.FILE&&(r(e1.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:n,currentSharedByFilter:o,viewMode:void 0!==l?l?"list":"grid":void 0})),(0,dp.K)(a)&&r(e1.T5({index:t})),c.eD&&(0,nA.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.fileRepoId,uiSelectedView:JSON.stringify(a)}))}let dR=()=>Math.max(Math.floor((window.innerWidth-dS.sidebar-dS.metaContainer-dS.tileGridOuterPadding)/dS.singleTileWithPadding),0),dA=(e,t)=>{let r=t4.Tf.getName(e)||"",a=t4.Tf.getName(t)||"";return tc.Tt.compare(r,a)},dO=(e,t)=>{let r=(t4.Tf.getName(e)||"").toLowerCase(),a=(t4.Tf.getName(t)||"").toLowerCase();return r===a?0:r<a?-1:1},dF=(e,t)=>{if(e.type!==t4.nb.FILE||t.type!==t4.nb.FILE)return 0;let r=e.file,a=t.file;return r.createdAt<a.createdAt?1:-1},dD=(e,t)=>e.type!==t4.nb.PROTOTYPE||t.type!==t4.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,dL=(e,t)=>{let r=t4.Tf.getAccessedAt(e),a=t4.Tf.getAccessedAt(t);return r&&a?r>a?1:-1:a?-1:r?1:0},dP=(e,t)=>t4.Tf.getCreatedAt(e)>t4.Tf.getCreatedAt(t)?1:-1,dM=(e,t)=>{let r=t4.Tf.getTouchedAt(e),a=t4.Tf.getTouchedAt(t);return null===r||null===a?0:r>a?1:-1},dB=(e,t)=>e.type!==t4.nb.FILE&&e.type!==t4.nb.REPO||t.type!==t4.nb.FILE&&t.type!==t4.nb.REPO?0:(e.type===t4.nb.FILE?e.file.trashedAt:e.repo.trashed_at)>(t.type===t4.nb.FILE?t.file.trashedAt:t.repo.trashed_at)?1:-1;function dU({currentPlanFilter:e,currentSharedByFilter:t,eligibleForLockedStateRedesign:r,emptyStateContent:l,emptyStateText:i,hideSorter:s,isDataPartial:m,isFolder:u,isInLockedProTeamRevampExp:_,newFileTile:p,overFilteredText:g,sharedWithYouFilters:E,sortFilterOptions:v,tileActions:b,tiles:h}){let y=(0,K.iZ)(),w=(0,eC._6)(),T="folder"===w.view?w.folderId:null,x=t6.M4.Folder.useValue(T).data,k=[y?.drafts_folder_id,y?.personal_drafts_folder_id].includes(x?.id),{showing:N,show:R,data:A}=(0,lV.L)();a.useEffect(()=>{let e="page_selected_view",t=c2.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=c2.sn.tryStop(e);t&&(0,nA.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:w.view},{forwardToDatadog:!0,batchRequest:!0})}},[w.view,T]);let O=(0,eD.FC)(),{userStateLoaded:F,userExternallyRestricted:D,selectedBranchKeyByRepoId:L,upsellData:P}=(0,nE.R)(e=>{let t=null,r=(0,dm.e9)(e),a=r&&r.team_id&&e.teams[r.team_id];return r&&a&&(0,tz.canEditTeam)(a.id,e)&&(t={team:a,folderId:r.id,isAtFileLimit:[eL.P4.FILES_LIMITED,eL.P4.FILES_LIMITED_LEGACY,eL.P4.WHITEBOARD_FILES_LIMITED,eL.P4.WHITEBOARD_FILES_LIMITED_BETA,eL.P4.SLIDE_FILES_LIMITED,eL.P4.SLIDE_FILES_LIMITED_BETA].some(e=>!!a.restrictions_list?.includes(e))}),{userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,tz.isOrgUserExternallyRestrictedFromState)(O),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t}}),M=(0,n.wA)(),B=(0,H.PP)(),U=(0,ny.ol)(),W=!!U&&!!r,$=!!U&&!!_,[G,V]=a.useState(()=>dR()),z=v.tileSortFilterConfig.viewMode===lY.XU.LIST,q="recentsAndSharing"===w.view&&w.tab===ih.G.SHARED_FILES,Y=(e,t,r)=>e===lY.rJ.ANY||e===lY.rJ.SELF&&r.type===t4.nb.FILE&&r.file.creatorId===t||e===lY.rJ.SELF&&r.type===t4.nb.REPO&&r.branches[0].creator_id===t||e===lY.rJ.OTHER&&r.type===t4.nb.FILE&&r.file.creatorId!==t||e===lY.rJ.OTHER&&r.type===t4.nb.REPO&&r.branches[0].creator_id!==t,J=(e,t)=>{let r="design";switch(t.type===t4.nb.FILE?r=t.file.editorType:t.type===t4.nb.PINNED_FILE?r=t.file.editorType:t.type===t4.nb.OFFLINE_FILE&&(r=t.file.editorType),e){case lY.t2.ANY:return!0;case lY.t2.DESIGN:if(t.type===t4.nb.FILE||t.type===t4.nb.REPO||t.type===t4.nb.PINNED_FILE||t.type===t4.nb.OFFLINE_FILE)return"design"===r;return!1;case lY.t2.FIGJAM:if(t.type===t4.nb.FILE||t.type===t4.nb.PINNED_FILE||t.type===t4.nb.OFFLINE_FILE)return"whiteboard"===r;return!1;case lY.t2.PROTOTYPE:return t.type===t4.nb.PROTOTYPE;case lY.t2.SLIDES:if(t.type===t4.nb.FILE||t.type===t4.nb.PINNED_FILE||t.type===t4.nb.OFFLINE_FILE)return"slides"===r;return!1;case lY.t2.SITES:if(t.type===t4.nb.FILE||t.type===t4.nb.PINNED_FILE||t.type===t4.nb.OFFLINE_FILE)return"sites"===r;return!1;default:(0,I.xb)(e)}},X=(e,t)=>!e||e===`${t4.Tf.getSharedBy(t)}`,Q=a.useCallback((e,t)=>{if("sharedWithYou"===w.view||"recentsAndSharing"===w.view&&w.tab===ih.G.SHARED_FILES||!e||!e.planId)return!0;let r=e.planId;switch(t.type){case t4.nb.FILE:return("org"===e.planType?t.file.parentOrgId:t.file.teamId)===r;case t4.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===r;case t4.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===r;case t4.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===r;default:return!1}},[w]),Z=a.useCallback((e,t)=>{let r,a,n;let o=e.filter(e=>X(t.filters.sharedBy,e)&&J(t.filters.fileType,e)&&Y(t.filters.creator,O.user?.id,e)&&Q(t.filters.plan,e));if(r=q?o.filter(e=>e.type===t4.nb.FILE||e.type===t4.nb.PROTOTYPE||e.type===t4.nb.REPO):o.filter(e=>e.type===t4.nb.FILE||e.type===t4.nb.REPO||e.type===t4.nb.OFFLINE_FILE),"recentsAndSharing"===w.view&&w.tab===ih.G.SHARED_FILES)return o;let l=t.sort.dir===lY.ue.DESC;switch(t.sort.key){case lY.C0.SEARCH_RELEVANCE:return e;case lY.C0.ACCESSED_AT:a=c8.f.byComparators(dL),n=o;break;case lY.C0.CREATED_AT:a=c8.f.byComparators(dP),n=o;break;case lY.C0.TOUCHED_AT:a=c8.f.byComparators(dM),n=r;break;case lY.C0.NAME:if(k){a=c8.f.byComparators(dA,c8.f.byProperty("type")),n=o;break}let i=o.length<tc.Tw;a=c8.f.byComparators(i?dA:dO,c8.f.byProperty("type"),dF,dD),n=o;break;case lY.C0.TRASHED_AT:a=c8.f.byComparators(dB),n=r;break;case lY.C0.SHARED_AT:return o;default:return console.error("Unknown sort key",t.sort.key),[]}if(a=l?c8.f.reverse(a):a,n.sort(a),m)for(;n[n.length-1]?.type===t4.nb.OFFLINE_FILE;)n.pop();return n},[q,Q,m,k,w,O.user?.id]),ee=a.useMemo(()=>Z(h,v.tileSortFilterConfig),[Z,h,v.tileSortFilterConfig]);!function(e){let t=(0,eC._6)(),r=(0,n.wA)(),o=(0,c3.k9)(()=>{if("deletedFiles"===t.view)return[];let r=[];return e.forEach(e=>{switch(e.type){case t4.nb.FILE:r.push({fileKey:e.file.key});break;case t4.nb.REPO:r.push(...e.branches.map(e=>({fileKey:e.key})))}}),r},[t.view,e]),l=(0,aB.p)(a$.hqi,o);a.useEffect(()=>{for(let{result:e,args:t}of l)if("loaded"===e.status&&e.data){let a=(0,dd.ZF)(e.data);r(tK.Lk({fileKey:t.fileKey,users:a}))}},[l,r])}(ee);let et=(0,ed.md)(t4.Y6),er=a.useCallback((r,a,n)=>{dN({tile:r,index:n,dispatch:M,selectedView:w,currentPlanFilter:e,currentSharedByFilter:t,isListView:z}),function({tile:e,e:t,dispatch:r,selectedView:a,permissionsState:n,selectedBranchKeyByRepoId:l,renamingItem:i}){if(t4.Tf.isRenaming(e,i)||e.type===t4.nb.FILE&&e.file.trashedAt||e.type===t4.nb.REPO&&e.repo.trashed_at){t.preventDefault(),t.stopPropagation();return}let s=f.Ay.mac?t.metaKey:t.ctrlKey,m=null;s&&t.shiftKey?m=c.aw.FOCAL_TAB:s?m=c.aw.BACKGROUND_TAB:t.shiftKey&&(m=c.aw.NEW_WINDOW);let u=n.user;if(c.eD){let a;switch(m=m??c.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case t4.nb.FILE:a=!!(e.file.isTeamTemplate&&(0,eF.LQ)(n)),c.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,target:m,isBranch:(0,du.Kz)(e.file),isLibrary:!!e.file.lastPublishedAt,isTeamTemplate:a,userId:u?.id});break;case t4.nb.PINNED_FILE:a=!!(e.file.isTeamTemplate&&(0,eF.LQ)(n)),c.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,isTeamTemplate:a,target:m,userId:u?.id});break;case t4.nb.PROTOTYPE:c.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.fig_file.name||"",m,u?.id);break;case t4.nb.REPO:let o=(0,du.mr)(e.repo,e.branches,l);c.eD.openFile({fileKey:o.key,title:o.name,fileEditorType:o.editor_type,target:m,isBranch:(0,du.Xm)(o),isLibrary:!!o.last_published_at,userId:u?.id});break;case t4.nb.OFFLINE_FILE:r(ds.NA({file:e.file,openNewFileIn:iv.ai.NEW_TAB,source:df.U.OFFLINE_FILE_TILE}));break;default:(0,I.xb)(e)}return}if(null!=m){if(r(eS.oB()),e.type===t4.nb.OFFLINE_FILE){r(ds.NA({file:e.file,openNewFileIn:iv.ai.NEW_TAB,source:df.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let r=t4.Tf.getUrl(e,l);d.Ay.redirect(r,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let _=n.currentUserOrgId,p=n.currentTeamId,g="recentsAndSharing"===a.view||"folder"===a.view?a:void 0,E=(0,o.k)().ps_benchmark;r(E?dc.c5({planId:_||p,planType:_?ib.O.ORG:ib.O.TEAM}):dc.p4({planId:_||dE.P}));let v={user:u,teamId:E?p:null,orgId:_,selectedView:a};switch(e.type){case t4.nb.FILE:(0,l2.N7)(_,e.file.parentOrgId,p,e.file.teamId)?(0,l2.QV)({file:{key:e.file.key,editorType:e.file.editorType||void 0}},v):r(eS.$T({view:"fullscreen",fileKey:e.file.key,editorType:d_.z4.getIsExtension()?dg.nT.DevHandoff:e.file.editorType?(0,dg.wN)(e.file.editorType):dg.nT.Design,prevSelectedView:g}));break;case t4.nb.PINNED_FILE:(0,l2.N7)(_,e.file.parentOrgId,p,e.file.teamId)?(0,l2.QV)({file:{key:e.file.key,editorType:e.file.editorType}},v):r(eS.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,dg.wN)(e.file.editorType):dg.nT.Design,prevSelectedView:g}));break;case t4.nb.PROTOTYPE:let b=e.prototype.fig_file;(0,l2.N7)(_,b.parent_org_id,p,b.team_id)?(0,l2.QV)({base:"proto",file:{key:b.key,editorType:b.editor_type||void 0},nodeId:e.prototype.page_id},v):r(eS.$T({view:"prototype",file:b,nodeId:e.prototype.page_id,prevSelectedView:g}));break;case t4.nb.REPO:{let t=(0,du.mr)(e.repo,e.branches,l);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let a=t.key;(0,l2.N7)(_,t.parent_org_id,p,t.team_id)?(0,l2.QV)({file:{key:a}},v):r(eS.$T({view:"fullscreen",fileKey:a,editorType:dg.nT.Design,prevSelectedView:g}));break}case t4.nb.OFFLINE_FILE:r(ds.NA({file:e.file,openNewFileIn:iv.ai.SAME_TAB,source:df.U.OFFLINE_FILE_TILE}));break;default:(0,I.xb)(e)}}({tile:r,e:a,dispatch:M,selectedView:w,permissionsState:O,selectedBranchKeyByRepoId:L,renamingItem:et})},[z,e,t,M,O,L,w,et]),ea=a.useCallback((r,a,n)=>{dN({tile:r,index:n,dispatch:M,selectedView:w,currentPlanFilter:e,currentSharedByFilter:t,isListView:z})},[z,e,t,w,M]),en=a.useCallback((e,t,r)=>{let a=t4.Tf.getId(e);dl.$.start(a),R({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[R]),eo=(0,t4.nw)(h);a.useEffect(()=>{let e=()=>{V(dR())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let el=a.createElement("div",{className:S.s.flex.alignCenter.$},a.createElement(nP.$c,{initialViewMode:v.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,nA.sx)("file view toggle",{viewType:e===lY.XU.GRID?"grid":"list"}),M(eS.JF({selectedView:w,config:{...v.tileSortFilterConfig,viewMode:e}}))}})),ei=(0,tz.canEditTeam)(x?.team_id||U?.id||"",O),es=(0,aB.Rs)(a$.TNJ,{id:x?.team_id||U?.id||""},{enabled:!!(x?.team_id||U?.id)}),ec=!!es.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,em=a.createElement("div",null),eu=a.createElement(nP.$f,{options:v,selectedView:w,dispatch:M}),ep=a.createElement("div",{className:S.s.flex.$},eu,!(0,o.k)().file_browser_ia_overhaul_remove_list_view&&el),ef=a.createElement(nP.C9,{options:v,selectedView:w,dispatch:M,sharedWithYouFilters:E});em=a.createElement("div",{className:j()(!u||ei?"tiles_view--viewBarWrapper--AR2zB":"tiles_view--viewBarWrapperWithTopPadding--4zGHb","tiles_view--viewBarWrapperNoExtraLeftPadding--L4Ueu")},a.createElement(nP.lU,{leftSide:ef,rightSide:ep}));let[eg,eE]=a.useState([]);if((0,c7.Cm)(eg),0===ee.length){let e=(()=>{if(h.length>0&&""!==g){let e=g??(0,C.t)("file_browser.tiles_view.default_overfiltered_text");return a.createElement("div",{className:dk,"data-test-id":"over-filtered-state-text"},e)}let e="";return(i?e=i:(f.Ay.mobile||f.Ay.tablet)&&(e=(0,C.t)("file_browser.folder.this_project_is_empty")),e)?a.createElement("div",{className:dk,"data-test-id":"empty-state-text"},e):null})();if(e)return a.createElement("div",{className:dI},!s&&em,a.createElement("div",{className:S.s.flex.$},e,W&&a.createElement("div",{className:S.s.mr32.$},a.createElement(dT.R,{teamId:U.id,canEditTeam:ei})),$&&a.createElement("div",{className:S.s.mr32.$},a.createElement(dw,{team:U,canAdminTeam:ec}))));if(l)return a.createElement("div",{className:dI},l)}let ev=dx+(z?` ${c9._O} `:` ${c9.CK} `),eb=h.length>0;if(!F&&!(0,o.k)().stop_rendering_tiles_view_loading_spinner)return a.createElement("div",{className:"tiles_view--loading--6rn3X"},a.createElement(oR.k,null));let eh=!z&&G>0&&P?.isAtFileLimit&&!B(),ey=eh?(()=>{if(0===G)return 0;let e=window.innerWidth-dS.sidebar-dS.metaContainer,t=dS.singleTileWithPadding-dS.singleTile;return Math.max((e-dS.tileGridOuterPadding-G*t)/G/dC+dS.tileGridOuterPadding,0)})():void 0,ew=!!U?.restrictions_list?.includes(eL.P4.LOCKED),eT=W||ew&&$;return a.createElement("div",{className:dx},a.createElement("div",{className:ev},!s&&em,a.createElement("div",{className:S.s.flex.$},eb&&a.createElement(di.d,{sortConfig:v.tileSortFilterConfig.sort,handleOpenTile:ea,items:ee,sortBy:e=>{let t=v.tileSortFilterConfig,r=t.sort.dir===lY.ue.DESC?lY.ue.ASC:lY.ue.DESC;M(eS.JF({selectedView:w,config:{...t,sort:{key:e,dir:e===t.sort.key?r:t.sort.dir}},tab:"recentsAndSharing"===w.view?w.tab:void 0}))},viewType:z?lY.XU.LIST:lY.XU.GRID,updateRenderedItems:eE,handleOpenDropdown:en,checksForViewOnlyLabels:eT?{teamId:U.id,isLockedTeam:!0}:void 0}),eb&&(W?a.createElement("div",{className:S.s.mr32.$},a.createElement(dT.R,{teamId:U.id,canEditTeam:ei})):$?a.createElement("div",{className:S.s.mr32.$},a.createElement(dw,{team:U,canAdminTeam:ec})):a.createElement(dr,{canEditTeam:ei,isDraftsFolder:k}))),eh&&a.createElement(az.fu,{name:"Tiles View Upsell",properties:{buttonColor:"blue"}},a.createElement("div",{className:"tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh"},[...Array(G)].map((e,t)=>a.createElement(de,{key:t}))),a.createElement("div",{className:"tiles_view--upgradeOverlay--ZwyMN",style:{marginTop:`-${ey}px`,height:`${ey}px`}},a.createElement("p",{className:"tiles_view--upgradeTitle--PFF3i text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,C.tx)("file_browser.folder.ready_for_an_upgrade")),a.createElement("p",{className:"tiles_view--upgradeText--ApEbY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,C.tx)("file_browser.folder.do_more_paid_plan",{lineBreak:a.createElement("br",null)})),a.createElement(c6.$z,{onClick:()=>{if(P){let e=aH.b.TILES_VIEW_UPSELL;M((0,tv.to)({type:aU.V,data:{upsellSource:e,teamId:P.team.id}}))}},trackingProperties:{trackingDescriptor:e_.c.VIEW_PLANS},variant:"primary"},(0,C.tx)("file_browser.folder.view_plans")))),!(f.Ay.mobile||f.Ay.tablet)&&p&&!D&&!eb&&!eh&&a.createElement("div",{className:S.s.flex.$},a.createElement("div",{className:"tiles_view--importPrompt--srrJn"},a.createElement("div",{className:dk},a.createElement("div",{className:"tiles_view--emptyTitle--3Vwmu"},u?(0,C.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,C.t)("file_browser.folder.no_files_yet")),(0,o.k)().piper_pptx_import?(0,C.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch_with_pptx"):(0,C.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch",{lineBreak:a.createElement("br",null)}))),W?a.createElement("div",{className:S.s.mr32.$},a.createElement(dT.R,{teamId:U.id,canEditTeam:ei})):$?a.createElement("div",{className:S.s.mr32.$},a.createElement(dw,{team:U,canAdminTeam:ec})):a.createElement(dr,{canEditTeam:ei,isDraftsFolder:k}))),(()=>{let e=A?.tile??null,t=A?.index;return a.createElement(az.fu,{name:u?o5.e0.PROJECT_TILES_VIEW_DROPDOWN:o5.e0.TILES_VIEW_DROP_DOWN,enabled:N,properties:{tileType:e?.type,tileFileId:e?.type===t4.nb.FILE?e?.file.key:void 0}},a.createElement(lz.i,{tileActions:b,tile:e,selectedTiles:eo,openTile:r=>{e&&er(e,r,t)},dropdownVisible:N}))})())}function dj({emptyStateText:e,onClaimClick:t}){return a.createElement("div",{className:dI},a.createElement("div",{className:dk},e,a.createElement("span",{className:"tiles_view--emptyButton--oAaGe"},a.createElement(oz.$n,{onClick:t,variant:"secondary"},a.createElement("div",{style:{fontWeight:400}},(0,C.tx)("tile.empty.join_as_owner"))))))}var dW=r(453805),d$=r(42651);function dH(){let e=(0,X.d)(),t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.d4)(e=>e.tileSortFilterStateByView),o=(0,ee.vt)(),l=(0,H.Yz)(),i=(0,Q.R)(t),s=(0,H.Xs)(),c=(0,cK.xx)(e=>({tileSortFilterConfig:e,sortKeys:[lY.C0.TRASHED_AT,lY.C0.NAME,lY.C0.CREATED_AT,lY.C0.TOUCHED_AT]}))(r.deletedFiles),{creatorFilter:d,fileTypeFilter:m}=function(e){let t="your_files";switch(e.tileSortFilterConfig.filters.creator){case lY.rJ.SELF:t="your_files";break;case lY.rJ.OTHER:t="other_files";break;case lY.rJ.ANY:t="all";break;default:(0,I.xb)(e.tileSortFilterConfig.filters.creator)}let r="";switch(e.tileSortFilterConfig.filters.fileType){case lY.t2.DESIGN:r="design";break;case lY.t2.FIGJAM:r="whiteboard";break;case lY.t2.PROTOTYPE:r="prototype";break;case lY.t2.SLIDES:r="slides";break;case lY.t2.SITES:r="sites";break;case lY.t2.ANY:r="";break;default:(0,I.xb)(e.tileSortFilterConfig.filters.fileType)}return{creatorFilter:t,fileTypeFilter:r}}(c),u=(0,te.rC)({reportErrorsToTeam:B.e.WAYFINDING}),{subscription:_,fetchNextPage:p,isFetchingNextPage:f}=function(e){let t=(0,aB.Rs)(a$.R89,{...e,firstPageSize:55}),r=(0,a.useCallback)(()=>{let e=t.data?.trashedResources;"loaded"===t.status&&e&&e.hasNextPage()&&e.loadNext(55)},[t,55]),o="loaded"===t.status&&t.data.trashedResources.isLoadingNextPage,l=(0,a.useMemo)(()=>t.transform(e=>{let t=e.trashedResources;return t?t.reduce((e,t)=>{if(t.file){var r;e.push((r=t.file,{type:t4.nb.FILE,file:{...r,signedPreviewThumbnailUrls:null},sharedWithYouFields:null}))}else if(t.repo){let r=function(e){if(!e.sourceFile)return null;let t=d$.H.toSinatra(e);return{type:t4.nb.REPO,repo:t,branches:[t7.F.toSinatra(e.sourceFile)],selectedBranchKey:e.sourceFile.key}}(t.repo);r&&e.push(r)}return e},[]):[]}),[t]),i=(0,n.wA)();return(0,a.useEffect)(()=>{if(l.data){let e=l.data?.filter(e=>e.type===t4.nb.FILE).map(e=>t7.F.toSinatra(e.file))||[],t=l.data?.filter(e=>e.type===t4.nb.REPO).map(e=>e.repo)||[];i(tK.uo({files:e})),i(tQ.uo({repos:t}))}},[l.data,i]),{subscription:l,fetchNextPage:r,isFetchingNextPage:o}}({cursor:null,creatorFilter:d,fileTypeFilter:m,sortType:c.tileSortFilterConfig.sort.key===lY.C0.TRASHED_AT?"trashed_at":"name",sortDirection:c.tileSortFilterConfig.sort.dir===lY.ue.ASC?"asc":"desc",planId:u?.key.parentId??null,planType:u?.key.type??null,queryParams:null}),g=(0,a.useMemo)(()=>_.unwrapOr([]),[_]),{trackPerformanceEvent:E}=(0,dW.S)("trashed_resources_pagination_performance","livegraph",!0);(0,a.useEffect)(()=>{E("fetch_end")},[E,g.length]),(0,a.useEffect)(()=>{"errors"===_.status&&E("fetch_error",{errors:JSON.stringify(_.errors??{})})},[E,_.status,_.errors]),(0,a.useEffect)(()=>(E("fetch_start"),()=>{E("fetch_cancel")}),[E]);let v=a.useCallback(()=>{f||(E("fetch_next"),p())},[f,p,E]),b=c.tileSortFilterConfig.filters,h=c.tileSortFilterConfig.sort;return a.createElement(en.A,{loadingElementId:"loading-content-pane",loaded:"loading"!==_.status,loadingElementClassName:S.s.pr32.$},a.createElement(c5.B,{key:`${d}-${b.fileType}-${h.key}-${h.dir}`,onShouldFetchNextPage:v,isFetchingNextPage:f},a.createElement(dG,{tiles:g,tileActions:{restore:!0,restoreToOtherFolders:!0,deleteForever:!0,duplicateToDrafts:!e},sortFilterOptions:c,isEligibleForLockedRedesign:l,isInLockedProTeamRevampExp:s,isTeamLockedDueToStarterLimits:o,isEligbileForProTeamLockedRevampUI:i})),a.createElement(cH.cx,null))}function dG({tiles:e,tileActions:t,sortFilterOptions:r,isEligibleForLockedRedesign:n,isInLockedProTeamRevampExp:o,isTeamLockedDueToStarterLimits:l,isEligbileForProTeamLockedRevampUI:i}){return a.createElement(dU,{tiles:e,newFileTile:!1,tileActions:t,sortFilterOptions:r,hideSorter:!0,emptyStateText:(0,C.t)("file_browser.tool_bar.trashed_empty_state"),eligibleForLockedStateRedesign:n(l),isInLockedProTeamRevampExp:o(i)})}var dV=r(482675),dz=r(39113),dq=r(40165),dY=r(976308),dK=r(988540),dJ=r(515071);function dX(e,t,r){return e&&t&&!(0,aS.w5)(e)&&"recentsAndSharing"!==r&&"trashedFolders"!==r}function dQ({canEditTeam:e}){let t=(0,n.wA)(),r=(0,ny.ol)(),o=(0,eC.z3)(),l=(0,g.I7)("exp_fbg_project_limit_upsell"),i=nt.h.useTrackingContext({trigger:aH.b.FOLDER_UPSELL_CARD});if(!(0,te.yN)({component:"FolderUpsellCard",attribute:"canShowUpsellValue",legacy:t=>!!dX(t,e,o),migrated:t=>!!t&&!!e&&t.tier===eL.Ag.STARTER&&"recentsAndSharing"!==o&&"trashedFolders"!==o})||!l.getConfig().getValue("show_upsell",!1))return null;let s=a.createElement(ea.Us,{className:S.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tv.to)({type:aU.V,data:{upsellSource:aH.b.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL_PLAN,...i},trusted:!0},(0,C.tx)("team_view.folder_upsell.professional_plan"));return a.createElement(az.fu,{name:"Folder Upsell Card",properties:i},a.createElement(az.$z,{className:j()(S.s.flex.flexColumn.alignLeft.p24.$,"folder_upsell--card--m7-Lh"),onClick:()=>{t((0,tv.to)({type:dJ.DV,data:{team:r,resource:dK.vL.FOLDER,action:rt.ZN.CREATE_FOLDER,currentPlan:dY.F.Plan.STARTER,upsellPlan:dY.F.Plan.PRO,editorType:null,upsellSource:aH.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:e_.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},a.createElement("div",{className:S.s.relative.wFull.$},a.createElement(dq.X,{FileThumbnailComponent:dZ}),a.createElement("div",{style:ec.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},a.createElement(no.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},a.createElement(rB.In,{icon:"new-40",fill:"onbrand"})))),a.createElement(no.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},a.createElement(N.E,{fontSize:13,fontWeight:"medium"},(0,C.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),a.createElement(N.E,{fontSize:11,color:"secondary"},(0,C.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:s})))))}function dZ(){return a.createElement("div",{className:S.s.wFull.hFull.colorBg.$})}function d0({canEditTeam:e}){let t=(0,n.wA)(),r=(0,ny.ol)(),o=(0,eC.z3)(),l=nt.h.useTrackingContext({trigger:aH.b.FOLDER_UPSELL_CARD}),i=(0,g.I7)("exp_fbg_project_limit_upsell");if(!dX(r,e,o)||!i.getConfig().getValue("show_upsell",!1))return null;let s=a.createElement(ea.Us,{className:S.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tv.to)({type:aU.V,data:{upsellSource:aH.b.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL_PLAN,...l},trusted:!0},(0,C.tx)("team_view.folder_upsell.professional_plan"));return a.createElement(az.fu,{name:"Folder Upsell List",properties:l},a.createElement("div",{className:S.s.flex.mt16.bRadius8.b1.colorBorder.$,style:ec.sx.add({borderStyle:"dashed",marginLeft:"-16px"}).$},a.createElement(az.$z,{className:j()(S.s.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.$,"folder_upsell--list--2Higk"),onClick:()=>{t((0,tv.to)({type:dJ.DV,data:{team:r,resource:dK.vL.FOLDER,action:rt.ZN.CREATE_FOLDER,currentPlan:dY.F.Plan.STARTER,upsellPlan:dY.F.Plan.PRO,editorType:null,upsellSource:aH.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:e_.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},a.createElement("div",{className:j()(S.s.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--qnkxf")},a.createElement("div",{style:ec.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},a.createElement(no.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},a.createElement(rB.In,{icon:"plus-32",fill:"onbrand"}))),a.createElement(no.Y,{direction:"vertical",spacing:4},a.createElement(no.Y,{direction:"horizontal",spacing:4},a.createElement(no.Y,{cornerRadius:2,backgroundColor:"default"}),a.createElement(no.Y,{cornerRadius:2,backgroundColor:"default"})),a.createElement(no.Y,{direction:"horizontal",spacing:4},a.createElement(no.Y,{cornerRadius:2,backgroundColor:"default"}),a.createElement(no.Y,{cornerRadius:2,backgroundColor:"default"})))),a.createElement(no.Y,{direction:"vertical",spacing:0},a.createElement(N.E,{fontSize:13},(0,C.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),a.createElement(N.E,{fontSize:11,color:"secondary"},(0,C.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:s}))))))}var d1=r(698400),d4=r(304308),d5=r(163256),d2=r(367773),d7=r(31820);let d3="folder_list_view--emptyState--8vmgw tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd";var d8=r(367542);function d6(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown),o=(0,n.d4)(e=>e.folders),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,tp.S)(),s=(0,n.d4)(e=>e.user),c=(0,eD.FC)(),d=(0,eP.wA)(c),m=!!(d&&!(0,tz.canMemberOrg)(d.id,c)),u=(0,te.Xd)(),_=a.useMemo(()=>u.transform(e=>e.key.type===eL.h4.ORG_USER&&!(0,te.A8)(e,eL.Xn.MEMBER)),[u]),p=(0,rw.MF)({oldValue:tV.Qw.useMemoizedLoaded(m),newValue:_,label:rw.A5.FolderListView.canMemberOrg,contextArgs:{orgId:d?.id,userId:s?.id,teamId:e.teamId},enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_0),comparisonConfig:{strictRecords:!1,strictLists:!1}}).data,f=e.folderList.map(e=>({...e,canView:(0,tz.canViewFolder_DEPRECATED)(e.id,c),hideSubtitle:!!p})),g=()=>e.viewMode===lY.XU.LIST,E=!!e.teamId&&!!e.eligibleForLockedStateRedesign,v=!!e.teamId&&!!e.isInLockedProTeamRevampExp,b=(0,Q.jn)()&&!!e.isInLockedProTeamRevampExp,h=e.teamId?{teamId:e.teamId,isLockedTeam:!!e.eligibleForLockedStateRedesign||b}:void 0,y=i?(0,d1.H)(r):void 0;return 0===f.length?a.createElement(a.Fragment,null,e.onCreateNewFolder&&!(0,iE.R$)(s,l)?a.createElement("div",{className:d3},e.canEditTeamContents?a.createElement(a.Fragment,null,a.createElement("div",{className:"folder_list_view--emptyTitle--t1u0a tiles_view--emptyTitle--3Vwmu"},(0,C.tx)("team_view.folder_empty_view.no_projects_yet")),(0,C.tx)("team_view.folder_empty_view.projects_help_you_organize"),a.createElement(ea.cw,{className:"folder_list_view--emptyButton--g-yAA tiles_view--emptyButton--oAaGe",onClick:e.onCreateNewFolder},a.createElement(es.B,{svg:d8.A,className:"folder_list_view--newProjectIcon--O3wnv tiles_view--newFileIcon--LR1sm"}),(0,C.tx)("team_view.folder_empty_view.new_project"))):(0,C.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")):null!=e.emptyStateText?a.createElement("div",{className:S.s.flex.gap32.$},a.createElement("div",{className:d3},e.emptyStateText),E&&a.createElement(dT.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&v&&a.createElement(dw,{team:e.team,canAdminTeam:!!e.canAdminTeam})):(0,C.tx)("team_view.folder_empty_view.no_projects")):a.createElement(a.Fragment,null,(()=>{let t=f.length>=2?1:1===f.length?0:void 0;return a.createElement("div",{className:S.s.gap36.flex.flexRow.wFull.$},a.createElement("div",{className:S.s.wFull.$},a.createElement(d4.m,{checksForViewOnlyLabels:h,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:"project-card",dataOnboardingKeyIndex:t,folderList:f,hideSubtitleInGrid:!!p,isSharerInfoIncluded:e.isSharerInfoIncluded,onChangeSortOptions:e.onChangeSortOptions,showTeamNameOrAuthor:e.showTeamNameOrAuthor,trailingGridElements:E&&v?a.createElement(a.Fragment,null):a.createElement(dQ,{canEditTeam:e.canEditTeamContents}),viewType:e.viewMode}),(!E||!v)&&g()&&a.createElement(d0,{canEditTeam:e.canEditTeamContents})),E&&a.createElement(dT.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&v&&a.createElement(dw,{team:e.team,canAdminTeam:!!e.canAdminTeam}))})(),y&&a.createElement(d5.p,{folder:y,onRenameClick:()=>{if(!y||!y.canEdit)return;let e=o[y?.id];e&&(t((0,tX.WC)()),t((0,tv.to)({type:(0,dz.y)(),data:{folder:e}})))}}))}let d9=[re.Dq.NAME,re.Dq.TEAM,re.Dq.OWNER,re.Dq.LAST_MODIFIED],me=[re.Dq.SHARED_AT],mt=[re.Dq.NAME,re.Dq.TEAM,re.Dq.OWNER,re.Dq.LAST_MODIFIED,re.Dq.SHARED_AT],mr=[re.Dq.NAME,re.Dq.LAST_MODIFIED],ma={[re.Dq.NAME]:lY.ue.ASC,[re.Dq.TEAM]:lY.ue.ASC,[re.Dq.OWNER]:lY.ue.ASC,[re.Dq.LAST_MODIFIED]:lY.ue.DESC,[re.Dq.SHARED_AT]:lY.ue.DESC},mn={[lY.XU.GRID]:{[re.Dq.NAME]:(0,C.tx)("tile.sort_filter.sort_alphabetical"),[re.Dq.TEAM]:(0,C.tx)("tile.sort_filter.owner"),[re.Dq.OWNER]:(0,C.tx)("tile.sort_filter.team"),[re.Dq.LAST_MODIFIED]:(0,C.tx)("tile.sort_filter.sort_last_modified"),[re.Dq.SHARED_AT]:(0,C.tx)("tile.sort_filter.date_shared"),[re.Dq.CREATED_AT]:(0,C.tx)("tile.sort_filter.sort_date_created")},[lY.XU.LIST]:{[re.Dq.NAME]:(0,C.tx)("tile.sort_filter.sort_alphabetical"),[re.Dq.TEAM]:(0,C.tx)("tile.sort_filter.owner"),[re.Dq.OWNER]:(0,C.tx)("tile.sort_filter.team"),[re.Dq.LAST_MODIFIED]:(0,C.tx)("tile.sort_filter.sort_last_modified"),[re.Dq.SHARED_AT]:(0,C.tx)("tile.sort_filter.date_shared"),[re.Dq.CREATED_AT]:(0,C.tx)("tile.sort_filter.sort_date_created")}},mo={viewMode:lY.XU.GRID,sortMode:{sortKey:re.Dq.LAST_MODIFIED,sortDesc:!0}},ml={...mo,sortMode:{sortKey:re.Dq.SHARED_AT,sortDesc:!0}},mi={name:c8.f.byProperty("name",c8.f.LEXICOGRAPHICALLY),lastModified:c8.f.byProperty("folderLastUpdated"),team:c8.f.byProperty("folderTeamName",c8.f.LEXICOGRAPHICALLY),owner:c8.f.byProperty("folderOwnerName",c8.f.LEXICOGRAPHICALLY),sharedAt:c8.f.byProperty("folderSharedAt"),createdAt:c8.f.byProperty("created_at"),trashedAt:c8.f.byProperty("trashed_at")};function ms(e){let{folderList:t,...r}=e,l="trashedFolders"===e.selectedView.view,i=(0,n.d4)(e=>e.teams),s=(0,n.d4)(e=>e.roles),c=(0,n.d4)(e=>e.viewBarViewModeOptionByView),d=(0,n.d4)(e=>e.viewBarSortOptionsByView),m=(0,n.d4)(e=>e.tileSortFilterStateByView),u=e.isSharerInfoIncluded?me:d9,_=e.showTeamNameOrAuthor?u:mr,p=e.isSharerInfoIncluded?ml:mo,f=a.useMemo(()=>({viewMode:(0,d7.y2)(e.viewId,c,p.viewMode),sortMode:(0,d7.bV)(e.viewId,{viewBarSortOptionsByView:d},_,p.sortMode)}),[p.sortMode,p.viewMode,e.viewId,_,d,c]),g=(0,n.wA)(),E=t=>{g(eS.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},v=t=>{g(eS.uV({viewId:e.viewId,viewMode:t}))},b=e.isSharerInfoIncluded?"folder_list_view--sharedWithYouFolderColumnHeader--YBKhp folder_list_view--columns--k84Gi":"folder_list_view--allFolderColumnHeader--MGmSg folder_list_view--columns--k84Gi",h=e.showTeamNameOrAuthor?b:"folder_list_view--basicFolderColumnHeader--dZmjY folder_list_view--columns--k84Gi",y="sharedWithYou"===e.selectedView.view,w="recentsAndSharing"===e.selectedView.view,T=!y&&!w&&!l,x=a.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=m.trashedFolders,r=l?mi[(0,lY.jx)(t.sort.key)??"trashedAt"]:mi[f.sortMode.sortKey];if(!r)return e.folderList;let a=l?t.sort.dir===lY.ue.DESC?c8.f.reverse(r):r:f.sortMode.sortDesc?c8.f.reverse(r):r,n=e.folderList.map(e=>({...e,...(0,d2.Z)({teams:i,roles:s},e)}));return n.sort(a),n},[e.selectedView.view,f.sortMode.sortKey,f.sortMode.sortDesc,e.folderList,i,s,l,m.trashedFolders]),I=l&&f.viewMode===lY.XU.GRID?"folder_list_view--trashedGridViewContainer--efhyK":"folder_list_view--tabContentContainer--lHQoT",k=(0,o.k)().file_browser_ia_overhaul_remove_list_view||y||w;return a.createElement("div",{className:l&&f.viewMode===lY.XU.LIST?void 0:I},y?a.createElement(mc,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:v,viewBarOptions:f}):null,T?a.createElement(nP.fB,{displayColumns:y?mt:_,hideViewModeToggle:k,initialSortOrders:ma,listHeaderClassName:`folder_list_view--listViewHeader--kUvYs text--fontPos13--xW8hS text--_fontBase--QdLsd ${h}`,listSortKeys:_,mobileListSortKeys:_,onChangeSortOptions:E,onChangeViewModeOption:v,options:f,sortKeyDescriptions:mn,sortKeys:_,tabletListSortKeys:_}):null,l&&m.trashedFolders.filters.role===lY.Jh.CAN_BE_VIEWED&&a.createElement("div",{className:`${S.s.mb16.$} ${f.viewMode===lY.XU.LIST&&S.s.px32.$}`},a.createElement(dV._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:dV.S.INFORMATION,text:a.createElement("p",{className:S.s.fontMedium.$},a.createElement("span",{className:S.s.fontSemiBold.$},(0,C.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")),"\xa0",(0,C.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content"))})),a.createElement(d6,{folderList:x,chunkSize:e.chunkSize,viewMode:f.viewMode,onChangeSortOptions:E,...r}))}function mc(e){let{sortFilterOptions:t,sharedWithYouFilters:r,onChangeViewModeOption:l,viewBarOptions:i}=e,s=(0,n.wA)(),c=(0,eC._6)();if("sharedWithYou"!==c.view)return null;if(null==t)return(0,I.KF)(!0,`sortFilterOptions prop is ${t}`),null;let d=a.createElement(nP.$f,{options:t,selectedView:c,dispatch:s}),m=a.createElement("div",{className:S.s.flex.alignCenter.$},a.createElement(nP.$c,{initialViewMode:i.viewMode,onViewModeChange:l})),u=a.createElement("div",{className:S.s.flex.$},d,!(0,o.k)().file_browser_ia_overhaul_remove_list_view&&m),_=a.createElement(nP.C9,{options:t,selectedView:c,dispatch:s,sharedWithYouFilters:r});return a.createElement(nP.lU,{leftSide:_,rightSide:u})}function md(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,ny.ol)(),r=(0,aB.Rs)(a$.kQI,{id:t?t.id:""},{enabled:!!t?.id}),o=(0,aB.Rs)(a$.TNJ,{id:t?t.id:""},{enabled:!!t?.id}),l=(0,n.d4)(e=>e.tileSortFilterStateByView),i=(0,eC._6)(),s=(0,H.Yz)(),c=(0,Q.R)(t?.id),d=(0,H.Xs)(),m=l.trashedFolders,[{data:u,status:p}]=(0,_.IT)((0,e1.p5)({orgId:e,teamId:t?.id??null,roleFilter:m.filters.role})),f="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission,g="loaded"===o.status&&!!o.data.team&&o.data.team.hasPermission,E=(0,n.d4)(e=>!!t&&!(0,aS.w5)(t)&&!!(0,aS.oc)(t.id,e));return a.createElement(en.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loading"!==p,loadingElementClassName:S.s.pr32.$},a.createElement("div",{style:ec.sx.mt1.$},a.createElement(ms,{canAdminTeam:g,canEditTeamContents:f,chunkSize:u?.folders?.length||0,eligibleForLockedStateRedesign:s(E),emptyStateText:(0,C.t)("file_browser.trash_project.trashed_empty_state"),folderList:u?.folders||[],isInLockedProTeamRevampExp:d(c),isSharerInfoIncluded:!1,selectedView:i,showTeamNameOrAuthor:!1,team:t,teamId:t?.id,useLGPerms:!0,viewId:cX.l})))}var mm=(e=>(e.FILES="files",e.FOLDERS="folders",e))(mm||{});function mu(e){let t=(0,eC._6)();if("deletedFiles"!==t.view&&"trashedFolders"!==t.view)return a.createElement(a.Fragment,null);let r=a.createElement(c4,{currView:t}),n="folders"===e.selectedTab?a.createElement(md,null):a.createElement(dH,null);return a.createElement(oV.r,{viewBarSticky:!0,viewbar:r,content:n})}var m_=r(218622);let mp=[eh.Wb3,eh.KoA,eh.Ult,eh.kmq,eh.USq,eh.jQF,eh.Ob5,eh.s7O,eh.Qlc,eh.I$z,eh.X5_,eh.RJL,eh.LB2,eh.I5n,eh.Msu,eh.UmN,eh.Ql8,eh.pIP,eh.Q16,eh.O5v,eh.rv,eh.HaT,eh.rQs,eh.YHe,eh.hxO,eh.sqw,eh.Duq,eh.yjU,eh.BTz,eh.I3H,eh._9u,eh.jVB,eh.syA,eh.tZO,eh.LPt,eh.cJy,eh.tUL,eh.zMZ,eh.tBR,eh.K69,eh.Tp6,eh.fz8,eh.XIg,eh.fQh,eh.O9D,eh.c6t,eh.NM0,eh.YPG,eh.j9$,eh.fk8,eh.r3Y].map(e=>e.id);function mf({children:e}){return a.createElement(m_.A,{name:"FileBrowser",order:mp},e)}var mg=r(781131),mE=r(931516),mv=r(985265),mb=r(101217);let mh=t6.M4.Query({fetch:async e=>(await mv.Q.getLibraryPublishedComponentsWithCodeConnect({libraryKey:e})).data.meta,key:"libraryPublishedComponentsCodeConnect"}),my=t6.M4.Query({fetch:async e=>(await mv.Q.getEditAccessLibraries({orgId:e})).data.meta,key:"editAccessLibrariesCodeConnect"}),mw=t6.M4.Query({fetch:async e=>(await mb.$W.getCodeSuggestions(e)).data.meta.results});t6.M4.Mutation(async e=>{await mv.Q.createCodeConnectMapping(e)});let mT=t6.M4.Mutation(async e=>{await mv.Q.createCodeConnectMap(e)});t6.M4.Mutation(async e=>{await mv.Q.deleteCodeConnectMapping(e)});let mx=t6.M4.Mutation(async e=>{await mv.Q.deleteCodeConnectMap(e)});function mI(e){let t=function(e){let[t]=(0,_.IT)(my(e||""),{enabled:!!e});return"loaded"!==t.status?{status:t.status,data:[]}:{status:t.status,data:t.data||[]}}(e.currentOrgId),r=(0,eC._6)(),o=(0,n.wA)(),l=t.data.sort((e,t)=>e.library_name.localeCompare(t.library_name));return a.createElement(et.J,null,a.createElement(en.A,{loadingElementClassName:"component_browser--loadingPage--2PvBR",loadingElementId:"loading-content-pane",loaded:"loading"!==t.status},a.createElement("div",{className:"component_browser--container--JDAK4"},a.createElement(lq.A,{viewType:lY.XU.GRID,getAriaLabel:e=>e.library_name,items:l,multiselectDisabled:!0,handleOpenItem:e=>{o(eS.$T({...r,view:"componentBrowserLibrary",libraryKey:e.library_key,libraryName:e.library_name}))},gridViewProps:{tileBorderRadius:8,nestedFocus:!1,renderTile:mk,renderTileFooter:mS}}))))}function mk(e){return a.createElement("div",{className:"component_browser--libraryCardImageContainer--fbm1x"},e.thumbnail_url&&a.createElement(ij.oW,{className:"component_browser--libraryCardImage--n74kQ",src:e.thumbnail_url,alt:e.library_name}))}function mS(e){return a.createElement("div",{className:"component_browser--libraryCardHangTag--y4UA3"},a.createElement("div",{className:"component_browser--libraryCardName--xHT1J text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.library_name),a.createElement("div",{className:"component_browser--libraryCardWorkspace--9dRda text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.workspace_name||e.team_name))}var mC=r(977618),mN=r(596616),mR=r(897378),mA=r(605988),mO=r(707387),mF=r(743791),mD=r(573446),mL=r(282424),mP=r(691232),mM=r(456378),mB=r(265639),mU=r(357287),mj=r(227058),mW=r(159491),m$=r(904870);let mH="component_browser_connected_count--countItem--OnNKM",mG="component_browser_connected_count--countItemNumber--P01DI";function mV(e){return a.createElement("div",{className:"component_browser_connected_count--container--EXIKw"},a.createElement("div",{className:mH},a.createElement("div",{className:mG},e.notConnectedComponents),a.createElement(mA.U,null)),a.createElement("div",{className:mH},a.createElement("div",{className:mG},e.connectedComponents),a.createElement(mW.r,null)),a.createElement("div",{className:mH},a.createElement("div",{className:mG},e.ignoredComponents),a.createElement(m$.w,null)))}var mz=r(414130);let mq="component_browser_connect_dialog--headerSide--WgRmQ",mY=a.lazy(()=>Promise.all([r.e(4838),r.e(7932),r.e(8442)]).then(r.bind(r,588442)));function mK({component:e,onClose:t,onMappingChanged:r,onRequestNextComponent:n,onRequestPreviousComponent:o,notConnectedComponents:l,connectedComponents:i,ignoredComponents:s}){let c=a.useRef(null),d="connected"===e.code_connect_info.v1.state,m="key"in e?e.key:"component_key"in e?e.component_key:"",[u]=(0,lk.A)(m,1e3,{leading:!0}),p=(0,_.n_)(mT),f=(0,_.n_)(mx),[g]=function(e,t){let r=(0,te.rs)(),a=e.type===mE.PW.COMPONENT?e.component_key&&mg.ii.toString(e.component_key):e.key;return(0,_.IT)(mw({asset:{type:e.type,key:a||""},planParentType:r.data?.key.type||"",planParentId:r.data?.key.parentId||""}),{enabled:t&&"loaded"===r.status&&!!r.data&&!!a})}(e,"not_connected"===e.code_connect_info.v2.state&&u===m),[E,v]=a.useState(0),[b,h]=a.useState(!1),y=(0,l8.Ak)(e.updated_at),[w,T]=a.useState(""),[x,I]=a.useState(null);function k(t){if("connect"===t&&!w)throw Error("No code snippet available for connection");if(!x)throw Error("No source file selected");h(!0);let a=e.node_id;"connect"===t&&p({library_key:e.library_key,node_id:a,template:w,component_name:x.componentName,source_path:x.source}).then(()=>{r?r()?.then(()=>{h(!1)}):h(!1)})}function S(){let t=e.code_connect_info.v1.id;if(t)h(!0),f({codeConnectId:t}).then(()=>{r?r()?.then(()=>{h(!1)}):h(!1)});else throw Error("Trying to remove mapping for component with no mapping id")}return a.useEffect(()=>{c.current?.focus()},[m,e.code_connect_info.v2.state]),a.useEffect(()=>{v(-1)},[m,v]),a.useEffect(()=>{"loaded"===g.status&&v(0)},[m,g.status,v]),a.createElement(mU.n.div,{ref:c,className:"component_browser_connect_dialog--wrapper--w21OO",onKeyDown:function(e){switch(e.key){case"ArrowUp":o();break;case"ArrowDown":n();break;case"ArrowRight":!function(){let e=g.data;e&&v(t=>t+1>=e.length?0:t+1)}();break;case"ArrowLeft":!function(){let e=g.data;e&&v(t=>t-1<0?e.length-1:t-1)}();break;case"Enter":e.shiftKey?k("ignore"):k("connect");break;case"Backspace":S()}},tabIndex:-1},a.createElement("div",{className:"component_browser_connect_dialog--header--diID5"},a.createElement("div",{className:mq},a.createElement(mV,{notConnectedComponents:l,connectedComponents:i,ignoredComponents:s})),a.createElement("div",{className:mq},a.createElement(mR.K,{"aria-label":"Previous",onClick:o},a.createElement(mM.N,null)),a.createElement(mR.K,{"aria-label":"Next",onClick:n},a.createElement(mB.W,null)),a.createElement(mR.K,{"aria-label":"Close",onClick:t},a.createElement(mF.L,null)))),a.createElement("div",{className:"component_browser_connect_dialog--content--DNpDU"},a.createElement("div",{className:"component_browser_connect_dialog--designContent---8Tg1"},a.createElement("div",{className:"component_browser_connect_dialog--title--bh-XJ utilities--bodyMediumStrong--1R5cZ"},e.name),a.createElement("div",{className:"component_browser_connect_dialog--imageWrapper--K64Ih"},a.createElement(ij.oW,{className:"component_browser_connect_dialog--componentThumbnail--s6jLt",src:e.thumbnail_url,alt:e.name})),a.createElement("div",{className:"component_browser_connect_dialog--lastUpdated--U-tqt"},"Last updated"," ",y),a.createElement("div",{className:"component_browser_connect_dialog--description--LaOq-"},a.createElement(mj.i,{description:e.description,description_rt:e.description_rt}))),a.createElement(a.Suspense,{fallback:a.createElement(mz.v,null)},a.createElement(mY,{libraryKey:e.library_key,component:e,onCodeChange:T,onSourceFileChange:I}))),a.createElement("div",{className:"component_browser_connect_dialog--footer--8DrOx"},d?e.code_connect_info.v1?.type==="component_browser"?a.createElement(oz.$n,{onClick:S,variant:"destructive",disabled:b},"Disconnect",a.createElement(oz.$n.Shortcut,null,"\u232B")):null:a.createElement(oz.$n,{onClick:()=>k("connect"),disabled:b||!x},"Code Connect",a.createElement(oz.$n.Shortcut,null,"\u23CE"))))}let mJ="component_browser_library_view--componentsListLoadingOrError--3XuiK",mX="component_browser_library_view--componentsListTableRow--30qFV",mQ="component_browser_library_view--componentsListTableCell--8znQ0";function mZ(e){return"key"in e?e.key:"component_key"in e?e.component_key:null}function m0(e){let t=(0,mD.l)(e.libraryKey),{status:r,data:o,refetch:l}=function(e){let[t,r]=(0,_.IT)(mh(e),{enabled:!0}),n=(0,a.useMemo)(()=>{let e=[],r={};return t.data?.state_groups?.forEach(e=>{r[e.node_id]={...e,variants:[]}}),t.data?.components?.forEach(t=>{let a=t.containing_frame?.containingStateGroup?.nodeId;a&&r[a]?r[a].variants.push(t):e.push(t)}),Object.values(r).forEach(t=>{e.push(t)}),e},[t.data]);return"loaded"!==t.status?{status:t.status,data:[],refetch:r.refetch}:{status:t.status,data:n,refetch:r.refetch}}(t),[i,s]=(0,a.useState)(-1),[c,d]=a.useState("notConnected"),[m,u]=(0,a.useState)(""),p=function(e){let t=(0,aB.Rs)(a$.iAs,{libraryKey:e??""},{enabled:!!e});return!!e&&"errors"!==t.status&&("loading"===t.status?"loading":!!t.data?.libraryKeyToFile?.fileCanAccess?.canEditV3)}(t),f=(0,eC._6)(),g=(0,n.wA)(),E=(0,a.useMemo)(()=>o.find(t=>mZ(t)===e.componentKey)??null,[o,e.componentKey]),v=(0,a.useCallback)(e=>{s(-1),"componentBrowserLibrary"===f.view&&g(eS.$T({...f,componentKey:e&&mZ(e)||void 0}))},[f,g]);(0,a.useEffect)(()=>{"loaded"===r&&E&&d("connected"===E.code_connect_info.v2.state?"connected":"not_connected"===E.code_connect_info.v2.state?"notConnected":"ignored")},[r]);let[b,h,y]=(0,a.useMemo)(()=>{let e=[],t=[],r=[];return o.forEach(a=>{"connected"===a.code_connect_info.v2.state&&e.push(a),"not_connected"===a.code_connect_info.v2.state&&t.push(a),"ignored"===a.code_connect_info.v2.state&&r.push(a)}),[e,t,r]},[o]),w=(0,a.useMemo)(()=>{let e=[];return"connected"===c?e=b:"notConnected"===c?e=h:"ignored"===c&&(e=y),m&&(e=e.filter(e=>e.name.toLocaleLowerCase().includes(m.toLocaleLowerCase()))),[...e].sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)},[c,m,b,h,y]),T=(0,a.useCallback)(()=>{if(!E){w[0]&&v(w[0]);return}let e=w.findIndex(e=>mZ(e)===mZ(E));if(-1===e){-1!==i&&w[i]?v(w[i]):w[0]&&v(w[0]);return}let t=w[e+1];t&&v(t)},[E,w,v,i]),x=(0,a.useCallback)(()=>{if(!E){let e=w[w.length-1];e&&v(e);return}let e=w.findIndex(e=>mZ(e)===mZ(E));if(-1===e){let e=w[i-1];-1!==i&&e?v(e):w[0]&&v(w[0]);return}let t=w[e-1];t&&v(t)},[E,w,v,i]);return a.createElement(et.J,null,a.createElement("div",{className:"component_browser_library_view--container--GvuFj"},a.createElement("div",{className:"component_browser_library_view--containerLeft--vnS49"},a.createElement("div",{className:"component_browser_library_view--header--Qzpb4"},a.createElement("div",{className:"component_browser_library_view--headerLeft--3SnIQ"},a.createElement("h1",{className:"component_browser_library_view--headerText--dEq-j"},"Code Connect"),a.createElement("p",{className:"component_browser_library_view--headerSubtext--TYzAy"},"This is the place you manage the connection between your Figma design components and their code equivalents from your codebase.")),!E&&a.createElement(mV,{notConnectedComponents:h.length,connectedComponents:b.length,ignoredComponents:y.length})),"loading"===p||"loading"===r?a.createElement("div",{className:mJ},a.createElement(oR.k,null)):p?"errors"===r?a.createElement("div",{className:mJ},"Error loading components"):a.createElement(a.Fragment,null,a.createElement("div",{className:"component_browser_library_view--componentsListFilters--oI7CH"},a.createElement("div",{className:"component_browser_library_view--componentsListFiltersInner--eiApl"},a.createElement(m5,{value:m,onChange:u}),a.createElement("div",{className:"component_browser_library_view--componentsListFiltersRight--iC30E"},a.createElement(mC.bL,{value:c,onChange:e=>d(e)},a.createElement(mC.l9,{label:a.createElement(mN.h,null,"Filter")}),a.createElement(mC.mc,null,a.createElement(mC.c$,{value:"notConnected"},"Not connected"),a.createElement(mC.c$,{value:"connected"},"Connected"),a.createElement(mC.c$,{value:"ignored"},"Ignored")))))),a.createElement(m4,{components:w,selectedComponent:E,onSelectComponent:v})):a.createElement("div",{className:mJ},"You do not have permission to edit this library.")),E&&p&&a.createElement("div",{className:"component_browser_library_view--containerRight--Ypt9C"},a.createElement(mK,{component:E,onClose:()=>v(null),onMappingChanged:function(){return E&&s(w.findIndex(e=>mZ(e)===mZ(E))),l()},onRequestNextComponent:T,onRequestPreviousComponent:x,notConnectedComponents:h.length,connectedComponents:b.length,ignoredComponents:y.length}))))}function m1(e){let t=(0,mP.B)((0,mD.l)(e.libraryKey)).data;return a.createElement(a.Fragment,null,e.libraryName||t||"...")}function m4({components:e,selectedComponent:t,onSelectComponent:r}){let n=(0,o.k)().dt_code_connect_repository,l=a.useRef(null),i=t?mZ(t):null;return a.useEffect(()=>{i&&l.current?.querySelector(".js-is-selected")?.scrollIntoView({block:"nearest"})},[i]),a.createElement("div",{ref:l,className:"component_browser_library_view--componentsList--wYs6r"},a.createElement("table",{className:"component_browser_library_view--componentsListTable--OjmYO"},a.createElement("thead",{className:"component_browser_library_view--componentsListTableHeader--R3sZ4"},a.createElement("tr",{className:mX},a.createElement("th",{className:mQ},a.createElement("div",null,"Design component \u2193")),n&&a.createElement("th",{className:mQ},a.createElement("div",null,"Code component \u2193")),a.createElement("th",{className:mQ},a.createElement("div",null,"Variants")))),a.createElement("tbody",{className:"component_browser_library_view--componentsListTableBody--dRRex"},e.map(e=>{let o=null;try{o=JSON.parse(e.code_connect_info.v1.figmadoc??"")}catch(e){}let l="connected"===e.code_connect_info.v1.state,i=t&&mZ(e)===mZ(t);return a.createElement("tr",{key:e.node_id,className:j()(mX,{"component_browser_library_view--isSelected--kzqiJ":i,"js-is-selected":i}),onClick:()=>{r(e)}},a.createElement("td",{className:mQ},e.thumbnail_url&&a.createElement("div",{className:"component_browser_library_view--componentItemImageContainer--defaa"},a.createElement(ij.oW,{className:"component_browser_library_view--componentItemImage--yKI78",src:e.thumbnail_url,alt:e.name})),a.createElement("div",null,e.name)),n&&a.createElement("td",{className:mQ},!l&&a.createElement(mA.U,{className:"component_browser_library_view--codeConnectIcon--lZZmM"}),a.createElement("span",{className:j()("component_browser_library_view--codeConnectionStatus--AZtMW",{"component_browser_library_view--connected--hn3dP":"connected"===e.code_connect_info.v1.state})},l?o?.[0]?.source:"No code connection")),a.createElement("td",{className:mQ},"variants"in e&&a.createElement("div",{className:"component_browser_library_view--countItemNumber--mdh8b"},e.variants.length)))}))))}function m5({value:e,onChange:t}){return a.createElement("div",{className:"component_browser_library_view--searchBar--M-lcw"},a.createElement(mO.h,null),a.createElement(mL.L,{placeholder:"Search design components",value:e,onChange:e=>{t(e.currentTarget.value)},className:"component_browser_library_view--searchInput--LPQzn text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&a.createElement("div",null,a.createElement(mR.K,{onClick:()=>t(""),"aria-label":"Clear search",htmlAttributes:{"data-tooltip":"Clear search","data-tooltip-type":r7.Ib.TEXT}},a.createElement(mF.L,null))))}var m2=r(502255);let m7=e=>{switch(e){case lY.t2.DESIGN:return"design";case lY.t2.FIGJAM:return"whiteboard";case lY.t2.PROTOTYPE:return"prototype";case lY.t2.SITES:return"sites";case lY.t2.SLIDES:return"slides";case lY.t2.ANY:return"";default:(0,I.xb)(e)}},m3=e=>{switch(e){case lY.C0.NAME:return"name";case lY.C0.CREATED_AT:return"created_at";case lY.C0.TOUCHED_AT:return"updated_at";default:return(0,m2.$D)(B.e.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var m8=r(96321),m6=r(361515),m9=r(320409),ue=r(194546),ut=r(263144),ur=r(259974),ua=r(995946),un=r(50978),uo=r(814281),ul=r(67275);let ui=(0,tf.Ju)(function(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.teams)[e.teamId].subscription,o=e.paymentRequiresAction;return(0,a.useEffect)(()=>{ul.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,l2.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,a.useEffect)(()=>{o||r===eL.Qh.INCOMPLETE||t(tv.ES({type:ui.type}))},[r,t,o]),a.createElement(ad.Eo,{title:(0,C.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,C.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:e_.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},(0,C.tx)("payments.pending_subscription_modal_description"))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var us=r(448392);let uc="banners--warn--bC4ke",ud="banners--primaryCtaButton--tyhCJ",um="banners--content--ciED3",uu="banners--titleSmall--ceZgU",u_="banners--bold--qt00U",up="banners--message--9BMLM",uf="banners--messageSmall--YT-82",ug="banners--secondaryCtaButton--uYrvi",uE="banners--ctaButtonGroup--r8cfU",uv="banners--closeButton--IXY-V",ub="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",uh="banners--teamUpgradeNotice--gqc9c",uy="banners--softWarningBanner--QK9Y5",uw="banners--softWarningBannerBlue--uQmhb";var uT=r(616591),ux=r(169256),uI=r(205778),uk=r(128912);function uS(e,t){let r;if(!e.currentUserOrgId||!(0,aS.wn)(e.currentUserOrgId,e))return null;let n=e.orgById[e.currentUserOrgId],o=(0,tz.canAdminOrg)(e.currentUserOrgId,e),l=n.past_due_at&&(0,em.A)(n.past_due_at).add(2,"weeks")>(0,em.A)(new Date);if(!o&&l)return null;let i=(0,eg.zR)(e.orgUsersByOrgId[e.currentUserOrgId]).map(e=>a.createElement("span",{key:e.id,className:u_},e.user.handle," (",e.user.email,")"));return r=o?n.billing===ut.EZ.CHARGE_IMMEDIATELY?(0,C.tx)("payments.org_past_due_on_payment",{invoice:a.createElement("a",{onClick:()=>{t?.(eS.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eX.J7.BILLING}))}},(0,C.tx)("payments.outstanding_invoice")),orgName:n.name}):(0,C.tx)("payments.org_past_due_on_payment_invoiced",{email:a.createElement("b",{className:u_},(0,aL.W4)()),orgName:n.name}):(0,C.tx)("payments.please_reach_out_to_org_admins",{orgName:n.name,admins:(0,tz.canMemberOrg)(e.currentUserOrgId,e)&&a.createElement("span",null," ",a.createElement(m6.T,{formatType:"disjunction"},i)),numAdmins:i.length}),{severity:us.c.WARN,title:(0,C.t)("payments.payment_not_received"),message:r,cta:null,onClickCta:null}}function uC(e,t,r,n,l){let i=r?n.teams[r]:null;if(r&&!i||"file"===e)return null;let s=n.currentTeamId,c=i&&i.subscription===eL.Qh.GRACE_PERIOD,m=n.billingSummary,u=i?.subscription===eL.Qh.INCOMPLETE,_=!!i?.org_id,p=!!i?.subscription,g=e=>e?.status==="open"&&e?.payment_intent?.status===rt.pk.REQUIRES_SOURCE_ACTION,E=(0,o.k)().requires_action_3ds_banner&&c&&!_&&p&&(g(m?.last_monthly_invoice)||g(m?.last_annual_invoice)),v=c&&!E,b=i&&(u||E),h=i&&i.subscription===eL.Qh.PAST_DUE,y=i&&i.subscription===eL.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,w=r&&(0,tz.canOwnTeam)(r,n),T=r&&(0,tz.canAdminTeam)(r,n),x=r&&(0,tz.canEditTeam)(r,n),I=i&&(0,aS.oc)(i.id,n),k=i&&!(0,aS.n0)(i)&&!i.student_team&&I,S=i&&(i.student_team_state===eL.kU.STUDENT_TEAM_CURRENT||i.student_team_state===eL.kU.STUDENT_TEAM_EXPIRED),N="folder"===e?t:null,R=0,A={showReminder:!1,showAccessRestricted:!1},O=r||N?.team_id,F="folder"===e&&!N,D=!!(0,o.k)().limited_plan_spaces&&(0,aL.Ay)().is_limited_team_plan&&F;if(n.user){let t=O?(0,tz.getRolesForUserAndTeam)(O,n):[],r=O&&(0,tz.hasMinRole)(t,ua.e6.EDITOR),a=["folder","team"].includes(e)&&r,o=(0,nv.cn)(n.user),l=n.userEduGracePeriods;F?s&&(0,nv.hP)(n.user.id,n.roles.byTeamId,n.teams[s])&&(A=(0,nv.df)(l,o),R=(0,nv.Me)(l)):O&&a&&(A=(0,nv.GU)(l,o,O,!!n.teams[O].student_team),R=(0,nv.qS)(l,O))}let L=i&&!(0,aS.n0)(i)&&!i.student_team&&N&&!(0,rD.Gi)(N),P=L&&N.is_invite_only,M=L&&N.is_view_only,B=N&&(0,rD.sp)(N),U=!B&&!i&&N&&(0,aS.ZZ)(N,n),j=()=>l?.(ue.WX({teamId:i.id,selectedView:n.selectedView})),W=e=>{e.preventDefault(),l?.(tv.to({type:uo.v,data:{teamId:r}}))},$=()=>{l?.(eS.$T({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:aC.Iv.SETTINGS}))},H=()=>d.Ay.redirect("/education/apply",f.Ay.isIpadNative?void 0:"_blank"),G=()=>l?.(ue.WX({teamId:i.id,openInNewTab:!1,selectedView:{view:"team",teamId:i.id}})),V=()=>l?.(tv.to({type:aU.V,data:{upsellSource:aH.b.BANNER}})),z=uS(n,l);if(z)return z;let q=(0,aS._b)(i),Y=i&&i.subscription_raw!==eL.Qh.OK&&(0,aS.WQ)(i)&&T&&ni.ng.getProTrialStatus(i)!==ur.a.IN_TRIAL&&q,K=["team","folder"].includes(e)&&x&&(0,ny.cU)(i),J=x&&function(e,t){let r=e&&t[e.id]?.dismissed_legacy_team_upgrade_notice_banner;return(0,ny.zs)(e)&&!r}(i,n.userTeamFlags),X=(0,iE.R$)(n.user,n.currentUserOrgId),Q=ni.ng.canSeeExpiredProTrialBanner(n.userTeamFlags,i,n),Z=i&&n.userTeamFlags[i.id]?.[ni.lg],ee=Q&&(I||x&&!Z),et=n.user?(0,nv.x$)(n.eduPeriodEnd,(0,nv.cn)(n.user)):1/0,er=et>0&&et!==1/0,en=0===et,eo=i&&i.student_team_state===eL.kU.STUDENT_TEAM_CURRENT,el=i&&i.student_team_state===eL.kU.STUDENT_TEAM_EXPIRED&&I,ei=er&&w&&eo,es=en&&w&&el,ed=er&&x&&eo,eu=en&&!x&&eo,ep=(0,o.k)().edu_offboarding_experience&&(ei||es||ed||eu),ef=(0,o.k)().edu_offboarding_experience&&el,eg=!n.checks||!n.checks.isInLockedProTeamRevampExp||!n.checks.isInLockedProTeamRevampExp(!!v&&!!T),eE=!n.checks||!n.checks.isInLockedProTeamRevampExp||!n.checks.isInLockedProTeamRevampExp(!!h);if(v&&eg)return{severity:us.c.WARN,title:(0,C.t)("payments.payment_failed"),message:(0,C.t)("payments.payment_failed_explanation"),cta:T?(0,C.t)("payments.update_payment"):(0,C.t)("payments.contact_admin"),ctaTrackingProperties:T?{trackingDescriptor:e_.c.UPDATE_PAYMENT}:void 0,onClickCta:T?$:null};if(h&&eE)return{severity:us.c.WARN,title:(0,C.t)("payments.locked"),message:(0,C.t)("payments.locked_description",{teamName:i.name}),cta:T?(0,C.t)("payments.update_payment"):(0,C.t)("payments.contact_admin"),ctaTrackingProperties:T?{trackingDescriptor:e_.c.UPDATE_PAYMENT}:void 0,onClickCta:T?$:null};if(y)return{severity:us.c.WARN,title:(0,C.t)("payments.locked"),message:T?a.createElement("span",null,(0,C.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:a.createElement("a",{href:`mailto:${(0,aL.W4)()}`},(0,C.tx)("payments.contact_support"))})):a.createElement("span",null,(0,C.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")),cta:T?(0,C.t)("payments.manage_plan"):null,onClickCta:T?()=>{l?.(eS.$T({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:aC.Iv.SETTINGS}))}:null};if(ee){let e,t,n,o;return I?(e=x?(0,C.tx)("payments.pro_trial_expiry.locked_description_on_team",{teamName:i.name,lowerUsageLink:a.createElement(az.$z,{onClick:W},(0,C.tx)("payments.pro_trial_expiry.lower_usage"))}):(0,C.tx)("payments.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),t=x?(0,C.tx)("payments.pro_trial_upgrade_cta.upgrade"):null,n=`${uy} `,o="Pro Trial Expiry Banner Locked"):(e=i?(0,C.tx)("payments.pro_trial.trial_ended_banner_message",{teamName:i.name}):(0,C.tx)("payments.pro_trial.trial_ended_banner_message.no_name"),t=(0,C.tx)("payments.pro_trial.trial_ended_banner_upgrade_cta"),n=`${uy} ${uw}`,o="Pro Trial Expiry Banner Unlocked"),{severity:us.c.WARN_SOFT,title:(0,C.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:x?G:void 0,svg:ux.A,bannerClassName:n,trackingContextName:o,dismissible:!I,onClose:I?void 0:()=>{r&&l?.(a1.bE({all_team_flags:[{team_id:r,flags:{[ni.lg]:!0}}]}))}}}if(D)return{severity:us.c.WARN_SOFT,title:(0,C.tx)("file_browser.limited_space_banner.heading"),message:(0,C.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--Pq6k8"};if(ep){let e=()=>l?.(tv.to({type:un.ZL,data:{team:i}}));if(ei||ed)return{severity:us.c.WARN_SOFT,title:(0,C.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,C.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:i.name,verify:a.createElement(ea.Us,{href:"/education/apply",target:"_blank",trusted:!0},(0,C.tx)("edu.banner.verify_your_education_status"))}),cta:(0,C.tx)("edu.banner.learn_more"),onClickCta:e,svg:uT.A,bannerClassName:`${uy} ${uw}`,trackingContextName:"Edu Offboarding Banner"};if(es)return{severity:us.c.WARN_SOFT,title:(0,C.tx)("edu.banner.your_education_plan_has_expired"),message:(0,C.tx)("edu.banner.team_is_now_view_only_for_all_members",{teamName:i.name}),cta:(0,C.tx)("edu.banner.learn_more"),onClickCta:e,svg:uT.A,bannerClassName:uy,trackingContextName:"Edu Offboarding Banner"};if(eu)return{severity:us.c.WARN_SOFT,title:(0,C.tx)("edu.banner.your_education_plan_has_expired"),message:(0,C.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:i.name}),cta:(0,C.tx)("edu.banner.learn_more"),onClickCta:e,svg:uT.A,bannerClassName:uy,trackingContextName:"Edu Offboarding Banner"}}else if(ef)return{severity:us.c.WARN_SOFT,title:(0,C.tx)("edu.banner.team_s_education_status_has_expired",{teamName:i.name}),message:(0,C.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:uT.A,bannerClassName:uy,trackingContextName:"Edu Offboarding Banner"};else if(!k||n.checks&&n.checks.isEligibleForLockedRedesign&&n.checks.isEligibleForLockedRedesign(!S&&k)){if(X){let e=n.user.external_restricted_org_id,t=(0,C.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&n.orgById[e]){let r=n.orgById[e];t=(0,C.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:r.name})}return{severity:us.c.WARN,title:(0,C.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}if(n.user&&["team","folder"].includes(e)&&A.showAccessRestricted){let e,t=(0,C.t)("banner.edu_grace_period.your_education_plan_has_expired");return i?(0,nv.eB)(n.user.id,n.roles.byTeamId,i)?e=(0,C.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:i.name}):(0,nv.QS)(n.user.id,n.roles.byTeamId,i)?e=(0,C.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:i.name}):(t=(0,C.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:i.name}),e=(0,C.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,C.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:us.c.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,C.t)("banner.edu_grace_period.verify_status_button"),onClickCta:H,svg:uT.A,bannerClassName:uh}}if(["team","folder"].includes(e)&&A.showReminder)return{severity:us.c.ANNOUNCEMENT,title:(0,C.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:R}),message:(0,C.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,C.t)("banner.edu_grace_period.verify_status_button"),onClickCta:H,svg:uk.A};else if(P||M)return{severity:us.c.WARN,title:(0,C.t)("payments.folder_locked"),message:(0,C.t)("payments.folder_locked_description",{projectType:"Invite"==(P?"Invite":"View")?(0,C.t)("payments.invite_only_projects"):(0,C.t)("payments.view_only_projects"),teamName:i.name}),learnMoreUrl:"/pricing",cta:x?(0,C.t)("payments.upgrade_now"):(0,C.t)("payments.contact_admin_for_details"),ctaTrackingProperties:x?{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:aH.b.BANNER}:void 0,onClickCta:x?j:null};else if(U&&"folder"===e)return{severity:us.c.WARN,title:(0,C.t)("payments.locked"),message:(0,C.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(B&&"folder"===e)return{severity:us.c.WARN,title:(0,C.t)("payments.abandoned_project"),message:(0,C.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(J){let e=(0,C.t)("payments.file_limit_unified",{figmaFiles:aS.WW,figjamFiles:aS.WW});K?J||(e=(0,C.t)("payments.file_limit_figjam",{figjamFiles:aS.WW})):e=(0,C.t)("payments.file_limit_figma",{figmaFiles:aS.WW});let t=()=>a.createElement("button",{type:"button",onClick:V,className:"banners--bannerInlineTextButton--GRx12"},(0,C.tx)("payments.check_out_our_paid_plans")),r=i?a.createElement("span",null,(0,C.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:i.name})):a.createElement("span",null,(0,C.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()}));return{severity:us.c.ANNOUNCEMENT,title:(0,C.t)("payments.team_over_starter_team_limit_title"),message:r,cta:(0,C.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:aH.b.BANNER},onClickCta:j,svg:uI.A,bannerClassName:uh,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(Y){let e=(0,em.A)(i.grace_period_end).toDate(),t=(0,C.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:a.createElement(l8.h1,{date:e})});return q||(t=(0,C.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:us.c.ANNOUNCEMENT,title:t,message:(0,C.t)("payments.pro_plan_ends_for_team_description",{teamName:i.name}),cta:(0,C.t)("payments.pro_plan_ends_button"),onClickCta:G,svg:q?uI.A:ux.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:q?uh:void 0}}else if(b){let e=u?(0,C.t)("payments.complete_team_payment_description",{teamName:i.name}):(0,C.t)("payments.complete_team_renewal_payment_description");return{severity:us.c.WARN,title:(0,C.t)("payments.complete_payment"),message:e,cta:a.createElement(m9.V,{trackingProperties:{trackingDescriptor:e_.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>l?.(tv.to({type:ui,data:{teamId:r,paymentRequiresAction:!!E}}))},(0,C.tx)("payments.complete_payment_cta")),onClickCta:null}}}else{let e;return e=T||x?a.createElement("span",null,a.createElement("b",{style:ec.sx.fontSemiBold.$},(0,C.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,C.tx)("payments.team_over_starter_team_limit_upgrade",{teamName:i.name,lowerYourUsage:a.createElement("a",{href:"#",onClick:W},(0,C.tx)("payments.team_over_starter_team_limit_lower_your_usage"))})):a.createElement("span",null,a.createElement("b",{style:ec.sx.fontSemiBold.$},(0,C.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,C.tx)("payments.contact_admin_for_details")),{severity:us.c.WARN,title:(0,C.t)("payments.locked"),message:e,cta:x?(0,C.t)("payments.upgrade_now"):null,ctaTrackingProperties:x?{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:aH.b.BANNER}:void 0,onClickCta:x?j:null}}return null}function uN(e,t,r,a,n){return!!uC(t,r,a,{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,checks:n,...(0,tz.getPermissionsState)(e)},null)}function uR(e){return(0,n.d4)(t=>uN(t,e.resourceType||eL.vt.FOLDER,e.resource||null,e.teamId||null,e.checks))}function uA(e,t){let r={...e};return"string"==typeof t.title&&(r.title=t.title),"string"==typeof t.message&&(r.message=t.message),r}var uO=r(71631),uF=r(578888);let uD=a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),a.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},a.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),a.createElement("g",{mask:"url(#mask0_4:25)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));function uL(e){let{title:t,message:r,cta:n,ctaTrackingProperties:o,learnMoreUrl:l,onClickCta:i,severity:s,secondaryCTA:c,secondaryOnClickCta:d,svg:m,trackingContextName:u="Banner",contentStyles:_,reverseCtas:p,dismissible:f,onClose:g}=e;return s===us.c.ANNOUNCEMENT?a.createElement(az.fu,{name:u,properties:{severity:s,...e.tracking}},a.createElement("div",{className:um},m&&a.createElement(es.B,{svg:m,useOriginalSrcFills_DEPRECATED:!0}),a.createElement("div",{className:up},a.createElement("div",{className:uu},t),a.createElement("div",{className:uf},r)),a.createElement(ea.e2,{reversed:p,className:uE},i&&a.createElement(ea.vd,{className:ud,onClick:i,trackingProperties:o},n),d&&a.createElement(ea.tM,{className:ug,onClick:d},c),f&&g&&a.createElement(aV.Jn,{className:uv,onClick:g})))):s===us.c.EVENT?a.createElement(az.fu,{name:u,properties:{severity:s,...e.tracking}},a.createElement("div",{className:`${um} ${_}`},a.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},uD),a.createElement("div",{className:up},a.createElement("p",{className:uu},t),a.createElement("p",{className:uf},r)),a.createElement(ea.e2,{className:uE},i&&a.createElement(ea.vd,{className:ud,onClick:i,trackingProperties:o},n),d&&a.createElement(ea.tM,{className:ug,onClick:d},c),f&&g&&a.createElement(aV.Jn,{className:uv,onClick:g})))):a.createElement(az.fu,{name:u,properties:{severity:s,...e.tracking}},a.createElement("div",{className:`${um} ${_}`},!e.hideIcon&&a.createElement(es.B,{svg:uF.A,className:"banners--warningIcon--A5YS-",autosize:s===us.c.WARN_SOFT}),a.createElement("div",{className:up},a.createElement("span",{className:"banners--title--OIA0P"},t),r,l&&a.createElement("span",null,"\xa0",a.createElement("a",{target:"_blank",rel:"noopener",href:l},(0,C.tx)("payments.learn_more")))),a.createElement(ea.e2,{reversed:p,className:uE},i&&a.createElement(ea.vd,{className:ud,onClick:i,trackingProperties:o},n),!i&&a.createElement("div",{className:"banners--ctaMessage--5MB88"},n),f&&g&&a.createElement(aV.Jn,{className:uv,onClick:g}))))}let uP=(0,n.Ng)(e=>({userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!e.user?.student_validated_at,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,tz.getPermissionsState)(e)}))(function(e){let t;let r=(0,aB.Rs)(a$.UpR,{}),l=(0,H.Yz)(),i=(0,H.Xs)(),s=e.folderId?e.folders[e.folderId]:null,c=s?s.team_id:null,d=e.dispatch,m=c&&(0,tz.canAdminTeam)(c,e),u=c?e.teams[c]:null,_=!!u?.org_id,p=!!u?.subscription;(0,a.useEffect)(()=>{(0,o.k)().requires_action_3ds_banner&&c&&!_&&p&&m&&d(uO.Be({teamId:c}))},[d,c,_,p,m]);let f=(0,n.d4)(e=>e.teamBilling?.summary),g=uC(eL.vt.FOLDER,s??null,c,{eduPeriodEnd:r.data?.currentUser?.eduPeriodEnd,billingSummary:f,checks:{isEligibleForLockedRedesign:l,isInLockedProTeamRevampExp:i},...e},e.dispatch);if(!g)return a.createElement("div",null);t=s?uA({resourceType:eL.vt.TEAM,teamId:c,folderId:s.id},g):uA({resourceType:"recents"},g);let E=g.severity===us.c.WARN?uc:"",v=g.bannerClassName||"",b=`${ub} ${E} ${v}`;return a.createElement("div",{className:b},a.createElement(uL,{...g,tracking:t}))});var uM=r(389191);let uB=(0,o.k)().drafts_page_viewbar_slim_lg?()=>{let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(e=>e.currentTeamId),r=(0,aB.Rs)(a$._aE,{currentOrgId:e,currentTeamId:t});return"loaded"===r.status?r.data:null}:Z.S;function uU(){let e;let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.currentTeamId),i=uB();(0,uM.oY)(null!==i,e=>{nA.az.trackDefinedEvent("file_browser.sidebar_data_lg_migration",{durationMs:Math.round(e),isPostMigration:(0,o.k)().drafts_page_viewbar_slim_lg??!1,callsite:"drafts_page_viewbar"})}),r?e=i?.currentUser.baseOrgUser?.draftsProject:(0,o.k)().ps_benchmark&&l&&(e=i?.currentUser.currentTeamUser?.draftsProject);let s=(0,n.d4)(e=>e.tileSortFilterStateByView),c=(0,eC._6)();if(!i||!e)return a.createElement(cJ,{viewbarActions:[]});let d="deletedFiles"===c.view?(0,cK.xx)(cQ)(s):(0,cK.xx)(rD.ZN)(e.id,s),m=["deletedFiles"===c.view?a.createElement(nP.gr,{key:3,dispatch:t,options:d,selectedView:c}):null,a.createElement(nP.ye,{key:0,config:d.tileSortFilterConfig}),a.createElement(nP.mc,{key:1,dispatch:t,options:d,selectedView:c})];return(0,o.k)().file_browser_ia_overhaul_remove_list_view||m.push(a.createElement(nP.$c,{key:2,initialViewMode:d.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,nA.sx)("file view toggle",{viewType:e===lY.XU.GRID?"grid":"list"}),t(eS.JF({selectedView:c,config:{...d.tileSortFilterConfig,viewMode:e}}))}})),a.createElement(cJ,{viewbarActions:m})}let uj={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},uW=(0,cK.xx)(rD.ZN);function u$(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:r}=(0,nE.R)(t=>({sortFilterOptions:uW(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),o=(0,m8.Rp)(),l=(0,n.d4)(({currentUserOrgId:e})=>e),s=(0,g.I7)("exp_aa_test_org_drafts");l&&s.getConfig();let c=()=>{},[d,m]=function(e){let t=(0,n.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),r=(0,a.useMemo)(()=>({file_type:m7(t.filters.fileType),sort_order:t.sort.dir===lY.ue.ASC?"asc":"desc",sort_column:m3(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]),[o,l]=(0,_.IT)((0,z.BU)({folderId:e,...r}));return[o,(0,a.useCallback)(e=>{if("fetchNextPage"===e.type)return l.fetchNextPage();(0,I.xb)(e.type)},[l])]}(e.folderId),u=d.data?.folder,p=(0,H.Yz)(),f=(0,ee.vt)(u?.team_id),E=(0,Q.R)(u?.team_id),v=(0,H.Xs)(),b=uR({resourceType:eL.vt.FOLDER,resource:u,teamId:u?.team_id||null,checks:{isEligibleForLockedRedesign:p,isInLockedProTeamRevampExp:v}});c=a.useCallback(()=>{!d.isFetchingNextPage&&d.hasNextPage&&m({type:"fetchNextPage"})},[d.isFetchingNextPage,d.hasNextPage,m]);let h=a.useMemo(()=>{let e=(d.data?.files||[]).map(e=>(0,t4.fA)(e)),t=d.data?.filesByRepoId||{};return[...e,...(d.data?.repos||[]).map(e=>({type:t4.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:r[e.id]||""})),...Object.values(o).filter(e=>e.orgId===l).map(t4.gB)]},[l,d.data?.files,d.data?.filesByRepoId,d.data?.repos,o,r]),y=!!u&&f,w=a.createElement(a.Fragment,null,a.createElement(dU,{newFileTile:!0,tiles:h,tileActions:uj,sortFilterOptions:t,emptyStateText:"",hideSorter:!0,isDataPartial:!!d.hasNextPage,eligibleForLockedStateRedesign:p(y),isInLockedProTeamRevampExp:v(E)}),a.createElement(cH.cx,null)),T="loaded"===d.status,x=a.createElement(en.A,{loadingElementId:"loading-content-pane",loaded:T,loadingElementClassName:S.s.pr32.$},a.createElement(c5.B,{key:`${t.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:c},w));return(0,i.kF)("Drafts"),(0,i.WX)({markName:"MainBodyContent",markCondition:T}),(0,az.T8)(a.createElement(oV.r,{viewBarSticky:!0,banner:b?a.createElement(uP,{folderId:e.folderId}):void 0,content:x,viewbar:a.createElement(uU,null)}),o5.e0.FILE_BROWSER,{view:"drafts"})}var uH=r(721571),uG=r(359480),uV=r(350325),uz=r(518279),uq=r(185336),uY=r(501590),uK=r(394171),uJ=r(426662);let uX=(0,tf.Ju)(function(e){let t,r;let l=(0,n.wA)(),[i,s]=a.useState(""),c=(0,n.d4)(e=>e.deletedReposById),d=(0,n.d4)(e=>e.fileByKey),{reposToDelete:m,draftsToDelete:u,deleteAllDraftsAsync:_,isDeleteAll:p,isPermanentDeletion:f}=e,g=u.map(e=>e.name).concat(m.map(e=>e.name)),E=g.length>1;t=f?E?(0,C.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:g.length}):(0,C.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:g[0]}):E?(0,C.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:g.length}):(0,C.t)("file_browser.draft_delete_modal.header_single_file_trash");let v=(t,r)=>{if(t.length>0){if(f){let r=t.reduce((e,t)=>(e[t.key]=!0,e),{});l(tK.YK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let r=t.reduce((e,t)=>(e[t.key]=t7.F.toSinatra(t),e),{});l(tK.VK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let a={};r.forEach(e=>{let t=c[e.id];if(t)a[e.id]=t;else{let t=e.default_file_key&&d[e.default_file_key];t&&(a[e.id]={repo:e,main_file:t})}}),r.length>0&&(f?l((0,uK.YM)({repoIds:Object.keys(a),userInitiated:!0})):l((0,uK.hT)({reposById:a,userInitiated:!0})))},b=()=>uJ.k.deleteAllPersonalDrafts().then(()=>l(t$.F.enqueue({message:(0,C.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>l(t$.F.enqueue({message:(0,C.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),h=()=>{let{draftsToDelete:t,reposToDelete:r}=e;t.length+r.length>100?l(a0.s.error((0,C.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),v(t,r))},y=()=>{_?b():h(),e.onClose()},w=a.useMemo(()=>i.trim().toLowerCase()!==(0,C.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[i]);r=f?E?(0,C.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:g.length}):(0,C.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):E?(0,C.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:g.length}):(0,C.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:g[0]});let T=f?a.createElement(ea.qM,{onClick:y,disabled:w,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f},dataTestId:"draft-delete-confirmation-button"},a.createElement("span",{"data-tooltip":(0,C.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,C.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":w?r7.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},(0,o.k)().ps_trashed_drafts_enabled?(0,C.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:g.length}):(0,C.t)("file_browser.draft_delete_modal.button_delete"))):a.createElement(al.vd,{onClick:y,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f}},(0,C.tx)("file_browser.draft_delete_modal.button_delete_files",{numFiles:g.length}));return a.createElement(az.fu,{name:"draftDeleteModal",properties:{itemCount:g.length,isDeleteAsync:!!_,isDeleteAll:!!p}},a.createElement(ad.XV,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},a.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},a.createElement("p",null,r," ",!f&&a.createElement("p",null,a.createElement("br",null),(0,C.tx)("file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",{fileCount:g.length}))),a.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},f&&(0,C.tx)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",{deletionString:(0,C.t)("file_browser.draft_delete_modal.button_delete")})),a.createElement("form",{onSubmit:y},f&&a.createElement("div",null,a.createElement(mL.L,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",dataTestId:"draft-delete-confirmation-input",value:i,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{s(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),a.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},a.createElement(ea.nR,{onClick:e.onClose},(0,C.tx)("modal.cancel")),T)))))},"DraftDeleteModal");var uQ=r(842953),uZ=r(334366),u0=r(160807),u1=r(464758);let u4="drafts_to_move_page_view--fileCellDateSpan--xWiCm",u5="drafts_to_move_page_view--dateColumn--V3e9G drafts_to_move_page_view--column--jpRzM table--column--974RA",u2="drafts_to_move_page_view--emptyContentContainer--w1lwc",u7="drafts_to_move_page_view--emptyContentHeader--35cXt",u3=(0,n6.jz)(ok.ISO),u8=(0,aL.ck)("c9f2d8cbce5754a2b6e3e3e81adf5fe313429577"),u6=(0,aL.ck)("6212099329ba7714b869112a09f8dfffce71edf5");var u9=(e=>(e.DRAFT_FILES="draft-files",e.DELETED_DRAFT_FILES="deleted-draft-files",e))(u9||{}),_e=(e=>(e.NONE="NONE",e.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",e.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",e.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",e.TRANSFER_COMPLETED="TRANSFER_COMPLETED",e))(_e||{});function _t(e){let t=e=>{switch(e){case"draft-files":return(0,C.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,C.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,I.xb)(e)}},r=t=>{let r=u9[t].replace(/-/g,"_");(0,G.Cu)({text:r,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(u9[t])},n=Object.keys(u9).map(n=>a.createElement(uY.r,{tab:u9[n],onClick:()=>r(n),isSelected:e.selectedTab===u9[n],tabName:t(u9[n]),key:n}));return a.createElement(nP.g2,{leftSide:a.createElement(uY.f,{tabs:n}),rightSide:[]})}function _r(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),o=(0,lG.v)(),{item:l}=e,i=t4.Tf.getFileKey(l)??"",s=(0,uz.Y)(i,t4.Tf.getFavoritedResourceType(l),t4.Tf.getOrgId(l),t4.Tf.getFavoriteResourceTeamId(l)),c=a.useMemo(()=>"loaded"===s.status?!!s.favorite:t4.Tf.getIsFavorited(l),[l,s]),d=e=>a=>{a.detail>1&&!t4.Tf.getTrashedAt(l)&&(dN({tile:e,index:0,dispatch:t,selectedView:r}),o(e,a),a.stopPropagation())};return a.createElement("div",{className:S.s.inlineFlex.minW0.$},a.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--whTtS",onClick:d(l),"data-testid":`fileTile-${i}`},a.createElement(l$.e,{tile:l,noBorder:!0}),a.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--kfCRe"},a.createElement(l9.j,{tile:l,iconSize:16})),c&&a.createElement("div",{className:"drafts_to_move_page_view--topRightControls--dD-Od"},a.createElement(rO.r,{setFavorite:p.lQ,favoriteType:(0,V.UL)(l.type),resourceId:i,orgId:t4.Tf.getOrgId(l)??null,teamId:t4.Tf.getFavoriteResourceTeamId(l)}))),a.createElement("div",{className:S.s.ml14.minW0.flex.flexColumn.itemSelfCenter.$},a.createElement("button",{className:"drafts_to_move_page_view--fileName--U3mn4",onClick:d(l)},t4.Tf.getName(l)),e.shouldDisplayFileDates&&a.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--LFnvg"},a.createElement("span",{className:u4},(0,C.tx)("file_browser.drafts_to_move.file_created_at_label",{timeDifference:a.createElement(l8.h1,{date:t4.Tf.getCreatedAt(l)})})),a.createElement("span",{className:u4},(0,C.tx)("file_browser.drafts_to_move.file_last_modified_at_label",{timeDifference:a.createElement(l8.h1,{date:t4.Tf.getTouchedAt(l)??""})})))))}function _a({currentFileTransferState:e}){let t="dark"===(0,of.DP)(),r=e=>a.createElement(a.Fragment,null,a.createElement(eo.kt,{size:"large"}),a.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--ljikD"},(0,C.tx)("file_browser.drafts_to_move.file_transfer_header",{transferType:"ASYNC_FILE_MIGRATION"===e?(0,C.tx)("file_browser.drafts_to_move.file_transfer_migration_type"):(0,C.tx)("file_browser.drafts_to_move.file_transfer_deletion_type")})),a.createElement("p",null,(0,C.tx)("file_browser.drafts_to_move.file_transfer_description"))),n=()=>a.createElement("div",{className:"drafts_to_move_page_view--slideIn--c-NGK"},a.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--z1sdh"},a.createElement(uZ.Gv,{src:t?u8:u6,containerClassName:"drafts_to_move_page_view--allDoneGif--mwZxC",height:100,width:100}),a.createElement("p",{className:u7},(0,C.tx)("file_browser.drafts_to_move.empty_header")),a.createElement("p",null,(0,C.tx)("file_browser.drafts_to_move.empty_body_text")))),o=()=>a.createElement(eo.kt,{size:"large"});return a.createElement("div",{className:u2},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return r(e);case"TRANSFER_COMPLETED":return n();default:return o()}})())}function _n(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.user?.personal_drafts_folder_id),r=(0,n.d4)(e=>e.fileKeysByFolderId),l=(0,n.d4)(e=>e.fileKeysByRepoId),i=(0,n.d4)(e=>e.repoIdsByFolderId),s=(0,n.d4)(e=>e.repos),c=(0,n.d4)(e=>e.fileByKey),d=(0,n.d4)(e=>e.selectedView),m=(0,n.d4)(e=>e.selectedBranchKeyByRepoId),u=(0,n.d4)(e=>e.userFlags),_=u.personal_draft_migration_scheduled,p=u.personal_draft_migration_completed,f=u.personal_draft_deletion_scheduled,E=u.personal_draft_deletion_completed,v=(0,n.d4)(e=>e.loadedFolders),b=(0,n.d4)(e=>e.deletedFilesByKey),h=(0,n.d4)(e=>e.deletedReposById),{windowInnerWidth:y}=(0,uG.l)(),w=(0,aB.Rs)(a$.vXh,{}),T=(0,aB.Rs)(a$.Jzf,{projectId:t??""},{enabled:!!t}),x=(0,lG.v)(),[I,k]=a.useState("draft-files"),[N,R]=a.useState(!1),[A,O]=a.useState("NONE"),[F,D]=a.useState(!1),[L,P]=a.useState(!1);a.useEffect(()=>{_&&(0,ai.rO)(_.updatedAt,p?.updatedAt)?O("ASYNC_FILE_MIGRATION"):f&&(0,ai.rO)(f.updatedAt,E?.updatedAt)?O("ASYNC_FILE_DELETION "):F?O("SYNCHRONOUS_DELETION_OR_MIGRATION"):O("NONE")},[_,p,f,E,F]),a.useEffect(()=>{e(e1.h3({orgId:null}))},[e]);let M="loaded"===w.status,B=a.useMemo(()=>{if(!M)return[];let e=[];return w.data?.currentUser?.draftsFolderId&&e.push(w.data.currentUser.draftsFolderId),e},[M,w]),U=a.useMemo(()=>T.data?.project?.status!==uH.tT.Loaded?new Set:new Set((T.data?.project.data?.undeletedFilesHighLimit??[]).map(e=>e.key)),[T]),W=a.useMemo(()=>{if(T.data?.project?.status!==uH.tT.Loaded)return new Set;let e=new Set;return(T.data?.project.data?.undeletedFilesHighLimit??[]).forEach(t=>{t.fileRepoId&&e.add(t.fileRepoId)}),e},[T]),$=a.useCallback(e=>U.has(e),[U]),H=a.useCallback(e=>W.has(e),[W]);a.useEffect(()=>B.forEach(t=>M&&e((0,z.jl)({folderId:t,loadedFolders:v}))),[v,B,e,M]);let{getConfig:G}=(0,g.I7)("ps_async_draft_move_limit",void 0,!0),V=G().get("async_limit",100),q=M&&B.every(e=>e&&"loaded"===v[e]),Y=a.useMemo(()=>Object.keys(b).map(e=>b[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&$(e.key)),[b,t,$]),K=a.useMemo(()=>Object.keys(h).map(e=>h[e]).filter(e=>e&&e.main_file&&e.main_file.folder_id===t&&e.repo&&H(e.repo.id)),[h,t,H]),J=a.useMemo(()=>B.flatMap(e=>i[e]).map(e=>s[e]).filter(e=>!!e&&H(e.id)),[B,s,i,H]),X=a.useMemo(()=>B.flatMap(e=>r[e]).map(e=>c[e]).filter(e=>!!e&&$(e.key)),[B,c,r,$]);a.useEffect(()=>{let e=X.length+J.length,t=Y.length+K.length;q&&!L&&(0===e&&t>0&&k("deleted-draft-files"),P(!0))},[q,L,X.length,J.length,K.length,Y.length]);let Q=a.useMemo(()=>X.concat(Y).map(e=>(0,t4.fA)(e)),[X,Y]),Z="deleted-draft-files"===I?Y:X,ee=a.useMemo(()=>Z.map(e=>(0,t4.fA)(e)),[Z]),et=a.useMemo(()=>J.map(e=>{let t=l[e.id].map(e=>c[e]).filter(e=>!!e);return{type:t4.nb.REPO,repo:e,branches:t,selectedBranchKey:m[e.id]}}),[J,m,c,l]),er=a.useMemo(()=>K.map(e=>({type:t4.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file?.key})),[K]),eo="deleted-draft-files"===I?er:et,el=er.concat(et),ei=ee.concat(eo),es=Q.length>0||el.length>0,ec=ei.length>0,[ed,em]=a.useState([]),eu=()=>{e(tv.Ce()),R(!1)},e_=(t,r)=>{e(t$.F.enqueue({message:(0,C.t)("visual_bell.files_moved_to_folder",{fileCount:r,folderName:t})})),D(!1),em([])},ep=()=>{D(!1),em([])},ef=e=>{let t=[],r=[];return e.forEach(e=>{e.type===t4.nb.FILE&&t.push(e.file),e.type===t4.nb.REPO&&r.push(e.repo)}),{draftsToMove:t,reposToMove:r}},eg=t=>{let{draftsToMove:r,reposToMove:a}=ef(ed);R(!0),e(tv.to({type:uX,data:{isPermanentDeletion:t,draftsToDelete:r,reposToDelete:a,deleteAllDraftsAsync:ed.length>V,setSynchronousFileTransferInProgress:D,onDeleteSuccess:ep,onClose:eu}}))},eE=()=>{let{draftsToMove:t,reposToMove:r}=ef(ed);R(!0),e(tv.to({type:uQ.K,data:{draftsToMove:t,reposToMove:r,moveAllDraftsAsync:ed.length>V,onMoveSuccess:e_,onClose:eu,setSynchronousFileTransferInProgress:D}}))},ev=function(e,t,r,n){let o=n>=1200,l=[{name:(0,C.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--sSZYF drafts_to_move_page_view--column--jpRzM table--column--974RA",getSortValue:e=>t4.Tf.getName(e),cellComponent:e=>a.createElement(_r,{item:e,shouldDisplayFileDates:!o})}];return o&&l.push({name:(0,C.t)("file_browser.drafts_to_move.table_header_last_modified"),className:u5,getSortValue:e=>t4.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=t4.Tf.getTouchedAt(e);return t?a.createElement(l8.h1,{date:t}):""}},{name:(0,C.t)("file_browser.drafts_to_move.table_header_created"),className:u5,getSortValue:e=>t4.Tf.getCreatedAt(e),cellComponent:e=>a.createElement(l8.h1,{date:t4.Tf.getCreatedAt(e)})}),l.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--Mvc2P drafts_to_move_page_view--column--jpRzM table--column--974RA",cellComponent:n=>0===r?a.createElement(a.Fragment,null,a.createElement(ea.tM,{className:j()("drafts_to_move_page_view--openDraftButton--zXZGf",S.s.if(!!t4.Tf.getTrashedAt(n),S.s.invisible).$),onClick:e=>t(e,n)},(0,C.tx)("file_browser.drafts_to_move.open_draft_button")),a.createElement(ea.tM,{className:"drafts_to_move_page_view--moveDraftButton--GmBWa",onClick:t=>e(t,n)},(0,C.tx)("file_browser.drafts_to_move.move_draft_button"))):a.createElement(a.Fragment,null)}),l}((t,r)=>{let{draftsToMove:a,reposToMove:n}=ef([r]);e(tv.to({type:uQ.K,data:{draftsToMove:a,reposToMove:n,onMoveSuccess:e_,onClose:eu,setSynchronousFileTransferInProgress:D}})),t.stopPropagation()},(t,r)=>{dN({tile:r,index:0,dispatch:e,selectedView:d}),x(r,t),t.stopPropagation()},ed.length,y),[eb,eh,ey]=(0,uq.z)({columnName:(0,C.t)("file_browser.drafts_to_move.table_header_last_modified"),isReversed:!0},ei,ev),ew=a.createElement("div",{className:u2},a.createElement("span",{className:u7},(0,C.tx)("file_browser.drafts_to_move.empty_header")),a.createElement("span",null,(0,C.tx)("file_browser.drafts_to_move.empty_content_description",{tab:a.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--GKlRP",onClick:()=>k("draft-files"===I?"deleted-draft-files":"draft-files")},"draft-files"===I?(0,C.t)("file_browser.drafts_to_move.deleted_drafts"):(0,C.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==A)return a.createElement(_a,{currentFileTransferState:A});let eT=ed.length<=0||ed.length>V,ex="deleted-draft-files"===I||!(0,o.k)().ps_trashed_drafts_enabled,eI=a.createElement(en.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--ZZyqG",loadingElementId:"loading-content-pane",loaded:q},ec?a.createElement(a.Fragment,null,a.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--b-sz2"},a.createElement(u0.Cj,{actionBar:e=>a.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--RUREB"},!eT&&a.createElement(ea.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--Aesaa",onClick:()=>eg(ex)},ex?(0,C.tx)("file_browser.drafts_to_move.bulk_delete_drafts_button"):(0,C.tx)("file_browser.drafts_to_move.bulk_trash_drafts_button")),a.createElement(ea.vd,{className:"drafts_to_move_page_view--moveDraftsButton--fZf6H",disabled:eT,onClick:eE},(0,C.tx)("file_browser.drafts_to_move.bulk_move_drafts_button",{numSelected:ed.length}))),actionBarClassName:j()("drafts_to_move_page_view--actionBar--BbYQh",{"drafts_to_move_page_view--actionBarHidden--l4K4A":N}),columns:ev,emptyContent:"",getItemKey:e=>t4.Tf.getFileKey(e)??"",isLoading:!u1.s1,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,C.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},items:ey,minContentWidth:728,onSelectedItemsChange:em,onSetSortState:eh,rowHeightOverride:u3,scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--yiQAz",selectAllDisabled:ey.length>V,shouldRoundBordersForSelectedRows:!0,sortState:eb,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--v9ugA",header:"drafts_to_move_page_view--header--qsyde",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--UOqli",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--Qk923"}}))):es?ew:a.createElement(_a,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,az.T8)(a.createElement(oV.r,{content:eI,viewbar:es&&a.createElement(a.Fragment,null,a.createElement("div",{className:"drafts_to_move_page_view--viewbar--wJ6Pu"},a.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--6T7y-"},a.createElement(uV.E,{className:"drafts_to_move_page_view--yellowIcon--xHN3r"}),a.createElement("div",null,a.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--02fvs"},(0,C.tx)("file_browser.drafts_to_move.viewbar_heading")),a.createElement("ul",{className:"drafts_to_move_page_view--viewbarDescription--dV8s3"},a.createElement("li",null,(0,C.tx)("file_browser.drafts_to_move.move_drafts_below")),a.createElement("li",null,(0,C.tx)("file_browser.drafts_to_move.drafts_for_personal_work")),a.createElement("li",null,(0,C.tx)("file_browser.drafts_to_move.access_to_drafts"))),a.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--v-cwt"},a.createElement(ea.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--9-TlX",onClick:()=>{R(!0),e(tv.to({type:uQ.K,data:{reposToMove:el.map(e=>e.repo),draftsToMove:Q.map(e=>e.file),onMoveSuccess:e_,isMoveAll:!0,moveAllDraftsAsync:Q.length>V,onClose:eu,setSynchronousFileTransferInProgress:D}}))}},(0,C.tx)("file_browser.drafts_to_move.move_all_drafts_button")),a.createElement(ea.NY,{className:"drafts_to_move_page_view--learnMoreButton--lUnQ9 drafts_to_move_page_view--moveAllDraftsButton--9-TlX",href:"https://www.figma.com/blog/updates-to-how-drafts-work/",target:"_blank"},(0,C.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")))))),a.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lsoH0"},a.createElement(_t,{selectedTab:I,setSelectedTab:k})))}),o5.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:I})}var _o=r(47482);function _l(e){return a.createElement("div",{className:j()("starter_team_overview_item--container--2OVmD",{"starter_team_overview_item--containerDisabled--76kDd":e.disabled,"starter_team_overview_item--containerDefault--dN-eI":!e.disabled})},a.createElement(es.B,{className:"starter_team_overview_item--icon--Z3o0g",svg:e.icon}),a.createElement("p",{className:"starter_team_overview_item--text--r36FA"},e.text))}var _i=r(11309),_s=r(180390);function _c({folderId:e}){let t=(0,aB.Rs)(a$.yU5,{projectId:e});if("loaded"!==t.status)return null;let r=t.data.project?.team?.teamFileCounts?.designFileCount??0,n=t.data.project?.team?.teamFileCounts?.whiteboardFileCount??0;return a.createElement(a.Fragment,null,a.createElement(_l,{icon:_s.A,text:(0,C.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:r,maxFreeFiles:aS.WW})}),a.createElement(_l,{icon:_i.A,text:(0,C.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:n,maxFreeFiles:aS.WW})}))}function _d({folderId:e}){return a.createElement("div",{className:"starter_team_overview--container--YU-xB text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},a.createElement("div",{className:"starter_team_overview--header--4s2vt text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,C.tx)("file_browser.folder.starter_team_overview")),a.createElement("div",{className:"starter_team_overview--detailsWithFigjam--n0fVl"},a.createElement(_c,{folderId:e})))}let _m="upgrade_section--sidebarDivider--O7mLk",_u="upgrade_section--upsellDescription--Heggv text--fontPos13--xW8hS text--_fontBase--QdLsd";function __({teamId:e}){let t=(0,n.wA)(),r=(0,nh.TN)(e),o=(0,n.d4)(t=>t.teams[e]),l=(0,aB.Rs)(a$.kQI,{id:e}),i=!!l.data?.team?.hasPermission,s=o&&!o.org_id&&!o.subscription&&i,c=ni.ng.canSeeProTrialUx(r),d=o&&!(0,aS.w5)(o),m=()=>c?aH.b.PRO_TRIAL_UPSELL_MODAL:aH.b.UPGRADE_SECTION,u=r=>()=>{t((0,tv.to)({type:aU.V,data:{teamId:e,upsellSource:r}}))};return d&&s||c?c?a.createElement(az.fu,{name:m(),properties:ni.ng.getTrackingProperties()},a.createElement("div",{className:_m}),a.createElement("p",{className:"upgrade_section--upsellTitle--db4mh text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement(N.E,{fontSize:13,fontWeight:"medium"},(0,C.tx)("team_view.upgrade.pro_trials.title"))),a.createElement("p",{className:_u},a.createElement(N.E,{fontSize:13},(0,C.tx)("team_view.upgrade.pro_trials.description"))),a.createElement("div",{className:"upgrade_section--teamProUpgrade--8J0Tz text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(ea.vd,{onClick:u(m()),trackingProperties:{teamId:e,trackingDescriptor:e_.c.UPGRADE_TO_PROFESSIONAL}},(0,C.tx)("team_view.upgrade.pro_trials.upgrade_to_professional_cta")))):a.createElement(az.fu,{name:m()},a.createElement("div",{className:_m}),a.createElement("p",{className:_u},a.createElement(ea.Us,{onClick:u(m()),trackingProperties:{trackingDescriptor:e_.c.UPGRADE_YOUR_TEAM},trusted:!0},(0,C.tx)("team_view.upgrade.upgrade_your_team")),(0,C.tx)("team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"))):null}var _p=r(106067),_f=r(27964),_g=r(444207),_E=r(603314);let _v="seen_folder_settings_connected_projects_onboarding",_b="FOLDER_SETTINGS_CONNECTED_PROJECTS_ONBOARDING_KEY",_h=(0,ef.r1)(_v);function _y({folder:e}){let t=(0,ed.md)(_h),r=(0,n.wA)(),o=a.useMemo(()=>{let t=e?.pendingAssetTransferRequest,r=e?.team?.pendingAssetTransferRequest;return t||r},[e]),{show:l,isShowing:i,complete:s}=(0,ep.e)({overlay:eh.YPG,priority:eE.N.DEFAULT_MODAL},[t]);return(0,m.h)(()=>{l({canShow:e=>!e})}),a.createElement(ev.rq,{clickOutsideToHide:!0,isShowing:i,targetKey:_b,trackingContextName:"seen folder settings connected projects modal onboarding overlay",title:(0,C.tx)("folder_settings_modal.callout.projects_with_external_teams"),description:(0,C.tx)("folder_settings_modal.callout.projects_with_external_teams.description"),onClose:s,userFlagOnShow:_v,shouldCenterArrow:eb.EL.FALLBACK,emphasized:!0,primaryCta:{label:(0,C.tx)("resource_connection.onboarding.try_it"),ctaTrackingDescriptor:e_.c.TRY_IT,type:"button",onClick:()=>{let t=e?.plan;null!=t&&r(tv.to({type:_E.B,data:{folder:{...e,plan:t},entryPoint:_g.wR.PROJECT_SETTINGS_ONBOARDING_CTA,assetTransferRequestWarning:!!o}}))}},secondaryCta:{label:(0,C.tx)("resource_connection.request_modal.learn_more"),ctaTrackingDescriptor:e_.c.LEARN_MORE,type:"link",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects"}})}let _w="seen_folder_settings_disconnected_project_share_copy_onboarding",_T="FOLDER_SETTINGS_DISCONNECTED_PROJECT_SHARE_COPY_ONBOARDING_KEY",_x=(0,ef.r1)(_w);function _I({folder:e}){let t=(0,ed.md)(_x),r=a.useMemo(()=>{let t=(0,er.oA)(e.mostRecentResourceConnection),r=!!t&&!!t.disconnectedAt,a=!!t&&!t.assetTransferRequestId,n=e.canTransferCopy;return tV.Qw.loaded(r&&a&&n)},[e]),{show:n,isShowing:o,complete:l}=(0,ep.e)({overlay:eh.j9$,priority:eE.N.DEFAULT_MODAL},[t,r]);(0,m.h)(()=>{n({canShow:(e,t)=>!e&&t})});let i=e=>a.createElement("span",{className:"folder_settings_disconnected_project_share_copy_onboarding_overlay--planName--0GWpT"},e);return a.createElement(ev.rq,{clickOutsideToHide:!0,isShowing:o,targetKey:_T,trackingContextName:"seen folder settings disconnected project share copy onboarding overlay",title:(0,C.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_title"),description:(0,C.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_description",{hostPlanName:i(er.oA(e.mostRecentResourceConnection)?.hostPlanName),connectedPlanName:i(er.oA(e.mostRecentResourceConnection)?.connectedPlanName)}),onClose:l,arrowPosition:eb.F_.TOP,userFlagOnShow:_w,shouldCenterArrow:eb.EL.FALLBACK,emphasized:!0,primaryCta:{label:(0,C.tx)("general.got_it"),ctaTrackingDescriptor:e_.c.GOT_IT,type:"button",onClick:l}})}var _k=r(897406),_S=r(511131),_C=r(787203),_N=r(74276),_R=r(743391);let _A="seen_pro_onboarding_unlimited_files_overlay",_O=(0,ef.r1)(_A);function _F({teamId:e,canCreateFigjamBoard:t}){let r=(0,ed.md)(_O),o=(0,ed.md)(_k.e),l=(0,n.d4)(e=>e.userTeamFlags),i=l[e]?.[_R.UA],s=(0,H.kO)(),{show:c,isShowing:d,complete:u}=(0,ep.e)({overlay:eh.jVB,priority:eE.N.DEFAULT_MODAL,experiment:{check:s,predicate:e=>e,postCheck:e=>!e}},[r,o]);return((0,m.h)(()=>{i&&c({canShow:(t,r)=>r.some(t=>t.id===e)})}),d)?a.createElement(_C.M,{isShowing:d,userFlagOnShow:_A},a.createElement(az.fu,{name:_S.S.getTooltipTrackingContext("Unlimited Files"),properties:_S.S.getTrackingProperties(e)},a.createElement(_N.yG,{dismissModal:u,canCreateFigjamBoard:t}))):null}function _D(e){let{selectedView:t,userFlags:r,userTeamFlags:l,userEduVerified:i,isFreeUser:s,userAnalyticsData:c,...d}=(0,nE.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,tz.getPermissionsState)(e)})),m=(0,n.wA)(),u=(0,aB.Rs)(a$.UpR,{}),{teamId:_,selectedTab:p}=e,f=d.teams[_],g=!!f?.org_id,E=!!f?.subscription,v=_&&(0,tz.canAdminTeam)(_,d),b=(0,H.Yz)(),h=(0,H.Xs)();(0,a.useEffect)(()=>{(0,o.k)().requires_action_3ds_banner&&_&&!g&&E&&v&&m(uO.Be({teamId:_}))},[m,_,g,E,v]);let y=(0,n.d4)(e=>e.teamBilling?.summary),w=uC(eL.vt.TEAM,f,_,{selectedView:t,userFlags:r,userTeamFlags:l,selectedTab:p,isFreeUser:s,userAnalyticsData:c,eduPeriodEnd:u.data?.currentUser?.eduPeriodEnd,billingSummary:y,checks:{isEligibleForLockedRedesign:b,isInLockedProTeamRevampExp:h},...d},m);if(!w)return a.createElement("div",null);let T=uA({resourceType:eL.vt.TEAM,teamId:_},w),x=w.severity===us.c.WARN?uc:"",I=w.bannerClassName||"",k=`${ub} ${x} ${I}`;return a.createElement("div",{className:k},a.createElement(uL,{...w,tracking:T}))}var _L=r(771186),_P=r(252680);class _M extends a.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(eS.$T({view:"user",userId:t.id,userViewTab:l_.o.INTERNAL_PROFILE}))}}componentDidMount(){_P.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return a.createElement("div",{className:"contributors--contributors--UpVcx text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement("div",{className:"contributors--contributorsHeader--6sefy"},(0,C.tx)("file_browser.folder.recent_contributors")),a.createElement(_L.x,{className:"contributors--loading--0u-Y2",isLoading:!this.state.contributors},()=>a.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>a.createElement(e5.az,{key:t.user.id,className:"contributors--contributorAvatar--bCw14",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&a.createElement("div",{className:"contributors--contributorEmpty--BnRcr text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,C.tx)("file_browser.folder.people_who_have_edited_this_project_will_appear_here")))))}}let _B=(0,n.Ng)((e,t)=>{let r=e.folders[t.folderId],a=r&&r.team_id?e.teams[r.team_id]:null;return{folderOrg:a&&a.org_id?e.orgById[a.org_id]:null,currentUserId:e.user?e.user.id:null}})(_M);function _U({folderId:e,pinnedFiles:t,tileActions:r}){let o=(0,n.wA)(),l=(0,eC._6)(),i=(0,K.TA)(),{showing:s,show:c,data:d}=(0,lV.L)(),m=(0,lG.v)(),u=a.useCallback((t,r,a)=>{m(t,r);let n=t.type===t4.nb.PINNED_FILE?t.file:null;(0,G.E9)(G.gH,n,{entrypoint:a,selectedView:l.view,resourceType:"folder",resourceId:e,pinDescription:"file open from pinned files for file named "+n?.name})},[m,l.view,e]),_=a.useCallback((e,t)=>{u(_$(e.file),t,"pinned files")},[u]),p=a.useCallback((e,t,r)=>{o(tZ.an()),o(tZ.PW({type:rr.F.PINNED_FILES,keys:e.map(e=>e.file.key)})),c({data:{tile:_$(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[o,c]),f=a.useCallback(t=>{if(1!==t.length)return;let r=t[0];r?.pinnedByUser?.id===i&&o(tX.z6({folderId:e,fileKey:r.file.key}))},[i,o,e]),g=a.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>_$(e.file)),[t]),E=(0,t4.nw)(g),v=a.useMemo(()=>t.sort((e,t)=>e.file.createdAt>t.file.createdAt?1:-1),[t]);return a.createElement("div",{className:S.s.px32.pb32.m0.$},t.length>0?a.createElement(lq.A,{handleContextMenu:p,items:v,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:lY.XU.GRID,handleOpenItem:_,handleDeleteKey:f,gridViewProps:{containerStyle:_H.grid,renderTile:e=>a.createElement(_j,{pinnedFile:e,isDropdownOpen:s}),renderTileFooter:e=>a.createElement(_W,{pinnedFile:e}),renderTileDragImage:e=>a.createElement(rA.NM,{file:e.file,noBorder:!0})}}):a.createElement("div",null),(()=>{let e=d?.tile??null;return a.createElement(lz.i,{tile:e,selectedTiles:E,tileActions:r,openTile:t=>{e&&u(e,t,"pinned files: context menu")},dropdownVisible:s})})())}function _j({pinnedFile:e}){let t=_$(e.file);return a.createElement(l$.e,{tile:t,noBorder:!0,size:rX.y.SMALL})}function _W({pinnedFile:e}){return a.createElement("div",{className:S.s.pt8.flex.flexColumn.$},a.createElement("span",{className:S.s.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,C.t)("tile.file_tile.pinned_by_user",{name:e.pinnedByUser?.name??""})))}function _$(e){return{type:t4.nb.PINNED_FILE,file:e}}let _H={grid:{gridTemplateColumns:"x1g5i94c",userSelect:"x87ps6o",$$css:!0}};var _G=r(554621),_V=r(618593);function _z({folderId:e,hideTemplatesUserFlag:t,isShowingLockedRedesign:r,additionalVisibilityRequirements:o=!0}){var l;let i=(0,n.wA)(),s=(0,K.TA)(),{data:c}=(0,_V.nt)(e),d=!!c&&_G.sJ.every(e=>(0,_V.d6)(c,e)),m=(0,n.d4)(eP.yK),u=(0,n.d4)(e=>e.userFlags[t]),_=(l={component:"useTemplatesBarVisibility"},(0,te.FR)(l));return{shouldShowTemplatesBar:!f.Ay.mobile&&d&&!m&&!u&&!r&&_&&o,hideTemplatesBar:(0,a.useCallback)(()=>{i(eO.b({[t]:!0})),(0,G.Cu)({userId:s,opening:!1},"topbar_recommended_templates_toggled")},[s,i,t])}}var _q=r(423526),_Y=r(496108);let _K="file_creation_thumbnails_shelf--betaTag--PUVzI";function _J(e){let t=e.isDisabled||e.isLoading,r=e.onClick,n=a.useRef(null),l=a.useCallback(e=>{r(e),n.current?.blur()},[r]);return a.createElement("button",{className:j()(e.containerClassName??"file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",t&&(e.disabledClassName??"file_creation_thumbnails_shelf--disabled--6IyUM"),(0,o.k)().file_browser_ia_overhaul_m1_create_buttons&&"file_creation_thumbnails_shelf--buttonRedesign--E2EDd"),ref:n,"data-testid":e.isLoading?void 0:e.dataTestId,tabIndex:0,disabled:t,onClick:t?void 0:l,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.isLoading||!e.isDisabled||e.hideDisabledTooltip?void 0:(0,C.t)("file_browser.creation_buttons.disabled_by_organization"),"data-tooltip-type":r7.Ib.TEXT},!e.isLoading&&a.createElement(a.Fragment,null,a.createElement("div",{className:e.iconContainerClassName??"file_creation_thumbnails_shelf--iconContainer--e9sFx"},e.icon),a.createElement("div",{className:"file_creation_thumbnails_shelf--productNameContainer--F3ppZ"},a.createElement("span",{className:"file_creation_thumbnails_shelf--productName--13XZL"},e.title),a.createElement("span",{className:"file_creation_thumbnails_shelf--subtitle--fM1jl"},e.subtitle)),e.showBetaTag&&a.createElement(ao.Ex,{className:_K,text:(0,C.t)("file_browser.creation_buttons.beta"),color:ao.zE.DEFAULT_TRANSLUCENT}),e.showAlphaTag&&a.createElement(ao.Ex,{className:_K,text:(0,C.t)("file_browser.creation_buttons.alpha"),color:ao.zE.DEFAULT_TRANSLUCENT}),e.showRequestTag&&a.createElement(ao.Ex,{className:_K,text:(0,C.t)("upgrades.request"),color:ao.zE.DEFAULT_TRANSLUCENT}),e.showRequestSentTag&&a.createElement(ao.Ex,{className:_K,text:(0,C.t)("upgrades.request_sent"),color:ao.zE.DEFAULT_TRANSLUCENT})))}function _X(e){return a.createElement(_Y.v,{mode:e.brand},a.createElement(_J,{title:e.title,icon:e.icon,isDisabled:e.isDisabled,isLoading:e.isLoading,showBetaTag:e.showBetaTag,showAlphaTag:e.showAlphaTag,dataTestId:e.dataTestId,onClick:e.onClick}))}var _Q=r(936231),_Z=r(351453),_0=r(171063),_1=r(330063),_4=r(852357),_5=r(177570),_2=r(843898);let _7="folder_page_view--sidebarDivider--NEgHu",_3="folder_page_view--creationButton--HuiGP",_8="folder_page_view--creationIcon--J9eQ6";function _6(e){var t;let{lgFolder:r,team:o,hostPlanName:l,user:i}=e,s=(0,n.wA)(),c=(0,x.RR)(),{properties:d}=(0,az.j6)(),{handleUpgrade:m,getUpgradeEligibility:u,hasPendingRequest:_,getUpgradePathway:f}=(0,rN.wH)({folderId:r.id}),g=r.canCreateDesignFile&&r.canEdit,E=(e=>{if(c){let t=u(eL.G_.DESIGN,g);return t===_5.q.CAN_UPGRADE?((0,G.Cu)({...d,trackingDescriptor:e_.c.CREATE_FILE,isBillingRemodelEnabled:c,licenseType:eL.G_.DESIGN,billableProductKey:_0.s1[eL.G_.DESIGN],needsUpgrade:!0}),m({afterUpgradeCallback:e,licenseType:eL.G_.DESIGN,upgradeReason:_2.i.CREATE_FILE,entryPoint:_Q.tc.CREATE_FILE_EMPTY_CONNECTED_PROJECT})):t===_5.q.CANNOT_UPGRADE?()=>s(t$.F.enqueue({message:"Can't upgrade",error:!0})):e}return p.lQ})((0,_Z.$)({editorType:eL._Y.DESIGN,newFileFrom:iv.f6.FILE_BROWSER_CONNECT_FOLDER_EMPTY_PAGE,contextClicked:"empty_connected_project_page",folderId:r.id,forceFolderId:!!(!o&&r.canEdit)})),v=()=>c&&!g&&u(eL.G_.DESIGN)===_5.q.CANNOT_UPGRADE&&_(eL.G_.DESIGN),b=r.team?.org?.id,h=(0,iE.R$)(i,b),y=(0,_4.ud)(r)&&!h;return a.createElement("div",{className:"folder_page_view--connectEmptyStateContainer--sk3G5"},a.createElement("div",{className:"folder_page_view--connectedEmptyHeading--zt0QB"},(0,C.tx)("file_browser.folder.what_s_a_connected_project_without_files")),a.createElement("div",{className:"folder_page_view--creationButtonsContainer--kVQRt"},a.createElement(_J,{title:(0,C.t)("file_browser.folder.start_from_scratch"),icon:a.createElement(oq.e,null),dataTestId:"connect_file_browser_create_file_button",onClick:E,isLoading:!1,subtitle:(0,C.t)("file_browser.folder.create_a_file_in_any_figma_product"),containerClassName:_3,iconContainerClassName:_8,showRequestSentTag:v(),showRequestTag:c&&!g&&u(eL.G_.DESIGN)===_5.q.CAN_UPGRADE&&f(eL.G_.DESIGN)!==_5.J.AUTO_PATHWAY&&!_(eL.G_.DESIGN),isDisabled:v(),hideDisabledTooltip:v(),disabledClassName:"folder_page_view--disabled--K6FJi"}),y&&a.createElement(_J,{title:(0,C.t)("file_browser.folder.use_existing_work"),icon:a.createElement(oq.e,null),dataTestId:"connect_file_browser_create_file_button",onClick:()=>{r&&(s(e1.gN(r.id)),s((0,_1.L)()))},isLoading:!1,subtitle:(0,C.t)("file_browser.folder.import_images_sketch_files_and_pdfs"),containerClassName:_3,iconContainerClassName:_8})),a.createElement("div",{className:"folder_page_view--subtitle--XB0sI"},a.createElement(_q.l,{className:"folder_page_view--libraryIcon--OiquJ"}),a.createElement("div",null,(0,C.tx)("file_browser.folder.the_host_team_can_add_libraries",{hostPlanName:a.createElement("span",{className:"folder_page_view--bold---DGL-"},l),learnMoreLink:a.createElement("a",{className:"folder_page_view--learnMore--JU51V modal--blueLink--9GcJu blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank"},t||(0,C.tx)("resource_connection.request_modal.learn_more"))}))))}let _9={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0};function pe(e){let t=(0,n.wA)(),r=(0,aB.Rs)(a$.CH9,{folderId:e.folderId}),o=a.useMemo(()=>"loaded"===r.status?(r.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[r]);a.useEffect(()=>{t(tX.MR({folderId:e.folderId,fileKeys:o.map(e=>e.file.key)}))},[o,t,e.folderId]);let l=a.useCallback(()=>{t(tZ.an())},[t]);return 0!==o.length?a.createElement(a.Fragment,null,a.createElement("div",{className:"folder_page_view--pinnedHeader--YJufT",onMouseDown:l},a.createElement(N.E,{fontSize:13,color:"secondary"},(0,C.tx)("file_browser.folder.pinned"))),a.createElement(_U,{pinnedFiles:o,folderId:e.folderId,tileActions:e.tileActions})):null}let pt=(0,cK.xx)(rD.ZN);function pr({files:e,filesByRepoId:t,folderId:r,hasBanner:o,isEditingLocked:l,isEligibleForLockedRedesign:i,lgFolder:s,onClaimClick:c,permissionsState:d,repos:m,team:u,activeProjectConnection:_,isConnectEnabledForProjectPlan:p,user:f}){let g=(0,Q.R)(u?.id),E=(0,Q.jn)(),v=(0,H.Xs)(),b=(0,n.d4)(e=>pt(r,e.tileSortFilterStateByView)),h=(0,n.d4)(e=>e.selectedBranchKeyByRepoId),y=(0,rD.c8)(r,u?.id??null,d),w=!!s&&(0,_V.f3)(s),T=w&&!l,x=T?"":(0,C.t)("file_browser.folder.no_files_yet"),{shouldShowTemplatesBar:I,hideTemplatesBar:k}=_z({folderId:r,hideTemplatesUserFlag:"hide_recommended_templates_in_projects",isShowingLockedRedesign:i||v(E&&g),additionalVisibilityRequirements:!o}),S=[...(0,a.useMemo)(()=>e.map(e=>(0,t4.fA)(e)),[e]),...m.filter(e=>!e.trashed_at).map(e=>({type:t4.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:h[e.id]||""}))];return"loaded"!==y.status?null:y.data?a.createElement(dj,{emptyStateText:(0,C.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:c}):a.createElement(a.Fragment,null,I&&a.createElement(_G.Lt,{folderId:r,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,onClose:k}),a.createElement(pe,{folderId:r,repos:m,tileActions:_9}),a.createElement(dU,{newFileTile:T,tiles:S,tileActions:_9,sortFilterOptions:b,emptyStateText:x,emptyStateContent:(()=>{if(0===S.length&&_&&w&&p)return a.createElement(_6,{lgFolder:s,team:u,hostPlanName:_.hostPlanName,user:f})})(),isFolder:!0,eligibleForLockedStateRedesign:i,isInLockedProTeamRevampExp:v(g)}))}var pa=r(792978),pn=r(6760),po=r(195965);let pl="connected_projects_project_page_onboarded",pi="CONNECTED_PROJECTS_PROJECT_PAGE_ONBOARDING_KEY",ps=(0,ef.r1)(pl);function pc({resourceConnection:e}){let t=a.createElement(pa.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",newTab:!0},(0,C.tx)("resource_connection.onboarding.connected_projects_capitalized")),r=(0,C.tx)("resource_connection.onboarding.connected_projects_are_just_like_normal_projects",{hostPlanName:e.hostPlanName,connectedProjects:t,connectedPlanName:e.connectedPlanName});return a.createElement(po.b,{description:r,title:(0,C.tx)("resource_connection.onboarding.projects_are_better_together"),trackingContext:"Connected Projects File Editor Onboarding Modal",hasSeenOverlayAtom:ps,overlay:eh.fk8,onboardingKey:pi,userFlag:pl,arrowPosition:pn.F_.BOTTOM})}var pd=r(205397),pm=r(190597);function pu(e){let t=(0,n.wA)(),r=(0,n.d4)(({dropdownShown:e})=>e),o=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=[];return e.canCreateDesignFile&&l.push(a.createElement(lr.c$,{key:"new-design-file",children:a.createElement(a.Fragment,null,a.createElement(rR.MW,{className:S.s.pr6.$,size:rR.LE.SMALL,type:rR.y1.DESIGN}),(0,C.tx)("file_browser.tool_bar.new_design_file")),onClick:e.onNewDesignFileClick})),e.canCreateFigjamFile&&l.push(a.createElement(lr.c$,{key:"new-figjam-board",children:a.createElement(a.Fragment,null,a.createElement(rR.MW,{className:S.s.pr6.$,size:rR.LE.SMALL,type:rR.y1.WHITEBOARD}),(0,C.tx)("file_browser.tool_bar.new_figjam_board")),onClick:e.onNewWhiteBoardClick})),e.canCreateSlidesFile&&l.push(a.createElement(lr.c$,{key:"new-slides-file",children:a.createElement(a.Fragment,null,a.createElement(rR.MW,{className:S.s.pr6.$,size:rR.LE.SMALL,type:rR.y1.SLIDES}),(0,C.tx)("file_browser.tool_bar.new_slide_deck")),onClick:e.onNewSlidesClick})),a.createElement("span",null,a.createElement(iM.E,{className:j()(S.s.flex.itemsCenter.$,pm.rd),onClick:r=>{e.dropdownKey&&t(eS.j7({type:e.dropdownKey,data:{targetRect:r.currentTarget.getBoundingClientRect()}}))}},a.createElement(es.B,{svg:cj.A,className:j()(S.s.pr6.$,"new_file_toolbar_dropdown--svg--ugaqW")}),(0,C.tx)("file_browser.tool_bar.new")),o&&a.createElement(pd.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},l))}var p_=r(661500),pp=r(574900),pf=r(91950),pg=r(42776),pE=r(792760),pv=r(493300),pb=r(930602);function ph(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,n.d4)(({dropdownShown:e})=>e),l=(0,n.d4)(t=>(0,rD.oq)(e.folder.id,t))??null,i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,tp.S)(),c=(0,Z.Q)({currentOrgId:l,currentTeamId:null}),d=a.useMemo(()=>{if("loaded"===c.status)return(0,V.T0)(c.data,e.folder.id)},[c,e.folder.id]),m=void 0!==d;if("loaded"!==c.status)return a.createElement("div",{className:S.s.flex.itemsCenter.colorIcon.$},a.createElement(es.B,{svg:pv.A}));let u=(0,V.gV)(c.data,l),_=e.dropdownKey&&o&&o.type===e.dropdownKey&&o.data&&o.data.targetRect,p=r.current&&o?.data?.targetRef===r.current&&o?.type===nW.jU,f=r.current,g=[];return e.folder.canCreateDesignFile&&g.push(a.createElement(lr.c$,{key:"import",children:(0,C.tx)("file_browser.folder.import"),onClick:e.onImportClick})),e.folder.canRead&&g.push(a.createElement(lr.c$,{key:"share",children:(0,C.tx)("file_browser.folder.share"),onClick:e.onShareClick})),e.setFavorite&&(s?g.push(a.createElement(lr.c$,{key:"add-to-favorites-section",children:a.createElement("div",{className:S.s.flex.justifyBetween.itemsCenter.w150.$},(0,C.tx)("favorited_resources.add_to_sidebar"),a.createElement(es.B,{svg:pb.A})),onClick:a=>{a.stopPropagation(),r.current&&t(eS.j7({type:nW.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.folder.id}}))}})):g.push(a.createElement(lr.c$,{key:"shaadd-to-favorites-section",children:e.folder.isSubscribed?(0,C.tx)("sidebar.remove_from_favorites"):(0,C.tx)("sidebar.add_to_favorites"),onClick:r=>{r.stopPropagation(),t(tX.ZJ({folderId:e.folder.id,teamId:e.folder.teamId,isSubscribed:!e.folder.isSubscribed}))}}))),a.createElement("span",null,a.createElement(iM.E,{className:j()(S.s.flex.itemsCenter.colorIcon.$,pm.HM),ref:r,onClick:r=>{e.dropdownKey&&f&&t(eS.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},a.createElement(pE.J,null)),_&&a.createElement(pd.Cf,{targetRect:o.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&a.createElement(rh.t,{updateFavorite:(r,a)=>{(!u||r)&&(e.setFavorite&&e.setFavorite(r,d?.resource.id,a),r&&a&&(i.delete(a),t(eA.U6({collapsedCustomSections:i})),r2.Fp({type:"topLevel",id:"custom",orgId:l,sectionId:a},!0)))},resourceId:e.folder.id,resourceType:eL.bk.FOLDER,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(0,er.oA)(c.data?.currentUser?.userSidebarSections)??[],customSectionOrdering:c.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var py=r(187513),pw=r(943772),pT=r(448329),px=r(292217),pI=r(871117),pk=r(296580),pS=r(667998),pC=r(764745),pN=r(48878),pR=r(490917),pA=r(421566),pO=r(310681),pF=r(330328),pD=r(36789);function pL({newFileFrom:e,dataTestId:t,key:r,tooltipEditorString:n,isUpdatedOmnicreateConfig:o,listOptionType:l}){return{displayText:(0,C.t)("file_browser.tool_bar.request_sent"),preventDismissOnSelected:!0,render:()=>a.createElement(pf.R,{newFileFrom:e,disabled:!0,text:(0,C.t)("file_browser.tool_bar.request_sent"),listOptionType:l,dataTestId:t,isUpdatedOmnicreateConfig:o,key:r,dataTooltip:(0,C.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:n})})}}var pP=r(765982);function pM(e,t,r){return e===tH._YF.WHITEBOARD?t&&t.whiteboardPaidStatus===eL.El.RESTRICTED||r&&r.whiteboardPaidStatus===pP.Zf.RESTRICTED:e===tH._YF.DESIGN&&(t&&t.designPaidStatus===eL.El.RESTRICTED||r&&r.designPaidStatus===pP.Zf.RESTRICTED)}var pB=r(297691),pU=r(473186);function pj({folder:e,lgFolder:t,user:r,dispatch:l,team:i,shouldShowRenameModal:s,onClaimClick:c,shouldShowLockedRedesign:d}){let u=(0,rg.R)(),_=(0,e9.yp)(),f=(0,e9.eU)(),g=(0,rV.H)({useCurrentPlan:!0}),E=()=>{t.name&&K&&(l(tX.WC()),l(tv.to({type:(0,dz.y)(),data:{folder:t}})))},v=(0,aB.Rs)(a$.vhY,{folderId:t.id}),b=(0,er.oA)(er.oA(v.data)?.project?.pendingAssetTransferRequest),h=b&&{id:b.id,source_user_email:b.sourceUser?.email,destination_user_email:b.destinationUser?.email,is_transfer_copy:b.isTransferCopy}||void 0;(0,m.h)(()=>{s&&E()});let y=(0,H.fn)()===H.ih.CONTROL,w=(0,eD.FC)(),T=(0,n.d4)(e=>e.currentUserOrgId),x=(0,n.d4)(e=>e.teamRoleRequests),{handleUpgrade:I,getUpgradeEligibility:k,hasPendingRequest:N,getUpgradePathway:R}=(0,rN.wH)({folderId:t.id}),A=t.team?.org?.id,O=t.team?.id,F=t.team?.canAdmin,D=()=>{l(tv.to({type:rn.W,data:{folderId:t.id}}))},P=!F&&null!==T&&!t.canEdit,M=t.canCreateFigjamFile&&t.canEdit,U=t.canCreateDesignFile&&t.canEdit,j=!!(0,o.k)().piper&&t.canCreateSlidesFile&&t.canEdit,W=(0,pT.q)()&&t.canCreateCooperFile&&t.canEdit,$=(0,pF.sy)(),V=t.canCreateSitesFile&&$,z=(0,pD.aI)()&&t.canCreateFigmakeFile&&t.canEdit,q={canCreateDesignFile:U,canCreateFigjamFile:M,canCreateSlidesFile:j,canCreateCooperFile:W,canCreateSitesFile:V,canCreateFigmakeFile:z},Y=t.canRead,K=t.canEdit,J=t.isEditingLockedForUser,X=a.useMemo(()=>{if(P&&x&&i&&x[i.id]&&x[i.id].status===pS.c.PENDING)return x[i.id].id},[P,x,i]);a.useEffect(()=>{P&&T&&l((0,pk.Rw)())},[P,l,T]);let Q=(0,t0.jm)(A,O),Z=(0,tp.S)(),ee=(0,d5.a)(t.id),et=d?(0,C.t)("locked_team.label.tooltip"):void 0,ea=d?r7.Ib.TEXT:void 0,en=t.team?.org?.currentBaseOrgUser,eo=t.team?.currentTeamUser,{properties:el}=(0,az.j6)(),ei=(e,r,a)=>{let n=A?t.team?.org:t.team,o=n?.name,s=r.toString(),c=(e,t)=>r=>((0,G.Cu)({...el,trackingDescriptor:e_.c.CREATE_FILE,isBillingRemodelEnabled:u,licenseType:s,billableProductKey:_0.s1[s],needsUpgrade:t??!1}),e(r));if(u){let t=k(s,a);return t===_5.q.CAN_UPGRADE?c(I({afterUpgradeCallback:e,licenseType:s,upgradeReason:_2.i.CREATE_FILE,entryPoint:_Q.tc.CREATE_FILE_PROJECT_VIEW}),!0):t===_5.q.CANNOT_UPGRADE?c(()=>l(t$.F.enqueue({message:"Can't upgrade",error:!0})),!0):e}if(es(r,t))return c(()=>{l(tv.to({type:pA.y,data:{planType:A?ib.O.ORG:ib.O.TEAM,planName:o,seatTypesToBeUpgraded:{design:r===eL._Y.DESIGN,whiteboard:r===eL._Y.WHITEBOARD},planId:A??O,upgradeReason:pO.X.CREATE_FILE,onConfirm:e}}))},!0);if(ec(r,t)){if(en&&t.team)return c(()=>{l(tv.to({type:pN.YG,data:{orgId:A??"",orgUser:{id:en.id,user_id:en.userId,org_id:A??"",permission:en.permission,license_group_member:{license_group_id:t.team?.licenseGroupId??null}},entryPoint:_Q.PE.CreateFileProjectView,licenseType:(0,pI.vc)(r),planName:o,folderId:t.id}}))},!0);if(eo)return c(()=>{l(tv.to({type:pR.PK,data:{team:i,entryPoint:_Q.Wc.CREATE_FILE_PROJECT_VIEW,editorType:r,folderId:t.id}}))},!0)}return c(e)},es=(e,t)=>!(t.team&&t.team?.org?.k12GoogleOrg)&&(e===tH._YF.WHITEBOARD?!!en&&en.whiteboardPaidStatus===eL.El.STARTER||!!eo&&eo.whiteboardPaidStatus===pP.Zf.STARTER:e===tH._YF.DESIGN&&(!!en&&en.designPaidStatus===eL.El.STARTER||!!eo&&eo.designPaidStatus===pP.Zf.STARTER))&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam,ec=(e,t)=>!(e===eL._Y.WHITEBOARD&&t.team?.org?.isFigJamDisabled)&&((0,o.k)().tou_plan_user_paid_status_on_file?!!(0,pI._R)(e,t.currentPlanUser??null):!!pM(e,en,eo))&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&(!!en||!!eo),ed=e=>{if((0,o.k)().tou_plan_user_paid_status_on_file?(0,pI._R)(e,t.currentPlanUser??null):pM(e,en,eo)){if(en){if(e===eL._Y.DESIGN&&en.designAccountTypeRequest?.status==="pending"||e===eL._Y.WHITEBOARD&&en.whiteboardAccountTypeRequest?.status==="pending")return!0}else if(eo&&(e===eL._Y.DESIGN&&eo.designAccountTypeRequest?.status==="pending"||e===eL._Y.WHITEBOARD&&eo.whiteboardAccountTypeRequest?.status==="pending"))return!0}return!1},em=(0,_Z.$)({editorType:eL._Y.DESIGN,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,contextClicked:"toolbar_design_created",folderId:t.id,forceFolderId:!!(!i&&t.canEdit)}),eu=(0,_Z.$)({editorType:eL._Y.WHITEBOARD,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,contextClicked:"toolbar_figjam_created",folderId:t.id,forceFolderId:!!(!i&&t.canEdit)}),ep=(0,_Z.$)({editorType:eL._Y.SLIDES,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,contextClicked:"toolbar_slides_created",folderId:t.id,forceFolderId:!!(!i&&t.canEdit)}),ef=(0,_Z.$)({editorType:eL._Y.SITES,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,contextClicked:"toolbar_sites_created",folderId:t.id,forceFolderId:!!(!i&&t.canEdit)});(0,_Z.$)({editorType:eL._Y.COOPER,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,contextClicked:`toolbar_${dg.sq}_created`,folderId:t.id,forceFolderId:!!(!i&&t.canEdit)}),(0,_Z.$)({editorType:eL._Y.FIGMAKE,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_FOLDER,contextClicked:`toolbar_${dg.GJ}_created`,folderId:t.id,forceFolderId:!!(!i&&t.canEdit)});let eg=ei(em,eL._Y.DESIGN,U),eE=ei(eu,eL._Y.WHITEBOARD,M),ev=ei(ep,eL._Y.SLIDES,j),eb=(t,r,a)=>{let n={folder:e,entrypoint:"folder_page_view",sectionId:a,favoriteId:r};t?l(eA.Mv(n)):l(eA.jv(n))},eh=()=>{l(e1.gN(t.id)),l((0,_1.L)())},ey=(e,t)=>u&&!t&&k(e)===_5.q.CAN_UPGRADE&&R(e)!==_5.J.AUTO_PATHWAY&&!N(e),ew=(e,t)=>u&&!t&&k(e)===_5.q.CANNOT_UPGRADE&&N(e),eT=!!(0,rD.c8)(t.id,t.teamId??null,w).data,ex=iv.f6.FILE_BROWSER_TOPBAR_FOLDER,eI={newFileFrom:ex,isUpdatedOmnicreateConfig:_},{newDesignActionComponentProps:ek,newFigjamActionComponentProps:eS,newSlidesActionComponentProps:eC,newSitesActionComponentProps:eN,newCooperActionComponentProps:eR,newImportActionComponentProps:eO,newFigmakeActionComponentProps:eF}=(0,pp.D)({newDesignActionProps:{...eI,showRequestLabel:ey(eL.G_.DESIGN,U),showRequestSentLabel:ew(eL.G_.DESIGN,U),isInFileCreateTextExp:f},newFigjamActionProps:{...eI,showRequestLabel:ey(eL.G_.WHITEBOARD,M),showRequestSentLabel:ew(eL.G_.WHITEBOARD,M),isInFileCreateTextExp:f},newSlidesActionProps:{...eI,showRequestLabel:ey(eL.G_.SLIDES,j),showRequestSentLabel:ew(eL.G_.SLIDES,j)},newSitesActionProps:{...eI,isInFileCreateTextExp:f},newCooperActionProps:{...eI,isInFileCreateTextExp:f},importActionProps:eI,newFigmakeActionProps:{...eI,isInFileCreateTextExp:f}}),eP=t?.activeProjectResourceConnections?.[0];return a.createElement(L.tH,{boundaryKey:"FolderPageViewHeader",fallback:L.H4.NONE_I_KNOW_WHAT_IM_DOING,severity:m2.DZ.Critical,sentryTags:{area:B.e.MONETIZATION_EXPANSION}},a.createElement(oG,{title:t.name,badge:g&&eP?a.createElement(rH.W,{hostPlanName:eP?.hostPlanName,connectedPlanName:eP?.connectedPlanName,large:!0,dataOnboardingKey:pi}):void 0,rightSideActions:(()=>{let e=[],n=(0,o.k)().ps_benchmark&&(0,iE.R$)(r,T);eT&&e.push({kind:oX.A.BUTTON,key:oX.D.CLAIM,displayText:(0,C.t)("file_browser.folder.join_as_owner"),onClick:c});let s=[],m=(0,pf.l)(eS,eE),f=(0,pf.l)(ek,eg),g=null!==eC?(0,pf.l)(eC,u?ev:ep):null,E=null!==eN?(0,pf.l)(eN,ef):null,v=ed(eL._Y.DESIGN),b=ed(eL._Y.WHITEBOARD),h=ec(eL._Y.DESIGN,t)&&ec(eL._Y.WHITEBOARD,t)&&v&&b;if(!J&&!n){let e=pL({newFileFrom:ex,dataTestId:"request-sent-design-button",key:oX.D.REQUEST_SENT_DESIGN,tooltipEditorString:(0,C.t)("file_browser.tool_bar.request_sent_tooltip_figma_design"),listOptionType:pg.R.DESIGN,isUpdatedOmnicreateConfig:_}),r=pL({newFileFrom:ex,dataTestId:"request-sent-whiteboard-button",key:oX.D.REQUEST_SENT_WHITEBOARD,tooltipEditorString:(0,C.t)("file_browser.tool_bar.request_sent_tooltip_figjam"),listOptionType:pg.R.WHITEBOARD,isUpdatedOmnicreateConfig:_}),a=pL({newFileFrom:ex,dataTestId:"disabled-import-button",key:oX.D.IMPORT,tooltipEditorString:(0,C.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam"),listOptionType:pg.R.IMPORT,isUpdatedOmnicreateConfig:_});!u&&h?(s.push(e,r),V&&null!==E&&s.push(E),j&&null!==g&&s.push(g),s.push(a)):(U?s.push(f):u&&K?s.push(f):ec(eL._Y.DESIGN,t)&&(v?s.push(e):s.push(f)),M?s.push(m):u&&K?s.push(m):ec(eL._Y.WHITEBOARD,t)&&(b?s.push(r):s.push(m)),(V||$&&u&&K)&&null!==E&&s.push(E),(j||u&&K)&&null!==g&&s.push(g),W||(0,pT.q)(),z||(0,pD.aI)(),(0,_4.ud)(t)&&!n&&(s.push({displayText:"",disabled:!0,separator:!0}),s.push((0,pf.l)(eO))))}if(s.length>0&&(!u||!P)){let t={requestableLicenseTypes:[ey(eL.G_.DESIGN,U)&&eL.G_.DESIGN,ey(eL.G_.WHITEBOARD,M)&&eL.G_.WHITEBOARD,ey(eL.G_.SLIDES,j)&&eL.G_.SLIDES].filter(Boolean).sort().join(",")};t.hasRequestableLicenses=!!t.requestableLicenseTypes,e.push({kind:oX.A.CUSTOM,key:oX.D.NEW_RESOURCE,element:a.createElement(p_.hn,{trackingProperties:t,isUpdatedOmnicreateEnabled:_(),resourceCreationListItems:s,dropdownType:pg.x})})}if(Y){let t={kind:oX.A.BUTTON,key:oX.D.SHARE,displayText:(0,C.t)("file_browser.folder.share"),onClick:d?p.lQ:D,"data-tooltip":et,"data-tooltip-type":ea,styleClass:d?pB.EB:void 0};e.push(t)}P&&e.push({kind:oX.A.BUTTON,key:oX.D.REQUEST_TO_EDIT,displayText:void 0!==X?(0,C.t)("file_browser.team.cancel_request"):(0,C.t)("file_browser.team.request_to_edit"),onClick:()=>{X?l(px.lT({requestId:X})):i&&l(tv.to({type:pC.$,data:{team:i,requesterCurrentLevel:ua.e6.VIEWER,source:"FolderPageView"}}))}}),e.push({kind:oX.A.ICON_BUTTON,key:oX.D.SETTINGS,icon:pU.A,onClick:()=>{l(tv.to({type:py.l,data:{folderId:t.id}}))},displayText:(0,C.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-tooltip":(0,C.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-onboarding-key":_b,styleClass:S.s.w40.colorIcon.$});let w=Z?a.createElement(rO.r,{setFavorite:eb,favoriteType:eL.bk.FOLDER,resourceId:t.id,isInHeader:!0,orgId:T,teamId:O??null,containerStyle:pm.HM}):a.createElement(pw.d,{folder:t});if(y&&(!(0,o.k)().ps_benchmark||Q)&&e.push({kind:oX.A.CUSTOM,key:oX.D.FAVORITE,element:w}),!J&&(U||M||j)){let t=a.createElement(pu,{dropdownKey:"new-file-dropdown",...q,onNewDesignFileClick:eg,onNewWhiteBoardClick:eE,onNewSlidesClick:ev});e.push({kind:oX.A.CUSTOM,key:oX.D.NEW_FILE_DROPDOWN,showOnMobile:!0,hideOnDesktop:!0,element:t})}let x=a.createElement(ph,{dropdownKey:"project-overflow-dropdown",folder:t,onImportClick:eh,onShareClick:D,setFavorite:Q?eb:null});return e.push({kind:oX.A.CUSTOM,key:oX.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:x}),e})(),rightSideOfTitleAction:(()=>{let e=ee({folder:{...t,orgId:A??null},onRenameClick:E,shouldShowJoinButton:!1,pendingTransfer:h});return Y&&e.length>0?{kind:oX.A.CUSTOM,key:oX.D.DROPDOWN,element:a.createElement(o7,{dataOnboardingKey:_T,buttonAriaLabel:(0,C.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${t.id}`,dropdownOptions:e})}:void 0})()}),g&&eP?a.createElement(pc,{resourceConnection:eP}):a.createElement(a.Fragment,null))}function pW(e){let{folderId:t}=e,r=(0,aB.Rs)(a$.L8O,{projectId:t}),l=(0,eD.FC)(),s=(0,z.LK)(t),c=s.data?.folder,d=r.data?.project||null,m=(0,rV.H)({planParentId:d?.plan?.key.parentId||null,planType:d?.plan?.key.type||null,useCurrentPlan:!1}),u=(0,te.Xd)().unwrapOr(null),_=(0,n.wA)(),p=(0,aB.Rs)(a$.Udv,{id:t}),g="loaded"===p.status&&!p.data.project?.hasPermission||d?.trashedAt,E=d?.trashedAt,v=d?.isAbandonedDrafts&&u?.permission===eL.Xn.ADMIN;a.useLayoutEffect(()=>{if(g||E){if(d?.team){let e=d.team.id;_(eS.$T({view:"team",teamId:e}))}else _(eS.$T({view:"recentsAndSharing"}))}v&&(d.team&&!(d.team.isStarterTeam||d.team.isStudentTeam)?_(eS.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:d.id,planId:d.team.id,adminPlanType:ib.O.TEAM})):d.team?.org&&_(eS.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:d.id,planId:d.team.org.id,adminPlanType:ib.O.ORG})))},[_,p,d,u,g,E,v]);let b=(0,H.Yz)(),h=(0,H.Xs)(),y=l.teams[d?.teamId||""]||null;a.useEffect(()=>{d&&!d.inviteOnlyAt&&d.teamId&&!y&&_(_p.Jt({teamId:d.teamId}))},[_,d,y]);let w=d?.canConnect??!1,T=d?.activeProjectResourceConnections?.[0];a.useEffect(()=>{if(!(0,o.k)().auto_accept_project_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,_f.QL)("auto_role");t&&d&&t in e&&((d.canRead||"100"!==t)&&(d.canEdit||"300"!==t&&"900"!==t&&"999"!==t)&&_(t$.F.enqueue({message:(0,C.t)("file_browser.auto_accept_project_invite_modal",{projectName:d.name,inviteType:e[t]})})),(0,_f.EM)("auto_role"))},[_,d]);let x=(0,n.d4)(e=>!!y&&!!d?.teamId&&uN(e,eL.vt.TEAM,y,d.teamId,{isEligibleForLockedRedesign:b,isInLockedProTeamRevampExp:h})),I=(0,ee.vt)(),k=(0,Q.R)(d?.teamId),N=(0,Q.jn)(),R=(0,Y.dq)(),A=(0,K.iZ)(),O=function(){let e=(0,n.Pj)();return a.useCallback(async t=>{try{await cd.Ay.post(`/api/folders/${t}/claim`),e.dispatch(tX.qp({folderId:t})),(0,rD.qF)(t)||e.dispatch((0,z.jl)({folderId:t,loadedFolders:{}}))}catch(t){e.dispatch(a0.s.error(t.message||(0,C.t)("file_browser.file_browser_actions.claim_team_error")))}},[e])}(),F=()=>O(t),D=(0,H.PP)(),L=!c||!d||"loaded"!==s.status||"loaded"!==r.status;if((0,i.kF)("Folder"),(0,i.WX)({markName:"MainBodyContent",markCondition:!L}),L)return a.createElement("div",{className:"folder_page_view--loading--ZkDG0"},a.createElement(eo.kt,null));let P=e=>{_(tX.ub({folderId:t,description:e.trim()}))},M={view:"project",folderId:t,canEdit:d.canEdit,userSpace:R?o5.qo.ORG:o5.qo.PERSONAL},B=d.team?.isStarterTeam??!1;return(0,az.T8)(a.createElement(oV.r,{content:a.createElement("div",{className:S.s.flex.flexColumn.$},a.createElement(pr,{files:s.data.files,filesByRepoId:s.data.filesByRepoId,folderId:t,hasBanner:x,isEditingLocked:d.isEditingLockedForUser,isEligibleForLockedRedesign:b(I),lgFolder:d,onClaimClick:F,permissionsState:l,repos:s.data.repos,team:y,activeProjectConnection:T?{id:T.id,hostPlanName:T.hostPlanName}:void 0,isConnectEnabledForProjectPlan:m,user:A}),a.createElement(cH.cx,null)),metaContent:f.Ay.mobile||!B||D()?void 0:(()=>{let e=d.canEdit&&!d.isEditingLockedForUser,r=d.team?.isStarterTeam??!1;return a.createElement("div",{className:"folder_page_view--metaColumn--FPnOz"},(e||d.description)&&a.createElement(a.Fragment,null,a.createElement("div",{className:_7}),a.createElement("div",{className:"folder_page_view--folderDescription--wO8Rd text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement("h3",{className:S.s.font13.fontMedium.$},(0,C.tx)("file_browser.about")),a.createElement(_o.TI,{value:d.description||"",placeholder:(0,C.t)("file_browser.folder.add_a_description"),formatter:_o.qU,submit:P,readOnly:!e}))),d.teamId&&a.createElement(a.Fragment,null,a.createElement("div",{className:_7})),d.canRead&&!f.Ay.mobile?a.createElement(_B,{key:t,folderId:t}):null,y&&r&&a.createElement(_d,{folderId:t}),d.teamId&&a.createElement(__,{teamId:d.teamId}))})(),banner:y&&x?a.createElement(_D,{teamId:y.id}):void 0,header:a.createElement(a.Fragment,null,a.createElement(pj,{dispatch:_,user:A,folder:c,team:y,currentOrgId:R,onClaimClick:F,shouldShowRenameModal:e.shouldShowRenameModal||!1,lgFolder:d,shouldShowLockedRedesign:b(I)||h(N&&k)}),d.canCreateDesignFile&&y&&a.createElement(_F,{teamId:y.id,canCreateFigjamBoard:d.canCreateFigjamFile}),m&&a.createElement(_I,{folder:d}),w&&a.createElement(_y,{folder:d}))}),o5.e0.FILE_BROWSER,M)}function p$(){let e;let t=(0,n.d4)(e=>e.currentTeamId),r=(0,eC._6)(),l=(0,aB.Rs)(a$.RRC,{teamId:t??""},{enabled:!!t});if(!(0,o.k)().limited_plan_spaces)return null;if("loaded"!==l.status)e=a.createElement(eo.qc,null);else{let n=("loaded"===l.data.currentUser.status&&l.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project).map(e=>{let t=e.project,r=t.activeProjectResourceConnections?.[0]??null;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser,is_connected_project:!!r,resource_connection:r?{hostPlanName:r.hostPlanName,connectedPlanName:r.connectedPlanName}:null}});e=a.createElement(a.Fragment,null,a.createElement(ms,{viewId:`limitedTeam-${t}`,folderList:n,selectedView:r,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0}))}return(0,az.T8)(a.createElement(oV.r,{content:a.createElement(a.Fragment,null,e),viewbar:a.createElement("div",{className:"limited_space_team_projects_page_view--viewbar--YMqKQ"},a.createElement("div",{className:"limited_space_team_projects_page_view--viewbarHeading--mTm27"},(0,C.tx)("file_browser.limited_space_team_projects.heading")))}),o5.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}function pH({orgId:e}){let t=(0,n.wA)(),r=(0,te.Kd)(),o=(0,eD.FC)();return(0,rw.MF)({oldValue:k.Qw.useMemoizedLoaded((0,tz.canMemberOrg)(e,o)),newValue:r,label:rw.A5.ViewLibrariesAction.canMemberOrg,enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_2)}).data?a.createElement(o$.K,{action:{kind:o$.A.BUTTON,key:oX.D.VIEW_LIBRARIES,displayText:(0,C.t)("org_view.view_libraries"),onClick:()=>{t(eS.$T({view:"org",orgId:e,orgViewTab:tT.X.LIBRARIES}))}}}):null}function pG({orgId:e}){let t=(0,n.wA)(),r=(0,n.d4)(eP.QT),o=(0,eP.LM)(e),l=(0,rw.MF)({oldValue:k.Qw.useMemoizedLoaded(r),newValue:o,label:rw.A5.NewTeamAction.selectEnterpriseOrgDirectoryEnabled,enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_2)}).data,{canCreateTeam:i}=(0,J.LM)({id:e},null);return l||!i?null:a.createElement(o$.K,{action:{kind:o$.A.CUSTOM,key:oX.D.NEW_TEAM,element:a.createElement(oz.$n,{"aria-label":(0,C.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:()=>{t(tv.to({type:oP.Uc,data:{}}))},iconPrefix:a.createElement(oq.e,null)},(0,C.t)("license_group_view.toolbar.new_team_button"))}})}function pV({orgId:e}){return e?a.createElement(a.Fragment,null,a.createElement(pG,{orgId:e,key:"org-new-team-action"}),a.createElement(pH,{orgId:e,key:"org-library"})):null}var pz=r(162072),pq=r(650894);function pY(){let e=(0,n.wA)(),t=(0,Y.dq)(),r=uS((0,nE.R)(e=>({...(0,tz.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e);if(!r)return a.createElement("div",null);let o=uA({resourceType:"org",orgId:t},r),l=r.severity===us.c.WARN?uc:"",i=`${ub} ${l}`;return a.createElement("div",{className:i},a.createElement(uL,{...r,tracking:o}))}var pK=r(503678),pJ=r(951401);function pX(){let e=(0,rV.H)({useCurrentPlan:!0}),t=(0,te.tJ)(),r=t.unwrapOr(null),n=r?.connectionCount??0,o=(0,aB.Rs)(a$.ifD,{planType:r?.key.type??null,planId:r?.key.parentId??""},{enabled:e&&null!==r}),l=a.useMemo(()=>"loaded"!==o.status?[]:((0,er.oA)(o.data?.planConnectedProjectsForUser)||[]).map(e=>{let t=(0,er.oA)(e.project);return null!=t?(0,t8.W2)(t):null}).filter(e=>null!==e),[o]);return e?"loaded"!==t.status||"loaded"!==o.status?a.createElement("div",{className:S.s.flex.wFull.hFull.alignCenter.justifyCenter.$},a.createElement(oR.k,{htmlAttributes:{"data-testid":"loading-spinner"}})):0===n?a.createElement("div",{className:"org_connected_projects_view--emptyContent---1eNq"},a.createElement(pK.K,{entryPoint:_g.wR.CONNECTED_PROJECT_ORG_PAGE})):a.createElement(a.Fragment,null,a.createElement(pJ.A,null),a.createElement("div",{className:"org_connected_projects_view--tabContentContainer--qFQ6s"},a.createElement("div",{className:S.s.wFull.$},a.createElement(d4.m,{folderList:l,dataOnboardingKeyIndex:void 0,onChangeSortOptions:p.lQ,viewType:lY.XU.GRID,isSharerInfoIncluded:!1,showTeamNameOrAuthor:!1,hideSubtitleInGrid:!0})))):null}var pQ=r(360589),pZ=r(902213),p0=r(172516);let p1="org_meta_content--container--b5Iq3";function p4({org:e}){return a.createElement("div",{className:S.s.flex.flexColumn.rowGap16.$},a.createElement(e5.Ro,{entity:e,size:36}),a.createElement(N.E,{fontWeight:"medium",fontSize:13},e.name))}function p5({handle:e}){let t=(0,n.wA)();return a.createElement("a",{href:new pZ.xn({profileHandle:e}).href,className:p0.Be,onClick:r=>{r.metaKey||(r.preventDefault(),t(eS.$T({view:"communityHub",subView:"handle",handle:e})))}},a.createElement(N.E,{fontSize:11},"@",e))}function p2({orgId:e}){let t=(0,n.d4)(t=>(0,eg.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),r=(0,n.wA)();return a.createElement(lu,{label:(0,C.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{r(eS.$T({view:"user",userId:t.id,userViewTab:l_.o.INTERNAL_PROFILE}))},canLeave:!1})}function p7({org:e,orgStats:t}){let r=t?a.createElement(N.E,{fontSize:11,color:"secondary"},(0,C.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),a.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?(0,C.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,C.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})):a.createElement(pQ.Wi,{className:S.s.mb4.$,animationType:pQ.JR.SHIMMER});return a.createElement("div",{className:p1},a.createElement(p4,{org:e}),a.createElement("span",{className:S.s.mt4.$},r),e.community_profile_handle?a.createElement("span",{className:S.s.mt2.$},a.createElement(p5,{handle:e.community_profile_handle})):null,a.createElement("span",{className:S.s.mt32.$},a.createElement(p2,{orgId:e.id})))}function p3({org:e}){let t=(0,aB.Rs)(a$.nYs,{orgId:e.id});return a.createElement(p7,{orgStats:t.data?.org??null,org:e})}function p8({org:e}){let t=(0,aB.Rs)(a$.kei,{orgId:e.id});return a.createElement(p7,{orgStats:t.data?.org??null,org:e})}function p6({org:e}){return a.createElement("div",{className:p1},a.createElement(p4,{org:e}),e.community_profile_handle?a.createElement("span",{className:S.s.mt4.$},a.createElement(p5,{handle:e.community_profile_handle})):null,a.createElement("span",{className:S.s.mt4.$},a.createElement(N.E,{fontSize:11,color:"secondary"},(0,C.tx)("payments_modal.guest_permission_disclaimer")," ",a.createElement("a",{className:p0.Be,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},(0,C.tx)("org_home_view_meta.learn_more")))))}var p9=r(974465);let fe=[tT.X.HOME,tT.X.YOUR_TEAMS,tT.X.CONNECTED_PROJECTS,tT.X.PLUGINS,tT.X.WIDGETS],ft=e=>{switch(e){case tT.X.HOME:return(0,C.t)("org_view.overview");case tT.X.YOUR_TEAMS:return(0,C.t)("org_view.your_teams");case tT.X.PLUGINS:return(0,C.t)("org_view.plugins");case tT.X.WIDGETS:return(0,C.t)("org_view.widgets");case tT.X.CONNECTED_PROJECTS:return(0,C.t)("org_view.connected_projects");default:return null}};function fr(e){let t=(0,n.wA)(),r=(0,rV.H)({useCurrentPlan:!0}),o=(0,te.b_)({migrationGroup:oo.L.GROUP_5,component:"OrgPageViewBar"}),l={[tT.X.HOME]:!0,[tT.X.WIDGETS]:!0,[tT.X.PLUGINS]:!0,[tT.X.YOUR_TEAMS]:!0,[tT.X.LIBRARIES]:!1,[tT.X.FONTS]:!1,[tT.X.CONNECTED_PROJECTS]:r},i=e=>{t(eS.$T({view:"org",orgId:o??"",orgViewTab:e}))},[s,c,d]=s5.t.useManagedTabs(l,e.selectedTab,e=>{i(e)}),m=fe.map(e=>a.createElement(s5.t.Tab,{...s[e],key:e},ft(e))),u=a.createElement(et.J,null,a.createElement(s5.t.TabStrip,{manager:d},m));return a.createElement(nP.g2,{leftSide:u,rightSide:[]})}var fa=r(104536);function fn({workspace:e,targetRect:t,isDropdownOpen:r}){let l=lt(),i=(0,o.k)().file_browser_ia_overhaul_m1_dropdowns,s=(0,Y.sZ)(),c=(0,n.wA)();if(!s||!r||!t)return null;let d=l({workspace:e,org:s});return a.createElement(et.J,{enabled:i},a.createElement(tb.j,{parentRect:t,items:d,dispatch:c,onSelectItem:e=>{e.callback&&e.callback("",null,c)},showPoint:!1,shouldUsePortal:!0}))}var fo=r(843493),fl=r(458128),fi=r(672574),fs=r(669976);function fc(e){let{unassignedTeams:t,isSelected:r,isHovered:n}=e,o=(0,C.tx)("org_view.license_group.unassigned_tile.name"),l=a.createElement(e5.md,{teams:t,size:40,isHovered:n}),i=a.createElement("span",null,"\xa0"),s=(0,C.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return a.createElement(fs.a,{name:o,headerLeft:l,headerRight:i,footerLeft:s,canView:!0,isCardActive:n||r,isSelected:r,isInItemsView:!0})}var fd=r(599422);function fm(e){let t,r;let{workspace:o,teamCount:l,isSelected:i,isHovered:s,onChildFocusChange:c}=e,[d,m]=a.useState(!1),u=(0,n.d4)(e=>e.currentUserOrgId),_=(0,fd.aq)(),p=o.colorConfig?.colors??[],f=e.isMainWorkspace?p[0]:void 0;f&&(f=function(e,t,r){try{let a=(0,o_.H0)(t),n=(0,o_.kx)(a),o=(0,op.oN)(t,!n,n);return r&&o!==t&&(0,nA.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:o}),o}catch(e){console.error(e)}return t}(o.id,f,_()));let g=(0,n.wA)(),E=a.useCallback((e,t,r)=>{if(o){let a={workspace:{id:o.id,name:o.name??"",imgUrl:o.imgUrl},entrypoint:"workspace_tile",sectionId:r,favoriteId:t};e?g(eA.ZW(a)):g(eA.if(a))}},[g,o]);f&&((0,o_.kx)(f)?(t="org_page_view--workspaceTileTitleColorForDarkBackground--m6sFp",r="org_page_view--secondaryTextColorOnDarkBackground--7Ru-V"):(t="org_page_view--workspaceTileTitleColorForLightBackground---zSTU",r="org_page_view--secondaryTextColorOnLightBackground--68byE"));let v=a.createElement(e5.z6,{entity:o,size:40}),b=(0,aZ.oA)(o.memberCount),h=a.createElement("div",{className:j()(S.s.flex.flexRow.itemsCenter.$,r)},a.createElement("span",null,(0,C.tx)("org_view.license_group.member_count",{memberCount:b?.data??0}),a.createElement("span",null,"\xa0\xb7\xa0"),(0,C.tx)("org_view.license_group.team_count",{teamCount:l}))),y=a.createElement(rO.r,{setFavorite:E,favoriteType:eL.bk.WORKSPACE,resourceId:o.id,orgId:u}),w=o.orgAccess===eL.bU.SECRET?a.createElement("div",{className:S.s.ml4.$,"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":(0,C.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,C.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},a.createElement(rB.In,{icon:"lock-16"})):null;return a.createElement(fs.a,{backgroundColor:f,canView:!0,footerLeft:h,handleBlur:()=>{m(!1),c()},handleFocus:()=>{m(!0),c()},headerLeft:v,headerRight:y,isCardActive:s||i||d,isInItemsView:!0,isSelected:i,name:a.createElement("span",{className:t},o.name),titleSubtitleRight:w})}function fu(){let e=(0,n.wA)(),t=(0,eD.FC)(),r=(0,Y.dq)(),o=(0,J.Au)(r),{canCreateTeam:l}=(0,J.LM)(r?{id:r}:null,null),s=(0,ed.md)(oA.w),{workspaceTeamCounts:c,unassignedTeams:d}=a.useMemo(()=>{let e=(s.data||[]).filter(e=>(0,oD.ox)(e,t,r));return{workspaceTeamCounts:(0,t9.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[t,r,s]),m=(0,aB.Rs)(a$.bUn,{orgId:r}),{currentWorkspace:u,otherWorkspaces:_}=a.useMemo(()=>{let e=m.transform(e=>{let t=e.org?.workspaces??[];(0,tc.KQ)(t,"name");let r=t.find(e=>e.id===o.data),a=t.filter(e=>e.id!==r?.id);return d.length>0&&a.push(or.O),{currentWorkspace:r,otherWorkspaces:a}});return"loaded"===e.status?e.data:{currentWorkspace:null,otherWorkspaces:[]}},[m,o,d]),p="loaded"!==s.status,f=a.useCallback(()=>{e(tv.to({type:oP.Uc,data:{}}))},[e]),g="loaded"!==m.status||p;if((0,i.kF)("OrgAllWorkspaces"),(0,i.WX)({markName:"MainBodyContent",markCondition:!g}),g)return a.createElement(fl.X,{isLoading:!0});let E=u&&a.createElement(a.Fragment,null,a.createElement("div",{className:"x1tudf5h"},a.createElement(N.E,{color:"secondary",fontSize:11},(0,C.tx)("org_view.your_workspace"))),a.createElement(f_,{items:[u],isMainWorkspace:!0,workspaceTeamCounts:c,unassignedTeams:d,focusOnLoad:!0}));return a.createElement(a.Fragment,null,E,u&&a.createElement("div",{className:"x1tudf5h"},a.createElement(N.E,{color:"secondary",fontSize:11},(0,C.tx)("org_view.other_workspaces"))),0===_.length?a.createElement(fi.C,{onCreateTeam:l?f:void 0}):a.createElement(f_,{items:_,isMainWorkspace:!1,workspaceTeamCounts:c,unassignedTeams:d,focusOnLoad:!u}))}function f_({items:e,isMainWorkspace:t,workspaceTeamCounts:r,unassignedTeams:n,focusOnLoad:o}){let{showing:l,show:i,data:s}=(0,cv.BK)("WORKSPACE_CONTEXT_MENU"),c=(0,fo.$)(),d=a.useCallback(e=>e===or.O?(0,C.t)("org_view.license_group.unassigned_tile.name"):e.name,[]),m=a.useCallback((e,t)=>{c(e===or.O?null:e.id,t)},[c]),u=a.useCallback((e,t)=>{let r=e[0];r!==or.O&&i({data:{workspace:r,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[i]),_=a.useMemo(()=>({tileBorderRadius:16,nestedFocus:!1,containerStyle:fp.grid,renderTile:(e,o,{isSelected:l,isHovered:i})=>e===or.O?a.createElement(fc,{isSelected:l,isHovered:i,unassignedTeams:n}):a.createElement(fm,{workspace:e,teamCount:r[e.id]??0,isSelected:l,isHovered:i,isMainWorkspace:t,onChildFocusChange:o})}),[t,n,r]);return a.createElement(a.Fragment,null,a.createElement(lq.A,{viewType:lY.XU.GRID,isDraggable:!1,items:e,multiselectDisabled:!0,getAriaLabel:d,gridViewProps:_,handleOpenItem:m,handleContextMenu:u,doNotFocusOnLoad:!o}),l&&a.createElement(fn,{workspace:s.workspace,isDropdownOpen:l,targetRect:s.targetRect}))}let fp={grid:{paddingTop:"x1p5oq8j",paddingBottom:"x1gan7if",paddingLeft:"x1tudf5h",paddingRight:"x1m2p0i2",paddingInlineStart:null,paddingInlineEnd:null,gridTemplateColumns:"x192fo39",$$css:!0}},ff=(e,t)=>({canMemberOrg:(0,tz.canMemberOrg)(e.currentUserOrgId,(0,tz.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,eP.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId[e.currentUserOrgId][e.user.id]:null});function fg(e){let{canMemberOrg:t,org:r,isEnterpriseOrgDirectoryEnabled:o,currentOrgUser:l}=(0,nE.R)(t=>ff(t,e.orgId)),i=(0,n.wA)(),s=(0,eP.LM)(e.orgId),c=(0,rw.MF)({oldValue:k.Qw.useMemoizedLoaded(o),newValue:s,label:rw.A5.OrgPageView.selectEnterpriseOrgDirectoryEnabled,enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_2)}).data,d=(0,te.Kd)(),m=(0,te.sI)(),u={canMemberOrg:t,isOrgGuest:l&&l.permission===eL._D.GUEST},_=a.useMemo(()=>k.Qw.transformAll([d,m],(e,t)=>({canMemberOrg:e,isOrgGuest:t})),[d,m]),p=(0,rw.MF)({oldValue:k.Qw.useMemoizedLoaded(u),newValue:_,label:rw.A5.OrgPageView.orgPermission,enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_1)}).data;a.useEffect(()=>{p?.canMemberOrg&&(i(pz.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),i(pq.Pg({orgId:e.orgId})))},[p?.canMemberOrg,e.orgId,i]);let f=null;switch(e.selectedTab){case tT.X.WIDGETS:f=a.createElement(fa.x,null);break;case tT.X.PLUGINS:f=a.createElement(p9.C,null);break;case tT.X.YOUR_TEAMS:f=a.createElement(fE,null);break;case tT.X.CONNECTED_PROJECTS:f=a.createElement(pX,null);break;case tT.X.HOME:case tT.X.FONTS:case tT.X.LIBRARIES:f=c?a.createElement(fu,null):a.createElement(fv,null)}let g=null;g=p?.isOrgGuest?a.createElement(p6,{org:r}):c?a.createElement(p3,{org:r}):a.createElement(p8,{org:r});let E=a.createElement(fr,{selectedTab:e.selectedTab});return a.createElement(oV.r,{banner:a.createElement(pY,null),viewbar:E,content:f,metaContent:g})}function fE(){let e=oj({workspaceId:null,onlyJoinedTeams:!0});return a.createElement(oB,{orgTeamsQuery:e,workspaceId:null})}function fv(){let e=oj({workspaceId:null,onlyJoinedTeams:!1});return a.createElement(oB,{orgTeamsQuery:e,workspaceId:null})}var fb=r(226895);let fh=(0,ed.eU)(!1);function fy(){let e=(0,l.lH)(),t=(0,ed.md)(l.Bb),r=(0,ed.md)(fh),n=(0,ed.Xr)(fh);if(!f.Ay.chromeos||!f.Ay.chrome||e||!t)return null;let o=async()=>{n(!0);let e=await t.prompt();"dismissed"===e.outcome&&n(!1),(0,nA.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return a.createElement(o$.K,{action:{kind:o$.A.CUSTOM,key:oX.D.ADD_TO_CHROMEBOOK,element:a.createElement("button",{onClick:o,className:j()(pB.AS,r&&pB.Xn),tabIndex:0},a.createElement(es.B,{className:pB.He,svg:fb.A}),(0,C.tx)("file_browser.tool_bar.add_to_chromebook"))}})}var fw=r(655527);function fT(){return c.eD||!(0,o.k)().desktop_get_app_navbar?null:a.createElement(o$.K,{action:{kind:o$.A.CUSTOM,key:oX.D.GET_DESKTOP_APP,element:a.createElement("button",{onClick:()=>{d.Ay.redirect(`/download/desktop/${f.Ay.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:pB.Fu},a.createElement(es.B,{className:pB.Kk,svg:fw.A}),(0,C.tx)("banner.desktop_download_button"))}})}function fx(){let e=(0,n.wA)(),t=(0,K.Pc)();return a.createElement(o$.K,{action:{kind:o$.A.BUTTON,key:oX.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(eS.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,C.t)("internal_profile.view_community_profile"),styleClass:S.s.colorText.$}})}var fI=r(321508),fk=r(879153),fS=r(52516),fC=r(244306),fN=r(151570),fR=r(552487),fA=r(469402);function fO(e,t){return e*t+(e+1)*32+280}function fF(){let e=a.useRef(null),[t,r]=a.useState(!1),[o,l]=a.useState(!0),i=(0,e9.eU)(),s=a.useCallback(e=>{e.intersectionRatio<.5?r(!0):r(!1)},[r]);(0,fA.g)(e,s,{threshold:.5,rootMargin:"-50px"});let c=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:d,status:m}=(0,_V.nt)(c),u=(0,fC.h)(d),_="loading"===m,p=u.map(({editorType:e,isDisabled:t})=>{switch(e){case eL._Y.DESIGN:return a.createElement(fL,{key:"design",isDisabled:t,isLoading:_,isInFileCreateTextExp:i});case eL._Y.WHITEBOARD:return a.createElement(fP,{key:"whiteboard",isDisabled:t,isLoading:_,isInFileCreateTextExp:i});case eL._Y.SLIDES:return a.createElement(fM,{key:"slides",isDisabled:t,isLoading:_});case eL._Y.SITES:return null;case eL._Y.COOPER:return a.createElement(fR.V,{key:"cooper",isDisabled:t,isLoading:_,isInFileCreateTextExp:i});case eL._Y.FIGMAKE:return a.createElement(fB,{key:"figmake",isDisabled:t,isLoading:_,isInFileCreateTextExp:i});default:(0,I.xb)(e)}}).filter(Boolean);p.push(a.createElement(fU,{key:"import",isLoading:_}));let f=p.length,[g,E]=a.useState(window.innerWidth);a.useEffect(()=>{let e=()=>E(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[E]);let v=a.useMemo(()=>(0,aL.mm)()[0],[]),{narrowButtonWidth:b,wideButtonWidth:h}="ja"===v?{narrowButtonWidth:fO(f,190),wideButtonWidth:fO(f,250)}:"es-es"===v?{narrowButtonWidth:fO(f,195),wideButtonWidth:fO(f,260)}:{narrowButtonWidth:fO(f,140),wideButtonWidth:fO(f,215)},y=g<b,w=(0,ed.Xr)(fN.n),T=(0,e9.io)(!0),x=y||o;return(a.useEffect(()=>{if(t||y)w(!0);else{let e=T();l(e),w(e)}},[y,t,T,w]),x)?null:a.createElement(fD,{buttons:p,showWideButtons:g>=h,thumbnailsRef:e})}function fD({buttons:e,showWideButtons:t,thumbnailsRef:r}){return(0,i.WX)({markName:"FileCreateEntrypoint",markCondition:!0}),a.createElement("div",{className:j()({"file_creation_thumbnails_shelf--fileCreationThumbnailsShelf--KMJ6U":!0,"file_creation_thumbnails_shelf--wideButtons--1fGhy":t}),ref:r,"data-testid":"file-creation-thumbnails-shelf"},e)}function fL({isDisabled:e,isLoading:t,isInFileCreateTextExp:r}){let n=(0,_Z.$)({editorType:eL._Y.DESIGN,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_X,{title:r?(0,C.t)("file_browser.creation_buttons.design"):(0,C.t)("file_browser.creation_buttons.new_design_file"),brand:"design",dataTestId:"new-design-file-button",icon:a.createElement(fI.k,null),isDisabled:e,isLoading:t,onClick:n})}function fP({isDisabled:e,isLoading:t,isInFileCreateTextExp:r}){let n=(0,_Z.$)({editorType:eL._Y.WHITEBOARD,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_X,{title:r?(0,C.t)("file_browser.creation_buttons.whiteboard"):(0,C.t)("file_browser.creation_buttons.new_fig_jam_board"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:a.createElement(sQ.D,null),isDisabled:e,isLoading:t,onClick:n})}function fM({isDisabled:e,isLoading:t}){let r=(0,_Z.$)({editorType:eL._Y.SLIDES,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_X,{title:(0,C.t)("file_browser.creation_buttons.new_slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:a.createElement(sK.l,null),isDisabled:e,isLoading:t,showBetaTag:!1,onClick:r})}function fB({isDisabled:e,isLoading:t,isInFileCreateTextExp:r}){let n=(0,_Z.$)({editorType:eL._Y.FIGMAKE,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_X,{title:r?(0,C.t)("file_browser.creation_buttons.bake"):(0,C.t)("file_browser.creation_buttons.new_figmake"),brand:"seascape",dataTestId:"new-figmake-file-button",icon:a.createElement(fk.V,null),isDisabled:e,isLoading:t,onClick:n})}function fU({isLoading:e}){let t=(0,n.wA)();return a.createElement(_J,{title:(0,C.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:a.createElement(fS.R,null),isLoading:e,onClick:()=>{t((0,_1.L)())},containerClassName:"file_creation_thumbnails_shelf--importThumbnail--xooVC file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",iconContainerClassName:"file_creation_thumbnails_shelf--importIconContainer--FjJ9d file_creation_thumbnails_shelf--iconContainer--e9sFx"})}var fj=r(53982),fW=r(838975),f$=r(975806),fH=r(748749),fG=r(975512),fV=r(459959),fz=r(48437),fq=r(459085);function fY({buttonProps:e,image:t,title:r,author:n}){return a.createElement("div",{className:"home_shelf_resource_tile--homeShelfResourceTile--1rgji"},a.createElement(iM.E,{className:"home_shelf_resource_tile--resourceTileButton--meEFU",...e},a.createElement("div",{className:"home_shelf_resource_tile--homeShelfTileImageContainer--3fiyP"},t),a.createElement("div",{className:"home_shelf_resource_tile--title--O4Tfl"},r)),n)}function fK(){return a.createElement(fY,{buttonProps:{disabled:!0},image:a.createElement(pQ.Qp,{className:"home_shelf_resource_tile--loadingImage--I9sFG home_shelf_resource_tile--loadingColor--AlSS5",animationType:pQ.JR.NO_SHIMMER}),title:a.createElement(pQ.Wi,{className:"home_shelf_resource_tile--loadingTitleText--8Q0Xx home_shelf_resource_tile--title--O4Tfl home_shelf_resource_tile--loadingColor--AlSS5",animationType:pQ.JR.NO_SHIMMER}),author:a.createElement(pQ.Wi,{className:"home_shelf_resource_tile--loadingAuthor--yKCwm home_shelf_resource_tile--author--m5FxW utilities--bodyMedium--7-YGK home_shelf_resource_tile--loadingColor--AlSS5",animationType:pQ.JR.NO_SHIMMER})})}function fJ({resource:e,isSelected:t,onFocus:r,onChildFocus:o}){let l=(0,n.wA)(),i=(0,sI.Lj)(e),s=e.community_publishers.accepted[0],c=(0,a.useCallback)(()=>{(0,fq.LJ)(l,e),function(...e){let{trackingEventName:t,trackingProperties:r}=function(e,t){return{trackingEventName:"community_home_shelf_resource_clicked",trackingProperties:{resourceType:e,resourceId:t}}}(...e);(0,nA.sx)(t,r)}(e.resource_type,e.id)},[l,e]),d=a.useRef(null);a.useEffect(()=>{t&&d.current?.focus()},[t]);let m=(0,a.useMemo)(()=>({onClick:c,"aria-label":e.name,"aria-current":t,htmlAttributes:{onFocus:r},ref:d}),[c,t,e.name,r,d]);return a.createElement(fY,{buttonProps:m,image:a.createElement(a.Fragment,null,a.createElement(fV.i,{resource:e,isSelected:t}),a.createElement("div",{className:"home_shelf_resource_tile--tileEditorIcon--QE-1U"},a.createElement(fz.dn,{editorType:e.editor_types[0]}))),title:a.createElement(a.Fragment,null,a.createElement("div",{className:"home_shelf_resource_tile--titleText--NFhch utilities--bodyMediumStrong--1R5cZ"},e.name),a.createElement(fH.c,{className:"home_shelf_resource_tile--titleIcon--BW0c1"})),author:a.createElement(fG.o,{href:(0,pZ.bL)(s?.profile_handle||""),trackingEventName:"community_home_shelf_resource_creator_clicked",trackingProperties:{profileId:s?.id,target:"username"},htmlAttributes:{onFocus:o},className:"home_shelf_resource_tile--author--m5FxW utilities--bodyMedium--7-YGK",newTab:!0},(0,C.tx)("community.resource_tiles.by_author",{author:i}))})}let fX=211/244;var fQ=r(223926),fZ=r.n(fQ),f0=r(67074);function f1(){let e=(0,of.DP)();return a.createElement(f0._,{href:"/community",onClick:()=>{(0,nA.sx)("community_home_shelf_see_more_clicked")},className:"xh8yej3 x5yr21d x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 x1v2ro7d x1ypdohk x1899u3q xwfvh3v xw4t3mb","aria-label":(0,C.t)("community.home_shelf.see_more_on_community"),newTab:!0},a.createElement("div",{className:"x1mxnbhz x1n2onr6 xh8yej3"},a.createElement(ij.oW,{className:"x1mxnbhz xh8yej3 xdr6sbx x1lliihq x1klh5xi",src:(0,aL.ck)("dark"===e?"bc626f95e145828ba6c3c242584a3617798ec32f":"8b0b884f6cf176a70d7e71112058d2bbbc063eb0"),alt:""})),a.createElement("span",{...n8.xk(f4.linkText)},(0,C.t)("community.home_shelf.see_more_on_community")))}let f4={linkText:{...lj.g.textBodyMediumStrong,width:"xh8yej3",textAlign:"xdpxx8g",color:"x1quhyk7",textDecoration:"xtpnkq1",textDecorationColor:null,textDecorationLine:null,textDecorationStyle:null,textDecorationThickness:null,$$css:!0}},f5=[eL._Y.DESIGN,eL._Y.WHITEBOARD,eL._Y.SLIDES];function f2(){var e,t;let r=(0,n.wA)(),[o,l]=a.useState([]),[{data:i,status:s,errors:c}]=(0,_.IT)(iA.a.getHomeShelfContent({seenResourceIds:o})),d=function(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[n,o]=(0,a.useState)(0),[l,i]=(0,a.useState)(0),s=(0,a.useCallback)(e=>{let t=e-48,a=Math.floor((t-24-244*fX)/268);if(a<1){r(0),o(0),i(0);return}let n=Math.floor((t-24-24*(a=Math.min(a,16)))/(a+fX)),l=Math.floor(n*a+24*(a-1)),s=Math.floor(n*fX);r(a),o(l),i(s)},[]);return(0,a.useLayoutEffect)(()=>{let t=e.current;if(!t)return;s(t.clientWidth);let r=new ResizeObserver(e=>{s(e[0]?.target.clientWidth??0)});return r.observe(e.current),()=>r.disconnect()},[e,s]),(0,a.useMemo)(()=>({tileRowWidth:n,navigationSectionWidth:l,numberOfTiles:t,sizeRef:e}),[n,l,t,e])}(),m=(e=i?.data.meta.recommended_resources??[],t=d.numberOfTiles,(0,a.useMemo)(()=>{let r=[iP.vt.DESIGN_TEMPLATE,iP.vt.SLIDE_TEMPLATE,iP.vt.FIGJAM_TEMPLATE],a=fZ()(e,e=>e.resource_type),n=[];for(let o=0;o<e.length+r.length&&n.length!==t&&0!==r.length;o++){let e=(a[r[o%r.length]]??[]).shift();e?n.push(e):r.splice(o%r.length,1)}return n},[e,t])),{trackRejectedResources:u}=function({visibleResources:e}){let{trackResourceImpression:t}=(0,iF.G)(),{properties:r}=(0,az.j6)();return(0,a.useEffect)(()=>{e.forEach(e=>{t(e)})},[t,e]),{trackRejectedResources:(0,a.useCallback)(e=>{(0,nA.sx)("community_home_shelf_resources_rejected",{rejectedResourceIds:e.join(),...r})},[r])}}({visibleResources:m}),p=(0,a.useCallback)(()=>{let e=m.map(e=>e.id);l(e),u(e),r(eO.b({refreshed_community_home_shelf_recommendations:!0}))},[u,m,r]);if("errors"===s)return(0,m2.$D)(B.e.COMMUNITY,c),null;let f=d.numberOfTiles<2;return a.createElement("div",{ref:d.sizeRef,className:"x1p4momh"},!f&&a.createElement("div",{className:"xhv1u6h xuwania x1mxnbhz x1sjmt1f"},a.createElement("div",{className:"x78zum5 x1qughib x6s0dn4 xp41m2r xettwda"},a.createElement("div",{...n8.xk(f6.homeShelfTitle)},(0,C.t)("community.home_shelf.title")),a.createElement("div",{className:"x78zum5 x1n2onr6 xncym2f x167g77z x6s0dn4"},a.createElement(mR.K,{"aria-label":(0,C.t)("community.home_shelf.refresh_label"),onClick:p,disabled:"loading"===s},a.createElement(fW._,null)),a.createElement(mR.K,{"aria-label":(0,C.t)("community.home_shelf.dismiss_label"),onClick:()=>r(eO.b({dismissed_community_home_shelf_recommendations:!0}))},a.createElement(sN.f,null)))),a.createElement(f3,{sizingInfo:d,resources:m,isLoading:"loading"===s})))}function f7(){return a.createElement("div",{className:"x1cqoux5"},a.createElement("div",{className:"x186iv6y xh8yej3 x176lpz5 x19y5rnk xo1570h"}))}function f3({resources:e,isLoading:t,sizingInfo:r}){let n=a.useRef(null),[o,l]=a.useState(null),[i,s]=a.useState(null),c=(0,a.useMemo)(()=>!t&&r.numberOfTiles>e.length?(0,l1.y1)(r.numberOfTiles-e.length).map(e=>a.createElement(f7,{key:e})):[],[r.numberOfTiles,e.length,t]),d=t?(0,l1.y1)(r.numberOfTiles).map(e=>a.createElement("div",{className:"x1cqoux5",key:e},a.createElement(fK,null))):e.map((e,t)=>a.createElement("div",{className:"x1cqoux5",key:e.id},a.createElement(fJ,{resource:e,isSelected:i===t,onChildFocus:()=>{l(t),s(null)},onFocus:()=>{l(t),s(t)}})));return a.createElement("div",{className:"x78zum5 x1665zp3"},a.createElement(f$.S.div,{role:"grid",tabIndex:0,style:{width:r.tileRowWidth},className:"x78zum5 x1665zp3 xh8yej3 x1qughib",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onFocus:e=>{e.target===n.current&&null===i&&(s(0),l(0))},onBlur:e=>{e.relatedTarget&&n.current?.contains(e.relatedTarget)||s(null)},ref:n,onKeyDown:t=>{if("ArrowRight"===t.key){t.preventDefault(),t.stopPropagation();let r=Math.min((o??0)+1,e.length-1);l(r),s(r)}else if("ArrowLeft"===t.key){t.preventDefault(),t.stopPropagation();let e=Math.max((o??0)-1,0);l(e),s(e)}}},d,c),a.createElement("div",{className:"x1lliihq x1i1rx1s x1hyhr7 xgcv3f"}),a.createElement("div",{style:{width:r.navigationSectionWidth}},a.createElement(f1,null)))}function f8(){let e=(0,n.wA)();return a.createElement(L.tH,{team:B.e.COMMUNITY,boundaryKey:"HomeShelf",fallback:L.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{e(t$.F.enqueue({message:"Something went wrong.",type:"react-error"}))},hasCustomWASMBuild:q.y4},a.createElement(az.fu,{name:o5.e0.COMMUNITY_HOME_SHELF},a.createElement(f2,null)))}let f6={homeShelfContainer:{margin:"x1p4momh",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,$$css:!0},homeShelf:{margin:"xhv1u6h",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,padding:"xuwania",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,background:"x1sjmt1f",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,$$css:!0},homeShelfHeader:{display:"x78zum5",justifyContent:"x1qughib",alignItems:"x6s0dn4",padding:"xp41m2r",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,height:"xettwda",$$css:!0},homeShelfHeaderActions:{display:"x78zum5",position:"x1n2onr6",left:"xncym2f",insetInlineStart:null,insetInlineEnd:null,gap:"x167g77z",rowGap:null,columnGap:null,alignItems:"x6s0dn4",$$css:!0},homeShelfTitle:{color:"x1akne3o",...lj.g.textHeadingSmall,$$css:!0},homeShelfTabContent:{display:"x78zum5",gap:"x1665zp3",rowGap:null,columnGap:null,$$css:!0},resourcesRow:{display:"x78zum5",gap:"x1665zp3",rowGap:null,columnGap:null,width:"xh8yej3",justifyContent:"x1qughib",$$css:!0},resourceWrapper:{flex:"x1cqoux5",flexGrow:null,flexShrink:null,flexBasis:null,$$css:!0},homeShelfDivider:{display:"x1lliihq",width:"x1i1rx1s",marginBottom:"x1hyhr7",borderLeft:"xgcv3f",borderLeftWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderLeftStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderLeftColor:null,borderInlineStartColor:null,borderInlineEndColor:null,$$css:!0},resourceTilePlaceholder:{aspectRatio:"x186iv6y",width:"xh8yej3",backgroundColor:"x176lpz5",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,border:"xo1570h",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0}};var f9=(e=>(e.SHOW_NOTHING="SHOW_NOTHING",e.SHOW_FILE_CREATION_THUMBNAILS="SHOW_FILE_CREATION_THUMBNAILS",e.SHOW_HOME_SHELF="SHOW_HOME_SHELF",e))(f9||{});function ge(){let e=(0,ed.Xr)(fj.x),t=function(){let e=!!(0,n.d4)(e=>e.userFlags).dismissed_community_home_shelf_recommendations,t=(0,n.d4)(({currentUserOrgId:e})=>e),r=(0,n.d4)(({orgById:e})=>e),a=(0,eP.yK)({orgById:r,currentUserOrgId:t}),o=(0,n.d4)(e=>e.user?.drafts_folder_id)??null,{data:l}=(0,_V.nt)(o),i=!!l&&f5.every(e=>(0,_V.d6)(l,e)),s=(0,ee.vt)(),c=(0,H.Yz)(),d=(0,H.Xs)(),m=(0,Q.R)(),u=(0,Q.jn)(),_=c(s)||d(u&&m);return f.Ay.mobile||!o||_?"SHOW_NOTHING":e||a||!i?"SHOW_FILE_CREATION_THUMBNAILS":"SHOW_HOME_SHELF"}();return((0,a.useEffect)(()=>{e("SHOW_HOME_SHELF"===t)},[e,t]),"SHOW_NOTHING"===t)?null:"SHOW_FILE_CREATION_THUMBNAILS"===t?a.createElement(fF,null):a.createElement(f8,null)}var gt=r(846153),gr=r(803721);let ga="seen_config_registration_promo_banner_2025",gn=e=>"ja"===e?!!(0,o.k)().marketing_promo_banner_ja:"es"===e?!!(0,o.k)().marketing_promo_banner_es:!!(0,o.k)().marketing_promo_banner;function go(){let e=(0,n.wA)(),t=(0,of.DP)(),r=!!(0,aW.f)(ga),o=()=>{e(eO.b({[ga]:!0}))},l=aL.tl();return gn(l.user_data?.locale)&&!r?a.createElement(az.fu,{name:"Register for Config 2025",properties:{severity:us.c.EVENT}},a.createElement("div",{...n8.Ay.props("light"===t?gl.wrapperLight:gl.wrapperDark)},a.createElement("div",{className:"x78zum5 x1i71x30 x6s0dn4 x1w5s15c x1fiy98q"},a.createElement(es.B,{svg:gr.A,className:"xi0feg2 x1srfx4r"}),a.createElement("h2",{...n8.Ay.props(gl.title)},(0,C.tx)("banner.marketing_promo.config_registration_2025.title"))),a.createElement(ea.e2,{className:"x78zum5 x6s0dn4 x1nfngrj"},a.createElement(ea.vd,{className:"x1rzfmdx x1jru3a6",onClick:()=>(0,l2.FJ)("https://config.figma.com/virtual?utm_source=figma&utm_medium=prod&utm_campaign=virtual","_blank")},(0,C.tx)("banner.marketing_promo.primary_cta")),a.createElement(mR.K,{"aria-label":(0,C.t)("general.close"),onClick:()=>o()},a.createElement(gt.A,{className:"xtlvio2"}))))):null}iB.jH.spacer2,iB.jH.spacer5,iB.jH.spacer3,iB.Tj.text,iB.jH.spacer3;let gl={wrapperLight:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x1qughib",padding:"x1hcpp98 x1ek2pqi",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,backgroundColor:"x1w7jdwm",color:"x1akne3o",fontFamily:"x122x9cr",gap:"x1i71x30",rowGap:null,columnGap:null,$$css:!0},wrapperDark:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x1qughib",padding:"x1hcpp98 x1ek2pqi",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,backgroundColor:"xrsbgyi",color:"x1akne3o",fontFamily:"x122x9cr",gap:"x1i71x30",rowGap:null,columnGap:null,$$css:!0},title:{...lj.g.textBodyLarge,display:"x78zum5",alignItems:"x6s0dn4",gap:"x1i71x30",rowGap:null,columnGap:null,textWrap:"x1fzhlzt",$$css:!0}};var gi=r(972813);let gs=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,gi.vh)(),this.PlanFilterOptionsSchemaValidator=(0,gi.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function gc(){return{"":{label:(0,C.t)("shared_with_you.filters.all_organizations")}}}let gd=t6.M4.Query({fetch:async e=>{let t=await gs.getPlanFilterOptions({resource_type:e}),r={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(r[e.plan_id]=t)}),{...gc(),...r}}});function gm(e){let t=e.join("&resource_type[]="),[r]=(0,t6.IT)(gd(t));return r.data||gc()}function gu(){return{"":(0,C.t)("shared_with.you.filters.anyone")}}function g_(e){let[t,r]=(0,a.useState)(gu()),n=e.join("&resource_type[]=");return(0,a.useEffect)(()=>{gs.getSharerFilterOptions({resource_type:n}).then(({data:e})=>{r(e.meta.shared_by_filters.reduce((e,{user_id:t,label:r})=>({...e,[t]:r}),{...gu()}))})},[n]),t}var gp=r(802078),gf=r(64018),gg=r(431118);function gE(e){let t=(0,aB.Rs)(a$.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),r=(0,a.useCallback)(()=>{"loaded"===t.status&&t.data.sharedWithYouResources.hasNextPage()&&t.data.sharedWithYouResources.loadNext(30)},[t]),n="loaded"===t.status&&t.data.sharedWithYouResources.isLoadingNextPage;return{subscription:t,fetchNextPage:r,isFetchingNextPage:n}}function gv(e){let t=(0,eC._6)(),r=(0,n.d4)(e=>e.tileSortFilterStateByView),o="recentsAndSharing"===t.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,l=g_(["file","file_repo","prototype"]),s=gm(["file","file_repo","prototype"]),c={tileSortFilterConfig:o,sortKeys:[lY.C0.SHARED_AT]},{subscription:d,fetchNextPage:m,isFetchingNextPage:u}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:n}=gE({...e,resourceTypes:["file","file_repo","prototype"]});return{subscription:(0,a.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFile){let r=function(e){if(null==e||null==e.file)return null;let{file:t,...r}=e,a={...t,...r,editUrl:`${window.location.origin}/file/${t.key}/${(0,gg.sy)(t.name||"")}`,signedPreviewThumbnailUrls:null,trackTags:null};return(0,t4.fA)(t7.F.toSinatra(a),{sharedAt:r.sharedAt,sharedByUser:r.sharedByUser})}(t.sharedWithYouFile);r&&e.push(r)}else if(t.sharedWithYouRepo){let r=function(e){let{repo:t,...r}=e;if(null===t)return null;let{branches:a,...n}=t,o=a?.filter(e=>null!=e)?.map(e=>t8.V1({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${gg.sy(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],l=(0,t8.V1)({...n,...r});return(0,t8.V1)({type:t4.nb.REPO,repo:l,branches:o,selectedBranchKey:""},{repoPerms:(0,gf.zh)(t)})}(t.sharedWithYouRepo);r&&e.push(r)}else if(t.sharedWithYouPrototype){let r=function(e){let{prototype:t,...r}=e;if(null==t)return null;let a=(0,t8.V1)({...t,...r});return(0,t8.V1)({type:t4.nb.PROTOTYPE,prototype:a},{prototypePerms:(0,gp.R)(t)})}(t.sharedWithYouPrototype);r&&e.push(r)}return e},[])),[t]),fetchNextPage:r,isFetchingNextPage:n}}({sharedBy:o.filters.sharedBy??"",planId:o.filters.plan?.planId??"",planType:o.filters.plan?.planType??"",fileType:(e=>{switch(e){case lY.t2.DESIGN:return"design";case lY.t2.FIGJAM:return"whiteboard";case lY.t2.PROTOTYPE:return"prototype";case lY.t2.SITES:return"sites";case lY.t2.SLIDES:return"slides";case lY.t2.ANY:return null;default:(0,I.xb)(e)}})(o.filters.fileType)??"",sortOrder:o.sort.dir===lY.ue.ASC?"asc":"desc",sortKey:(0,lY.De)(o.sort.key)??"shared_at"}),_=(0,a.useMemo)(()=>d.unwrapOr([]),[d]),{trackPerformanceEvent:p}=(0,dW.S)("swy_files_pagination_performance","livegraph");(0,a.useEffect)(()=>{p("fetch_end")},[p,_.length]),(0,a.useEffect)(()=>{"errors"===d.status&&p("fetch_error",{errors:JSON.stringify(d.errors??{})})},[p,d.status,d.errors]),(0,a.useEffect)(()=>(p("fetch_start"),()=>{p("fetch_cancel")}),[p]);let f=(0,a.useCallback)(()=>{u||(p("fetch_next"),m())},[u,m,p]),g="loaded"===d.status;return(0,i.kF)("SharedFiles"),(0,i.WX)({markName:"MainBodyContent",markCondition:g}),a.createElement(en.A,{loadingElementId:"loading-content-pane",delay:250,loaded:g,loadingElementClassName:S.s.pr32.$},a.createElement(c5.B,{onShouldFetchNextPage:f},a.createElement(dU,{currentPlanFilter:o.filters.plan,currentSharedByFilter:o.filters.sharedBy,eligibleForLockedStateRedesign:e.eligibleForLockedStateRedesign,emptyStateText:u?"":(0,C.t)("shared_with_you.no_items"),hideSorter:!0,isInLockedProTeamRevampExp:e.isInLockedProTeamRevampExp,newFileTile:!1,sharedWithYouFilters:{sharer:l,plan:s,fileType:!0},sortFilterOptions:c,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},tiles:_})))}function gb(){return{[lY.cT.ALL]:(0,C.t)("shared_with_you.filters.org_deleted_drafts.all"),[lY.cT.SHARED]:(0,C.t)("shared_with_you.filters.org_deleted_drafts.shared"),[lY.cT.ORG_DELETED_DRAFTS]:(0,C.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function gh(e){let t=(0,eC._6)(),r=(0,ny.ol)(),o=(0,aB.Rs)(a$.kQI,{id:r?.id||""},{enabled:!!r}),l=(0,aB.Rs)(a$.TNJ,{id:r?.id||""},{enabled:!!r}),s=(0,n.d4)(e=>e.tileSortFilterStateByView),c="recentsAndSharing"===t.view?s.recentsAndSharing.sharedProjects:s.sharedWithYou,d=g_(["folder"]),m=gm(["folder"]),u=gb(),_={tileSortFilterConfig:c,sortKeys:[lY.C0.SHARED_AT]},{subscription:p,fetchNextPage:f,isFetchingNextPage:g}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:n}=gE({...e,resourceTypes:["folder"]});return{subscription:(0,a.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:r,...a}=t.sharedWithYouFolder;if(null==r)return e;let n=r.updatedAt.toString(),o=r.activeProjectResourceConnections?.[0]??null,l=(0,t8.V1)({...r,...a},{created_at:r.createdAt.toString(),updated_at:n,deleted_at:r.deletedAt?.toString()||null,touched_at:n,is_connected_project:!!o,resource_connection:o?{hostPlanName:o.hostPlanName,connectedPlanName:o.connectedPlanName}:null});e.push(l)}return e},[])),[t]),fetchNextPage:r,isFetchingNextPage:n}}({sharedBy:c.filters.sharedBy??"",planId:c.filters.plan?.planId??"",planType:c.filters.plan?.planType??"",orgDeletedDrafts:"",sortOrder:c.sort.dir===lY.ue.ASC?"asc":"desc",sortKey:(0,lY.De)(c.sort.key)??"shared_at"}),E=(0,a.useMemo)(()=>p.unwrapOr([]),[p]),v=(0,a.useMemo)(()=>E.map(e=>e.id),[E]),{trackPerformanceEvent:b}=(0,dW.S)("swy_projects_pagination_performance","livegraph");(0,a.useEffect)(()=>{b("fetch_end")},[b,v.length]),(0,a.useEffect)(()=>{"errors"===p.status&&b("fetch_error",{errors:JSON.stringify(p.errors??{})})},[b,p.status,p.errors]),(0,a.useEffect)(()=>(b("fetch_start"),()=>{b("fetch_cancel")}),[b]);let h=(0,a.useCallback)(()=>{g||(b("fetch_next"),f())},[g,f,b]),y="loaded"===o.status&&!!o.data.team&&o.data.team.hasPermission,w=!!l.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,T="loaded"===p.status;return(0,i.kF)("SharedProjects"),(0,i.WX)({markName:"MainBodyContent",markCondition:T}),a.createElement(en.A,{loadingElementId:"loading-content-pane",delay:250,loaded:T,loadingElementClassName:S.s.pr32.$},a.createElement(c5.B,{onShouldFetchNextPage:h},a.createElement(ms,{canAdminTeam:w,canEditTeamContents:y,chunkSize:E.length,currentPlanFilter:c.filters.plan,eligibleForLockedStateRedesign:!!r&&e.eligibleForLockedStateRedesign,emptyStateText:g?"":(0,C.t)("shared_with_you.no_items"),folderList:E,isInLockedProTeamRevampExp:!!r&&e.isInLockedProTeamRevampExp,isSharerInfoIncluded:!0,selectedView:t,sharedWithYouFilters:{sharer:d,plan:m,orgDeletedDrafts:u},showTeamNameOrAuthor:!1,sortFilterOptions:_,team:r,teamId:r?r.id:void 0,useLGPerms:!0,viewId:"shared-with-you-projects"})))}function gy(){let e=(0,ee.vt)(),t=(0,H.Yz)(),r=(0,H.Xs)(),o=(0,Q.R)(),l=(0,Q.jn)(),i=(0,n.d4)(e=>e.user?.drafts_folder_id??null),s=t(e)||r(l&&o),{shouldShowTemplatesBar:c,hideTemplatesBar:d}=_z({folderId:i,hideTemplatesUserFlag:"hide_recommended_templates_in_recents",isShowingLockedRedesign:s});return i?c?a.createElement(_G.Lt,{onClose:d,folderId:i,newFileFrom:iv.f6.FILE_BROWSER_TOPBAR_RECENTS}):f.Ay.mobile||s?null:a.createElement(fF,null):null}var gw=r(477995),gT=r(772138),gx=r(429409),gI=r(26501),gk=r(426189),gS=r(362959);let gC=e=>a.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),gN=(0,tf.Ju)(function(e){let t=(0,n.wA)(),r=(0,K.iZ)();return r?a.createElement(gk.u,{tintedModalBackground:!0,headerText:(0,C.t)("interstitial.unsubscribe_success_header")},a.createElement("div",{className:gS.Yg},(0,C.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:gC((()=>{switch(e.policyType){case"FileCommentActivity":return(0,C.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,C.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,C.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,C.t)("interstitial.workspace_activity");default:(0,I.xb)(e.policyType)}})()),emailAddress:gC(r.email)})),a.createElement(ea.nD,{onClick:()=>{t(tv.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},(0,C.tx)("interstitial.done")),a.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,tv.to)({type:gI.s,data:{tab:gI.c.NOTIFICATIONS}})),t(tv.aZ())}},(0,C.tx)("interstitial.open_notifications_settings"))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var gR=r(493640),gA=r(666428);let gO={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0};function gF({eligibleForLockedStateRedesign:e,isInLockedProTeamRevampExp:t}){let r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,gA.ql)(r||null),l=(0,gA.O8)(r||null),s=a.useMemo(()=>o.transform(e=>e.map(e=>(0,t4.fA)(e))),[o]),c=a.useMemo(()=>l.transform(e=>e.map(t4.Nu)),[l]),d=function(){let e=(0,n.d4)(e=>e.recentRepos),t=(0,n.d4)(e=>e.selectedBranchKeyByRepoId);return a.useMemo(()=>e.map(e=>(0,t4.uy)(e,t)),[e,t])}(),m=function(){let e=(0,m8.Rp)();return a.useMemo(()=>Object.values(e).map(t4.gB),[e])}(),u=a.useMemo(()=>tV.Qw.merge([s,c],d,m),[m,s,c,d]),_=(0,n.d4)(e=>e.tileSortFilterStateByView),p=a.useMemo(()=>({tileSortFilterConfig:_.recentsAndSharing.recents,sortKeys:[lY.C0.NAME,lY.C0.CREATED_AT,lY.C0.ACCESSED_AT]}),[_]),g="loaded"===u.status;return(0,i.kF)("RecentFiles"),(0,i.WX)({markName:"MainBodyContent",markCondition:g}),a.createElement(en.A,{loadingElementId:"loading-content-pane",loaded:g,loadingElementClassName:S.s.pr32.$},a.createElement(dU,{tiles:u.data,tileActions:gO,sortFilterOptions:p,newFileTile:!0,emptyStateText:f.Ay.mobile||f.Ay.tablet?(0,C.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",hideSorter:!0,eligibleForLockedStateRedesign:e,isInLockedProTeamRevampExp:t}),a.createElement(cH.cx,null))}var gD=r(828935),gL=r(345908);let gP="seen_shared_files_onboarding",gM=(0,ef.r1)("seen_account_profile_switcher_onboarding"),gB=(0,ef.r1)(gP);function gU(){let e=(0,ed.md)(gM),t=(0,ed.md)(gB),r=(0,ep.e)({overlay:eh.fz8,priority:eE.N.SECONDARY_MODAL},[t,e]);return(0,m.h)(()=>{r.show({canShow:(e,t)=>t&&!e})}),a.createElement(ev.rq,{targetKey:gL.Bh,isShowing:r.isShowing,title:(0,C.tx)("rcs.shared_with_you.shared_files_title"),description:(0,C.tx)("rcs.shared_with_you.shared_files_description",{recents:a.createElement("span",{className:S.s.fontBold.$},(0,C.tx)("rcs.shared_with_you.recents"))}),primaryCta:{type:"button",label:(0,C.tx)("rcs.got_it"),onClick:r.complete,ctaTrackingDescriptor:e_.c.DONE},width:350,onClose:r.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:gP})}let gj=[ih.G.RECENTLY_VIEWED,ih.G.SHARED_FILES,ih.G.SHARED_PROJECTS],gW=e=>{switch(e){case ih.G.RECENTLY_VIEWED:return(0,C.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case ih.G.SHARED_PROJECTS:return(0,C.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case ih.G.SHARED_FILES:return(0,C.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,I.xb)(e)}};function g$(e){let t=e.options.tileSortFilterConfig.filters.sharedBy,r=e.options.tileSortFilterConfig.filters.plan;return a.createElement("div",{className:S.s.flex.flexWrap.gap18.$},a.createElement(a.Fragment,null,e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&a.createElement(a.Fragment,null,t&&a.createElement(nP.qD,{userId:t}),a.createElement(nP.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&a.createElement(a.Fragment,null,r?.planId&&a.createElement(nP.lV,{planOption:e.filters.plan[r.planId]}),a.createElement(nP.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),e.filters?.fileType&&a.createElement(a.Fragment,null,a.createElement(nP.ye,{config:e.options.tileSortFilterConfig,tab:e.tab}))))}function gH(e){let t=e.selectedTab,r=(0,n.wA)(),l=(0,eC._6)(),i=(0,n.d4)(e=>e.tileSortFilterStateByView),s=t===ih.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],c=g_(s),d=function(){let e=(0,K.TA)(),t=(0,n.d4)(e=>e.authedUsers),r=(0,n.d4)(e=>e.plans),a=(0,n.d4)(e=>e.orgById),l=(0,n.d4)(nT.P),i=(0,o.k)().limited_plan_spaces,s=e?t.byId[e]:null;return(i?r.map(e=>{let t="";if(e.plan_type===ib.O.ORG){let r=a[e.plan_id];t=r?.name??t}else{let r=l[e.plan_id];t=r?.name??t}return{label:t,plan_id:e.plan_id,plan_type:e.plan_type===ib.O.ORG?ib.O.ORG:ib.O.TEAM}}):(s?.plans??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"}))).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...gc()})}(),m=gm(s),u=gb(),_={sharer:t!==ih.G.RECENTLY_VIEWED?c:void 0,plan:t===ih.G.RECENTLY_VIEWED?d:m,fileType:t!==ih.G.SHARED_PROJECTS,orgDeletedDrafts:t===ih.G.SHARED_PROJECTS?u:void 0},p=a.useMemo(()=>{let e;switch(t){case ih.G.RECENTLY_VIEWED:e=i.recentsAndSharing.recents;break;case ih.G.SHARED_FILES:e=i.recentsAndSharing.sharedFiles;break;case ih.G.SHARED_PROJECTS:e=i.recentsAndSharing.sharedProjects;break;default:(0,I.xb)(t)}return{tileSortFilterConfig:e,sortKeys:ih.o[t]}},[t,i]),f=e=>{e===ih.G.SHARED_FILES?(0,nA.sx)("file_browser_shared_files"):e===ih.G.SHARED_PROJECTS&&(0,nA.sx)("file_browser_shared_projects"),r(eS.$T({view:"recentsAndSharing",tab:e}))},g=e=>{(0,nA.sx)("file view toggle",{viewType:e===lY.XU.GRID?"grid":"list"}),Object.keys(ih.G).map(t=>{r(eS.JF({selectedView:l,config:{...p.tileSortFilterConfig,viewMode:e},tab:ih.G[t]}))},r(eS.uV({viewId:"shared-with-you-projects",viewMode:e})))},E=a.createElement("div",{className:S.s.flex.alignCenter.$},a.createElement(nP.$c,{initialViewMode:p.tileSortFilterConfig.viewMode,onViewModeChange:g})),v=a.createElement(nP.mc,{options:p,selectedView:l,dispatch:r,tab:t}),b=a.createElement("div",{className:S.s.flex.gap18.$,key:"sortWithViewOptions"},v,!(0,o.k)().file_browser_ia_overhaul_remove_list_view&&E),h=a.createElement(g$,{options:p,filters:_,tab:t,key:"recentsAndSharingTileFilters"}),y=a.createElement(nP.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:p,filters:_,onViewModeChange:g,tab:t}),[w,T,x]=s5.t.useManagedTabs({[ih.G.RECENTLY_VIEWED]:!0,[ih.G.SHARED_FILES]:!0,[ih.G.SHARED_PROJECTS]:!0},e.selectedTab,e=>{f(e)}),k=gj.map((e,t)=>{let r=e===ih.G.SHARED_FILES?gL.Bh:"";return a.createElement(s5.t.Tab,{key:t,...w[e],htmlAttributes:{"data-onboarding-key":r}},gW(e))});return a.createElement(a.Fragment,null,a.createElement(gD.p,null,a.createElement(gU,null)),a.createElement(nP.g2,{leftSide:a.createElement(et.J,null,a.createElement(s5.t.TabStrip,{manager:x},k)),rightSide:[h,b],rightSideMobile:y}))}var gG=r(691191),gV=r(55726);function gz(e){let t=e.isDisabled||e.isLoading;return a.createElement(_Y.v,{mode:e.brand},a.createElement(iM.E,{...n8.xk(gq.button,!!e.brand&&gq.buttonBrand),onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,disabled:t,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":!e.isLoading&&e.isDisabled?(0,C.t)("file_browser.creation_buttons.disabled_by_organization"):void 0,"data-tooltip-type":r7.Ib.TEXT},a.createElement(en.x,{loaded:!e.isLoading,loadingSkeletonElement:a.createElement(pQ.Qp,{animationType:pQ.JR.LIGHT_SHIMMER,className:"x10w6t97 xh8yej3 x1onzeue"})},a.createElement("div",{className:"x1iorvi4 xjkvuk6 x18a8kpn x163pfp x78zum5 x6s0dn4 x167g77z"},a.createElement("div",{...n8.xk(!!e.brand&&gq.iconBrand)},e.icon),a.createElement("span",{className:"x17akokd x1qxcl5b"},e.title)))))}let gq={button:{flexShrink:"x2lah0s",borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,backgroundColor:"xv2f06h x1ptam9a x1f11sc0",boxShadow:"x6bkol7 x1jwgb9s x3x7dpb xvpcept",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},buttonBrand:{backgroundColor:"x17c7w1w xvpnr9m xgtdbbj",$$css:!0},iconBrand:{"--color-icon":"x1aue78i",$$css:!0}};function gY({isDisabled:e,isLoading:t}){let r=(0,_Z.$)({editorType:eL._Y.COOPER,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(gz,{title:(0,C.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:"new-cooper-file-button",icon:a.createElement(gV.W,null),isDisabled:e,isLoading:t,onClick:r})}var gK=r(288973);function gJ({isDisabled:e,isLoading:t}){let r=(0,_Z.$)({editorType:eL._Y.DESIGN,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(gz,{title:(0,C.t)("file_browser.creation_buttons.design_short"),brand:"design",dataTestId:"new-design-file-button",icon:a.createElement(gK.n,null),isDisabled:e,isLoading:t,onClick:r})}function gX({isDisabled:e,isLoading:t}){let r=(0,_Z.$)({editorType:eL._Y.WHITEBOARD,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(gz,{title:(0,C.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:a.createElement(sQ.D,null),isDisabled:e,isLoading:t,onClick:r})}var gQ=r(606467);function gZ({isDisabled:e,isLoading:t}){let r=(0,_Z.$)({editorType:eL._Y.FIGMAKE,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(gz,{title:(0,C.t)("file_browser.creation_buttons.figmake"),dataTestId:"new-figmake-file-button",icon:a.createElement(gQ.t,null),isDisabled:e,isLoading:t,onClick:r})}function g0({isLoading:e}){let t=(0,n.wA)();return a.createElement(gz,{title:(0,C.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:a.createElement(fS.R,null),isLoading:e,onClick:()=>{t((0,_1.L)())}})}function g1({isDisabled:e,isLoading:t}){let r=(0,_Z.$)({editorType:eL._Y.SLIDES,newFileFrom:iv.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(gz,{title:(0,C.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:a.createElement(sK.l,null),isDisabled:e,isLoading:t,onClick:r})}function g4({setWidth:e}){let t=a.useRef(null),r=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:o,status:l}=(0,_V.nt)(r),i=(0,fC.h)(o),s="loading"===l,c=i.map(({editorType:e,isDisabled:t})=>{switch(e){case eL._Y.DESIGN:return a.createElement(gJ,{key:"design",isDisabled:t,isLoading:s});case eL._Y.WHITEBOARD:return a.createElement(gX,{key:"whiteboard",isDisabled:t,isLoading:s});case eL._Y.SLIDES:return a.createElement(g1,{key:"slides",isDisabled:t,isLoading:s});case eL._Y.SITES:return null;case eL._Y.COOPER:return a.createElement(gY,{key:"cooper",isDisabled:t,isLoading:s});case eL._Y.FIGMAKE:return a.createElement(gZ,{key:"figmake",isDisabled:t,isLoading:s});default:(0,I.xb)(e)}}).filter(Boolean);return c.push(a.createElement(g0,{key:"import",isLoading:s})),a.useEffect(()=>{t.current&&e(t.current?.offsetWidth)},[e,s]),a.createElement("div",{className:"x78zum5 x167g77z",ref:t},c)}function g5(){let e=(0,g.I7)("m2_product_top_bar_experiment");return a.useCallback(()=>e.getConfig().getValue("enabled",!1),[e])}function g2(){let[e,t]=a.useState(0),r=a.useRef(null),o=(0,gG.wY)(r),l=(0,n.d4)(e=>e.user?.drafts_folder_id);return a.createElement("div",{className:"xh8yej3 x9f619 x78zum5 x7v6yn8 xz9dl7a xsag5q8 xf18ygs",ref:r},a.createElement("div",{...n8.xk(g7.contentContainer,o&&o.width<e&&g7.hideButtonsOnNarrowScreens)},a.createElement(g4,{setWidth:t})),o&&o.width<e&&a.createElement(p_.kS,{from:iv.f6.FILE_BROWSER_TOPBAR_RECENTS,dropdownType:pg.x,folderId:l}))}let g7={contentContainer:{display:"x1rg5ohu",$$css:!0},hideButtonsOnNarrowScreens:{visibility:"xlshs6z",$$css:!0}};function g3(e){switch(e){case n1.bb.ACCOUNT:return gI.c.ACCOUNT;case n1.bb.COMMUNITY:return gI.c.COMMUNITY;case n1.bb.NOTIFICATIONS:return gI.c.NOTIFICATIONS}}function g8(e){let t=(0,n.wA)(),r=(0,H.Yz)(),o=(0,Q.R)(),l=(0,H.Xs)(),i=(0,ee.vt)(),s=g5(),c=uR({checks:{isEligibleForLockedRedesign:r,isInLockedProTeamRevampExp:l}}),{selectedTab:d,accountModalTab:m,emailPolicyToUnsubscribeFrom:_}=e,p=a.createElement(gH,{selectedTab:d}),f=(0,u.ZC)(m),g=(0,u.ZC)(_);!function(){let e=(0,n.wA)(),t=(0,x.RR)(),r=(0,te.yN)({phase:"passthrough",component:"useUpgradeRequestModalOnPageLoad",attribute:"currentPlan",legacy:(e,t)=>t?{planType:eL.OL.ORG,id:t.id}:e?{planType:eL.OL.TEAM,id:e.id}:null,migrated:e=>e?.key.parentId?{id:e.key.parentId,planType:e.tier}:null}),o=(0,_f.QL)("one_click_upgrade_request_type"),l=(0,_f.QL)("upgrade_modal_type")||"",i=(0,_f.QL)("entry_point")||"",s=(0,pI.px)(o??l),c=(0,aB.Rs)(a$.LmV,{orgId:r?.planType===eL.OL.ORG?r.id:null,teamId:r?.planType===eL.OL.TEAM?r.id:null},{enabled:!!r?.id&&!!s});(0,a.useEffect)(()=>{if(("disabled"===c.status||"loaded"===c.status)&&((0,_f.EM)("one_click_upgrade_request_type"),(0,_f.EM)("upgrade_modal_type"),(0,_f.EM)("entry_point")),!r||"loaded"!==c.status||!s||t)return;let a=c.data.currentUser.baseOrgUser;if(a&&(0,pI.qX)(s,c.data.currentUser.baseOrgUser)){let t=a.licenseGroupMember&&a.licenseGroupMember.licenseGroupId?{license_group_id:a.licenseGroupMember.licenseGroupId}:void 0;e((0,tv.to)({type:pN.YG,data:{orgId:r.id,orgUser:{id:a.id,permission:a.permission,license_group_member:t,user_id:a.user.id,org_id:r.id},licenseType:s,entryPoint:(0,gT.K)(_Q.PE,i)??(0,gT.K)(_Q.tc,i)??(0,gT.K)(_Q.i$,i)??(s===pI.Te.DEV_MODE?_Q.i$.DowngradeEmail:_Q.PE.DEPRECATED_Recents),isOneClickUpgradeRequest:!!o,trackForDowngradeNotificationExperiment:!0}}));return}let n=c.data.currentUser.teamUser;if(n&&o&&function(e,t){switch(e){case pI.Te.WHITEBOARD:return t?.whiteboardPaidStatus===eL.Zf.RESTRICTED;case pI.Te.DESIGN:return t?.designPaidStatus===eL.Zf.RESTRICTED;default:return!1}}(s,n)){e((0,tv.to)({type:pR.PK,data:{team:{id:r.id},isOneClickUpgradeRequest:!!o,editorType:(0,pI.gN)(s),entryPoint:(0,gT.K)(_Q.tc,i)??(0,gT.K)(_Q.Wc,i)??i}}));return}},[e,s,t,o,i,c,r])}(),(0,gw.V)();let E=(0,e9.aH)();(0,a.useEffect)(()=>{m&&m!==f?(t((0,tv.to)({type:gI.s,data:{tab:g3(m)}})),t(eS.$T({view:"recentsAndSharing"}))):_&&_!==g&&(gx.z.updateUserCommunicationPreference({channelType:"email",policyType:_,policySetting:"none"}).then(()=>{t((0,tv.to)({type:gN,data:{policyType:_}}))}).catch(e=>{t((0,tv.to)({type:gI.s,data:{tab:g3(n1.bb.NOTIFICATIONS)}})),t(t$.F.dequeue({}))}),t(eS.$T({view:"recentsAndSharing"})))},[m,f,_,g,t]);let v=(0,pD.u9)()?a.createElement(gR.x,null):s()?void 0:E()?a.createElement(ge,null):a.createElement(gy,null);return a.createElement(oV.r,{banner:c?a.createElement(uP,{folderId:null}):a.createElement(go,null),viewbar:p,viewBarSticky:!0,toolbar:v,content:function(e,t){switch(e){case ih.G.SHARED_FILES:return a.createElement(gv,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});case ih.G.SHARED_PROJECTS:return a.createElement(gh,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});case ih.G.RECENTLY_VIEWED:return a.createElement(gF,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});default:(0,I.xb)(e)}}(d,{eligibleForLockedStateRedesign:r(i),isInLockedProTeamRevampExp:l(o)})})}var g6=r(518429),g9=r(722295);let Ee=(0,lp.rw)();function Et(e){let t=(0,n.wA)(),r=[a.createElement(Ee,{tab:g6.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(eS.$T({view:"sharedWithYou",tab:g6.G.FILES}))},mobileNavTabTitle:(0,C.t)("shared_with_you.toolbar.files")},(0,C.tx)("shared_with_you.toolbar.files")),a.createElement(Ee,{tab:g6.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(eS.$T({view:"sharedWithYou",tab:g6.G.PROJECTS}))},mobileNavTabTitle:(0,C.t)("shared_with_you.toolbar.projects")},(0,C.tx)("shared_with_you.toolbar.projects"))];return a.createElement(g9.W,{resetTileSelectionOnMouseDown:!0,tabs:r})}function Er(e){return a.createElement(oV.r,{toolbar:a.createElement(Et,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return a.createElement(gv,null);case"projects":return a.createElement(gh,null)}}(e.tab)})}var Ea=r(360791),En=r(867553),Eo=r(426451),El=r(663128);function Ei(){return a.createElement("div",{className:S.s.flex.p12.colorBgSelected.bRadius6.$},a.createElement("div",{className:S.s.mr12.colorIcon.itemSelfCenter.$},a.createElement(es.B,{svg:El.A})),(0,C.tx)("sidebar.meta.this_team_is_for_education_users_only"),a.createElement(ea.Us,{target:"_blank",trusted:!0,href:"/education/"},(0,C.tx)("org_home_view_meta.learn_more")))}function Es({team:e}){let t=(0,n.wA)(),r=(0,aB.Rs)(a$.kQI,{id:e.id}),o=!!r.data?.team?.hasPermission,[{data:l}]=(0,_.IT)((0,z.Xg)({teamId:e.id})),i=(l||[]).filter(e=>""!==e.name).length,s=(0,g.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&o&&i>=aS.Wf)||s.getConfig().getValue("show_upsell",!1))return null;let c=a.createElement(ea.Us,{onClick:()=>{t((0,tv.to)({type:aU.V,data:{teamId:e.id,upsellSource:aH.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:e_.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},(0,C.tx)("file_browser.starter_team.upgrade_link"));return a.createElement(az.fu,{name:"Starter Team Upsell Footer"},a.createElement("div",{className:j()(S.s.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--pM4nA"),"data-testid":"starterTeamUpsellFooter"},a.createElement("div",{className:j()(S.s.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--H-soB")},a.createElement("strong",null,i===aS.Wf?(0,C.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:aS.Wf}):(0,C.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")),a.createElement("p",{className:S.s.alignCenter.$},(0,C.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:c})))))}var Ec=r(335547),Ed=r(675675);let Em="professional_badge_onboarding_key",Eu="seen_professional_badge_overlay";function E_({teamId:e}){let t=(0,n.d4)(e=>e.userTeamFlags),r=t[e]?.[Eu],o=t[e]?.[_R.UA],l=(0,H.kO)(),i=(0,ep.e)({overlay:eh.zMZ,priority:eE.N.DEFAULT_MODAL,experiment:{check:l,predicate:e=>e,postCheck:()=>!0}}),s=(0,n.wA)();return((0,a.useEffect)(()=>{o&&!r&&i.show()},[i,o,r]),i.isShowing)?a.createElement(ev.rq,{isShowing:i.isShowing,title:(0,C.tx)("pro_onboarding.see_whats_included"),description:(0,C.tx)("pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"),targetKey:Em,onClose:()=>{s(a1.bE({all_team_flags:[{team_id:e,flags:{[Eu]:!0}}]})),i.complete()},trackingContextName:o5.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:_S.S.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:pn.EL.FALLBACK,clickOutsideToHide:!0}):null}let Ep="seen_pro_onboarding_unlimited_projects_overlay",Ef=(0,ef.r1)(Ep);function Eg({teamId:e}){let t=(0,ed.md)(Ef),r=(0,ed.md)(_k.e),o=(0,n.d4)(e=>e.userTeamFlags),l=o[e]?.[_R.UA],i=o[e]?.[Eu],s=(0,H.kO)(),{show:c,isShowing:d,complete:u}=(0,ep.e)({overlay:eh._9u,priority:eE.N.DEFAULT_MODAL,experiment:{check:s,predicate:e=>e,postCheck:e=>!e}},[t,r]);return((0,m.h)(()=>{l&&i&&c({canShow:(t,r)=>r.some(t=>t.id===e)})}),d)?a.createElement(_C.M,{isShowing:d,userFlagOnShow:Ep},a.createElement(az.fu,{name:_S.S.getTooltipTrackingContext("Unlimited Projects"),properties:_S.S.getTrackingProperties(e)},a.createElement(_N.jA,{dismissModal:u}))):null}function EE(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,n.d4)(({dropdownShown:e})=>e),l=e.team.org_id??null,i=(0,Z.Q)({currentOrgId:l,currentTeamId:null}),s=(0,n.d4)(e=>e.favorites.collapsedCustomSections),c=(0,tp.S)(),d=a.useMemo(()=>{if("loaded"===i.status)return(0,V.T0)(i.data,e.team.id)},[i,e.team.id]),m=void 0!==d;if("loaded"!==i.status)return a.createElement("div",{className:S.s.flex.itemsCenter.colorIcon.$},a.createElement(es.B,{svg:pv.A}));let u=(0,V.gV)(i.data,l),_=e.dropdownKey&&o&&o.type===e.dropdownKey&&o.data&&o.data.targetRect,p=r.current&&o?.data?.targetRef===r.current&&o?.type===nW.jU,f=r.current,g=[];return e.showInvite&&g.push(a.createElement(lr.c$,{key:"import",children:(0,C.tx)("file_browser.team.invite"),onClick:e.onInviteClick})),g.push(a.createElement(lr.c$,{key:"share",children:(0,C.tx)("file_browser.team.view_members"),onClick:t=>e.onMembersClick(t)})),c&&g.push(a.createElement(lr.c$,{key:"add-to-favorites-section",children:a.createElement("div",{className:S.s.flex.justifyBetween.itemsCenter.w150.$},(0,C.tx)("favorited_resources.add_to_sidebar"),a.createElement(es.B,{svg:pb.A})),onClick:a=>{a.stopPropagation(),r.current&&t(eS.j7({type:nW.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.team.id}}))}})),a.createElement("span",null,a.createElement(iM.E,{className:j()(S.s.flex.itemsCenter.colorIcon.$,pm.HM),ref:r,onClick:r=>{e.dropdownKey&&f&&t(eS.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},a.createElement(pE.J,null)),_&&a.createElement(pd.Cf,{targetRect:o.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&a.createElement(rh.t,{updateFavorite:(r,a)=>{(!u||r)&&(e.setFavorite(r,d?.resource.id,a),r&&a&&(s.delete(a),t(eA.U6({collapsedCustomSections:s})),r2.Fp({type:"topLevel",id:"custom",orgId:l,sectionId:a},!0)))},resourceId:e.team.id,resourceType:eL.bk.TEAM,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(i.data?.currentUser?.userSidebarSections?(0,er.oA)(i.data.currentUser.userSidebarSections):null)??[],customSectionOrdering:i.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var Ev=r(619706),Eb=r(533384),Eh=r(539578),Ey=r(637307),Ew=r(398599),ET=r(185214),Ex=r(928001),EI=r(572754),Ek=r(134428),ES=r(366115),EC=r(814618);function EN(e){let{team:t,orgTeamActionType:r}=e;switch(r){case oD.gO.CLICK_JOIN:case oD.gO.BYPASS_REQUEST:return a.createElement(a.Fragment,null,(0,C.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),a.createElement("br",null),(0,C.tx)("file_browser.team.please_join_team"));case oD.gO.CLICK_REQUEST:return a.createElement(a.Fragment,null,(0,C.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),a.createElement("br",null),(0,C.tx)("file_browser.team.please_request_to_join_team"));case oD.gO.CLICK_WITHDRAW:return(0,C.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,C.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function ER({team:e}){let t=(0,n.d4)(t=>(0,oD.YP)(e,t.teamRoleRequests[e.id],(0,tz.getPermissionsState)(t),t.currentUserOrgId)),r=(0,n.d4)(t=>t.teamRoleRequests[e.id]),o=(0,n.wA)(),l=a.createElement("div",{className:"team_page_view--nonMemberViewContainer--uleTt"},a.createElement("div",{className:"team_page_view--header--sTxh6"},a.createElement(rv.nl,{team:e,size:rv.Pf.LARGE}),a.createElement("span",{className:"team_page_view--teamName--9MXYi text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.name)),a.createElement("div",{className:"team_page_view--joinOptionText--McFNQ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},a.createElement(EN,{team:e,orgTeamActionType:t})),a.createElement("div",{className:"team_page_view--joinButton--waTM-"},a.createElement(Eh.m,{team:e,onJoin:(0,pz.GR)(o,e.id),onLeave:()=>{o(tv.to({type:oM.p,data:{teamId:e.id}}))},onJoinRequestOverride:()=>{o(tv.to({type:pC.$,data:{team:e}}))},onBypassRequestOverride:(0,pz.GR)(o,e.id,ua.e6.OWNER),onWithdrawRequestForTeamOverride:()=>{let e=r?.id;e&&o(px.lT({requestId:e}))},isCardActive:!1})));return a.createElement(oV.r,{content:l})}function EA({teamId:e,selectedTab:t,upgradeModalType:r,showProOnboardingModal:l,showResourceConnectionInviteModal:i}){let s=(0,nE.R)(t=>{let r=t.teams[e];return r&&{...r,canAdmin:(0,tz.canAdminTeam)(e,t),canEdit:(0,tz.canEditTeam)(e,t),canRead:(0,tz.canViewTeam)(e,t),isCurrentUserInTeam:(0,tz.hasViewerRoleAccessOnTeam)(e,t),canEditTeamContents:(0,tz.hasEditorRoleAccessOnTeam)(e,t)}}),c=(0,n.d4)(e=>e.currentUserOrgId),d=(0,n.d4)(e=>s&&s.org_id&&e.orgById[s.org_id]||null),u=(0,n.d4)(e=>e.loadingState),_=(0,n.wA)(),p=(0,eC._6)(),[f,g]=a.useState(!1);(0,Ea.w)(e);let E=(0,ET.Z)(i),v=(0,Ew.t)(E,i);a.useEffect(()=>{i&&v()},[i,v]);let b=(0,aS.w5)(s)&&!s?.org_id,h=(0,aB.Rs)(a$.GyZ,{teamId:e}),y="loaded"===h.status,w=a.useMemo(()=>(0,EI.X)(h),[h]),T={canAdminTeam:!!(w&&w.canAdmin),canEditTeam:!!(w&&w.canEdit),canReadTeam:!!(w&&w.canRead)},{canAdminTeam:x,canReadTeam:I}=T;(0,m.h)(()=>{let e=(0,_f.QL)("team_role_redemption");if(e&&parseInt(e)in ua.e6){let e=(0,Ek.VE)();e&&_(t$.F.enqueue({message:e})),(0,_f.EM)("team_role_redemption")}}),(0,m.h)(()=>{if(!(0,o.k)().auto_accept_team_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,_f.QL)("auto_role");t&&null!==s&&t in e&&((s?.canRead||"100"!==t)&&(s?.canEdit||"300"!==t)&&(s?.canAdmin||"900"!==t&&"999"!==t)&&_(t$.F.enqueue({message:(0,C.t)("join_team_flash.auto_accept_team_invite_modal",{teamName:s?.name||"",inviteType:e[t]})})),(0,_f.EM)("auto_role"))}),a.useEffect(()=>{let e=Ey.um.loadingKeyForPayload();(0,Ex.VP)(u,e)||(0,Ex.D2)(u,e)||_(Ey.um())},[_,u]),a.useEffect(()=>{c&&_((0,pk.Rw)())},[_,c]),a.useEffect(()=>{if(s)g(!1);else{let t=pz.HD.loadingKeyForPayload({teamId:e}),r=`TEAM_GET_ACTION_${e}`;c&&!u[t]?_(pz.HD({teamId:e,disableFlashError:!0})):(0,Ex.VP)(u,t)||(0,Ex.VP)(u,r)||g(!0)}},[_,u,s,e,c]),a.useEffect(()=>{if(!s||s.org_id)return;let e=_p.m$.loadingKeyForPayload({teamId:s.id});if((0,Ex.VP)(u,e)||(0,Ex.D2)(u,e)||_(_p.m$({teamId:s.id})),t===aC.A$.BILLING){let e=uO.Be.loadingKeyForPayload({teamId:s.id}),t=uO.NP.loadingKeyForPayload({teamId:s.id}),r=!(0,Ex.D2)(u,e)&&!(0,Ex.VP)(u,e),a=!(0,Ex.D2)(u,t)&&!(0,Ex.VP)(u,t);(r||a)&&_(uO.Q({teamId:s.id}))}else if(t===aC.A$.MEMBERS){let e=_p.m$.loadingKeyForPayload({teamId:s.id});(0,Ex.VP)(u,e)||(0,Ex.D2)(u,e)||_(_p.m$({teamId:s.id}))}else if(t===aC.A$.SETTINGS){let e=uO.Be.loadingKeyForPayload({teamId:s.id});x&&b&&!(0,Ex.VP)(u,e)&&!(0,Ex.D2)(u,e)&&_(uO.Q({teamId:s.id}))}},[_,t,u,s,d,b,x]);let k=(0,K.Pc)(),S=(0,aB.Rs)(a$.Cit,{teamId:e}),N=S.data?.team?.currentTeamUser,R=(0,rg.R)();a.useEffect(()=>{let e;if(!(s&&k&&N&&r)||!b)return;let a=r===eL.G_.DEV_MODE,n=r===eL.G_.WHITEBOARD?eL._Y.WHITEBOARD:eL._Y.DESIGN;if(n===eL._Y.DESIGN?e=N.designAccountTypeRequest?.status==="pending":n===eL._Y.WHITEBOARD&&(e=N.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&_(a0.s.flash((0,C.t)("team_view.request_upgrade.request_already_sent"))),!R&&!1===e&&(0,eP.dk)(!!(0,iE.XG)(N,n)||a&&!(0,iE.HA)(N,n),e,s,k)){let e=(0,_f.QL)("entry_point")||(a?_Q.i$.DowngradeEmail:_Q.tc.DOWNGRADE_EMAIL);_(tv.to({type:pR.PK,data:{editorType:n,team:s,entryPoint:e}}))}_(eS.$T({view:"team",teamId:s.id,teamViewTab:t}))},[_,s,k,N,r,b,t,R]),(0,m.h)(()=>{l&&_(tv.to({type:EC.C,data:{teamId:e}}))});let A=a.useRef(!1);a.useEffect(()=>{!A.current&&"team"===p.view&&p.assetTransferRequestId&&_(tv.to({type:(0,En.S)(),data:{selectedAssetTransferRequest:p.assetTransferRequestId}})),A.current=!0});let O=f||!I&&!c;return y?O?a.createElement(o1.S,{resourceType:n1.Ft.TEAM}):s?I?a.createElement(EO,{team:s,lgTeamPermissions:T,org:d,user:k,selectedTab:t}):a.createElement(ER,{team:s}):null:a.createElement(eo.qc,null)}function EO({team:e,lgTeamPermissions:t,org:r,user:l,selectedTab:s}){let c;let{canAdminTeam:d,canEditTeam:m,canReadTeam:u}=t,[{status:f,data:g}]=(0,_.IT)((0,z.Xg)({teamId:e?.id}),{revalidateOnMount:!0}),E="loaded"===f,v=e.id,b=(0,H.Yz)(),h=(0,ee.vt)(v),y=(0,Q.R)(v),w=(0,Q.jn)(),T=(0,H.Xs)(),x=(0,n.d4)(e=>e.teamBilling),I=(0,n.wA)(),k=(0,eC._6)(),N=a.useCallback(t=>{let r={view:"team",teamId:e?e.id:"",teamViewTab:t};I(eS.$T(r))},[I,e]),R=(0,n.d4)(e=>e.avatarEditorState),A=(0,n.d4)(e=>e.teamRoleRequests),O=!!(0,n.d4)(t=>e&&(0,tz.canManageOrgTeam)(e.id,t,t.user?.id)),F=a.useMemo(()=>{if(e&&u)switch(e.org_access){case eL.bU.PRIVATE:return(0,C.t)("file_browser.team_header.closed_team_header");case eL.bU.SECRET:return(0,C.t)("file_browser.team_header.secret_team_header")}},[e,u]),D=a.useMemo(()=>{if(e&&u){if(e.org_access===eL.bU.PRIVATE)return(0,C.t)("file_browser.team_header.closed_team_subtitle");if(e.org_access===eL.bU.SECRET)return(0,C.t)("file_browser.team_header.secret_team_subtitle")}},[e,u]),L=a.useCallback((t,r,a)=>{if(e){let n={team:e,entrypoint:"team_page_view",sectionId:a,favoriteId:r};t?I(eA.DN(n)):I(eA.ox(n))}},[I,e]),P=()=>{I((0,z.SX)({where:re.Ah.FolderListView,team:e}))},B=()=>{I(eS.oB()),G(),N(aC.A$.SETTINGS)},U=e?{team:e,billing:x}:void 0,j={view:"team",teamId:v,teamViewTab:aC.A$.HOME},W=(0,rw.u8)({oldValue:!!e?.canAdmin,newValue:!!t?.canAdminTeam,label:rw.A5.TeamPageView.canAdminTeam,enableFullRead:(0,ry.DQ)(ry.Pw.GROUP_2),maxReports:5}),$=(0,M.n)(Ev.am.MEMBERS,U,W,!!t?.canEditTeam,!!t?.canReadTeam,j),G=(0,M.n)(Ev.am.SETTINGS,U,W,!!t?.canEditTeam,!!t?.canReadTeam,j);a.useEffect(()=>{s===aC.A$.MEMBERS?$():s===aC.A$.SETTINGS&&G()},[]),(0,i.kF)("Team"),(0,i.WX)({markName:"MainBodyContent",markCondition:E}),c=e.org_id?E?a.createElement(a.Fragment,null,a.createElement(ms,{canAdminTeam:d,canEditTeamContents:m,eligibleForLockedStateRedesign:b(h),folderList:g||[],isInLockedProTeamRevampExp:T(y),onCreateNewFolder:m?P:void 0,selectedView:k,showTeamNameOrAuthor:!1,team:e,teamId:v,viewId:`team-${v}`}),a.createElement(cH.cx,null)):a.createElement(eo.qc,null):a.createElement(a.Fragment,null,E?a.createElement(a.Fragment,null,a.createElement(ms,{canAdminTeam:d,canEditTeamContents:m,eligibleForLockedStateRedesign:b(h),folderList:g||[],isInLockedProTeamRevampExp:T(y),onCreateNewFolder:e.isCurrentUserInTeam?P:void 0,selectedView:k,showTeamNameOrAuthor:!1,team:e,teamId:v,viewId:`team-${v}`}),a.createElement(cH.cx,null)):a.createElement(eo.qc,null));let V=e.canAdmin?a.createElement(rx.FL,{entity:e,entityType:rT.ck.TEAM,avatarEditorState:R,size:40,dispatch:I,avatarSvg:rI.A,svgSizeRatio:.6}):a.createElement(rv.nl,{team:e,size:40,avatarSvg:rI.A,svgSizeRatio:.6}),q=!u&&!O,Y=(0,Eb.N)(),K=(()=>{if(q)return;let t=Y({team:e,onChangeTeamIconClick:()=>{I((0,o3.o)({team:e}))},onRenameClick:()=>{I(tv.to({type:(0,Eo.h)(),data:{team:e}}))},teamRoleRequests:A}),a=[];return U&&(m&&(r||a.push({displayText:(0,C.t)("teams_table.view_team_members"),callback:$}),a.push({displayText:(0,C.t)("team_view.settings.view_settings"),callback:B})),r&&a.push({displayText:(0,C.t)("teams_table.view_team_members"),callback:$})),a.length>0&&a.push({displayText:"",separator:!0}),a.push(...t),a})(),J=K?{kind:oX.A.CUSTOM,key:oX.D.DROPDOWN,element:a.createElement(o7,{buttonAriaLabel:(0,C.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${e.id}`,dropdownOptions:K})}:void 0,X=e.pro_team&&(0,o.k)().pro_onboarding_launch,Z=e.student_team?a.createElement(Ei,null):(0,aS.w5)(e)?void 0:a.createElement(Es,{team:e});return a.createElement(oV.r,{content:a.createElement(a.Fragment,null,c,Z),banner:a.createElement(_D,{teamId:v,selectedTab:s}),header:a.createElement(oG,{avatar:V,title:e.name,rightSideActions:function(e,t,r,n,o,l,i,s){let c=[],d=!!Object.keys(l).includes(e.id)&&l[e.id]?.status===pS.c.PENDING,m=e.canAdmin&&!e.isCurrentUserInTeam,u={kind:o$.A.CUSTOM,key:oX.D.FAVORITE,element:a.createElement(rO.r,{setFavorite:n,favoriteType:eL.bk.TEAM,resourceId:e.id,orgId:e.org_id,containerStyle:pm.HM,isInHeader:!0})};m&&c.push({kind:o$.A.BUTTON,key:oX.D.JOIN_TEAM,displayText:(0,C.t)("file_browser.team.join_team"),onClick:(0,pz.GR)(t,e.id,ua.e6.ADMIN)});let _=s?r7.Ib.TEXT:void 0,f=s?(0,C.t)("locked_team.label.tooltip"):void 0;o&&!(0,iE.R$)(r,e.org_id)?c.push({kind:o$.A.CUSTOM,key:oX.D.NEW_PROJECT,element:a.createElement("div",{"data-tooltip":f,"data-tooltip-type":_},a.createElement(Ed.P,{"data-onboarding-key":"team-view-new-project-cta",dataTestId:"team-view-new-project-cta",variant:s?"secondary":"inverse",disabled:s,onClick:()=>{t((0,z.SX)({team:{...e,canEdit:o,canAdmin:e.canAdmin,canEditTeamContents:o},where:re.Ah.FolderListView}))},text:(0,C.t)("file_browser.team.add_project")}),a.createElement(Eg,{teamId:e.id})),showOnMobile:!0}):!e.org_id||e.org_access===eL.bU.SECRET||m||e.canAdmin||c.push({kind:o$.A.BUTTON,key:oX.D.REQUEST_TO_EDIT,displayText:d?(0,C.t)("file_browser.team.cancel_request"):(0,C.t)("file_browser.team.request_to_edit"),onClick:()=>{d?t(px.lT({requestId:l[e.id]?.id})):t(tv.to({type:pC.$,data:{team:e,requesterCurrentLevel:ua.e6.VIEWER}}))}});let g=s?p.lQ:()=>{t(tv.to({type:(0,Ec.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))};c.push({kind:o$.A.BUTTON,key:oX.D.INVITE,displayText:(0,C.t)("file_browser.team.share"),onClick:g,styleClass:s?pB.EB:void 0,"data-tooltip":f,"data-tooltip-type":_}),e.org_id&&c.push(u);let E=a.createElement(EE,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:!0,onInviteClick:()=>{t(tv.to({type:(0,Ec.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:i,setFavorite:n});return c.push({kind:o$.A.CUSTOM,key:oX.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:E}),c}(e,I,l,L,m,A,e=>{e.stopPropagation(),I(eS.oB()),$(),N(aC.A$.MEMBERS)},b(h)||T(w&&y)),rightSideOfTitleAction:J,pageHeaderIcon:void 0,badge:a.createElement(no.Y,{direction:"horizontal"},F?a.createElement("div",{className:S.s.ml4.mr4.$,"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":F,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":D},a.createElement(rB.In,{icon:"lock-16"})):void 0,X?a.createElement(a.Fragment,null,a.createElement(az.fu,{name:ao._Y.PROFESSIONAL,properties:_S.S.getTrackingProperties(v)},a.createElement(az.$z,{type:"button",onClick:()=>{I(tv.to({type:ES.q,data:{teamId:e.id}}))},"data-onboarding-key":Em,className:"team_page_view--pointerOnHover--at7fp"},a.createElement(ao.Ex,{color:ao.zE.INFORMATIONAL,text:(0,C.t)("pro_onboarding.professional"),size:ao.vj.EXTRA_LARGE}))),a.createElement(E_,{teamId:v})):void 0)})})}var EF=r(989446),ED=r(925025),EL=r(628055),EP=r(142751),EM=r(967064),EB=r(855340);let EU={ctrlKey:"metaKey"};function Ej(e,t={}){let r=(0,n.wA)(),o=(0,n.Pj)(),l=a.useMemo(()=>({metaKey:e=>{let t=(0,dp.xS)(o.getState(),e);r(e1.V3({url:t}))},...t}),[t,r,o]);return a.useCallback((t,a)=>{let n=e(a),o=Object.keys(l).find(e=>t[e]);if(o){let e=l[f.Ay.mac?o:EU[o]||o];if(e){t.preventDefault(),e(n);return}}r(eS.$T(n))},[l,r,e])}var EW=r(957925),E$=r(792508),EH=r(928890);let EG="org_user_meta_content--teamsHeader--1p4jT org_user_meta_content--sectionHeader--snmkw text--fontPos13--xW8hS text--_fontBase--QdLsd";function EV(e){let t=(0,n.wA)(),r=(0,K.iZ)(),o=(0,E$.w)(e.user),l=(0,n.d4)(t=>t.currentUserOrgId===e.orgId),i=()=>{t((0,tv.to)({type:EH.u}))};return a.createElement("div",{className:S.s.flex.flexColumn.ml16.hFull.$},a.createElement(_L.x,{isLoading:e.isLoading},()=>a.createElement(a.Fragment,null,a.createElement("div",{className:"org_user_meta_content--userData--NrFpt"},a.createElement(rv.H8,{user:e.user,size:rv.Pf.LARGE}),a.createElement("div",{className:"org_user_meta_content--userName--JeBfv text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),e.user.profile?.job_title&&a.createElement("div",{className:"org_user_meta_content--jobTitle--bWmsS text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(ao.Ex,{color:ao.zE.INVERT,text:(0,EB.lb)(e.user.profile?.job_title)}),e.userId===r?.id&&a.createElement("span",{className:"org_user_meta_content--blueLink--u44PB blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:i},(0,C.tx)("internal_profile.change_job_title"))),e.user.email&&a.createElement("div",{className:"org_user_meta_content--email--tgx7t text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),a.createElement(_o.TI,{value:e.description??"",placeholder:(0,C.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:_o.qU,readOnly:e.isReadOnly,className:"org_user_meta_content--description--gYuxd text--fontPos13--xW8hS text--_fontBase--QdLsd"})),o&&e.user?.id===r?.id&&a.createElement(EJ,{user:e.user}),l&&a.createElement(el.P,{className:S.s.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:S.s.p16.borderBox.flex.flexColumn.$},a.createElement("div",{className:EG},(0,C.tx)("internal_profile.teams")),a.createElement(EX,{userId:e.userId,orgId:e.orgId}),a.createElement("div",{className:EG},(0,C.tx)("internal_profile.recent_projects")),a.createElement(EY,{files:e.recents,isYourProfile:!e.isReadOnly})))))}function Ez(e){let t=(0,K.iZ)(),r=(0,n.wA)();return a.createElement(EV,{submitDescription:t=>{r(EW.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function Eq(e){let t=(0,n.wA)(),r=(0,K.iZ)();return a.createElement(EV,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!r||r.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,C.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:r=>{e.orgId&&e.orgUser&&t(pq.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:r},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function EY(e){let t=(0,eD.FC)(),r=Ej(e=>({view:"folder",folderId:e})),n=a.useMemo(()=>{if(e.files.status!==ED.r.SUCCESS)return[];let r=[],a=[];if(!e.files)return r;let n=new Set;for(let o of e.files.value){if(n.has(o.folder_id)||(n.add(o.folder_id),""===o.folder_name||null==o.folder_name))continue;let e={id:o.folder_id,name:o.folder_name,teamName:o.team_name,hasAccess:(0,tz.canViewFolder_DEPRECATED)(o.folder_id,t)};if(e.hasAccess?r.push(e):a.push(e),r.length+a.length>=5)break}return r.concat(a)},[e.files,t]);return a.createElement(_L.x,{state:e.files},()=>a.createElement("div",null,0===n.length&&a.createElement("div",{className:"org_user_meta_content--projectEmptyState--zusT6 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,C.t)("internal_profile.your_recent_projects_will_appear_here"):(0,C.t)("internal_profile.their_recent_projects_will_appear_here")),n.map(e=>a.createElement("div",{key:e.id,onClick:e.hasAccess?t=>r(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project--t-Nos org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--a1lrh org_user_meta_content--dim--aNVfK org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},a.createElement("span",{"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,C.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function EK(e){return a.createElement("div",{className:"org_user_meta_content--userProfileNotification--qHv4P"},a.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--lDm8h text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),a.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--H2ZHJ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),a.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--NQLlj"},e.action))}function EJ(e){let{profile:t}=e.user,r=(0,n.wA)();return a.createElement(a.Fragment,null,t?.images?null:a.createElement(EK,{title:(0,C.t)("internal_profile.profile_image_nudge.title"),text:(0,C.t)("internal_profile.profile_image_nudge.text"),action:a.createElement(ea.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--sVVav",onClick:()=>{r((0,o3.X)({entity:e.user,entityType:rT.ck.CURRENT_USER,shape:"CIRCLE"})),(0,G.Cu)({trackingContext:o5.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},(0,C.tx)("internal_profile.profile_image_nudge.action"))}))}let EX=(0,n.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,r]=a.useState(null);a.useEffect(()=>{uJ.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{r(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let n=Ej(e=>({view:"team",teamId:e.id})),o=(t||[]).sort((t,r)=>{let a=(0,tz.canViewTeam)(t.id,e.permissionState),n=(0,tz.canViewTeam)(r.id,e.permissionState);return a&&!n?-1:!a&&n?1:0});return a.createElement(_L.x,{isLoading:!t},()=>a.createElement("div",{className:S.s.flex.flexColumn.gap8.$},o.map(t=>{let r=(0,tz.canViewTeam)(t.id,e.permissionState);return a.createElement(e5.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:r?n:void 0,className:`org_user_meta_content--teamListItem--gXcF- text--fontPos13--xW8hS text--_fontBase--QdLsd ${r?"":"org_user_meta_content--dim--aNVfK"}`,"data-tooltip-type":r7.Ib.TEXT,"data-tooltip":r?void 0:(0,C.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&(0,C.tx)("internal_profile.no_teams_in_common")))});var EQ=r(402840),EZ=r(30807);function E0(e){let t=(0,EQ.i8)(e.publishedPlugins),r=(0,EQ.LH)((0,EQ.ky)(t,e.userId),e.org),n=Object.keys(r).map(e=>r[e]),o=(0,tc.LN)(n);return 0===o.length?null:a.createElement(a.Fragment,null,a.createElement("div",{className:"user_org_resources--sectionHeader--MUg1j internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,C.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})),a.createElement("div",{className:"user_org_resources--container---l25- profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},o.map(e=>a.createElement(EZ.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"UserOrgResources"})),a.createElement(EZ.hT,{numResources:o.length})))}function E1(e){let{org:t}=e,r=(0,n.d4)(r=>(t&&t.id&&r.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?a.createElement(Eq,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:r}):a.createElement(Ez,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let E4={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!1,moveFile:!0,pinToWorkspace:!1},E5=e=>{let t=e.user.id,r=(0,n.wA)(),l=(0,n.d4)(e=>e.selectedView),i=e.orgUser&&e.orgUser.org_id,s=(0,n.d4)(e=>e.currentUserOrgId),c=void 0===i?s:i,d=(0,n.d4)(e=>c&&e.orgById[c]||null),m=(0,o.k)().xr_debounce_threshold&&d,u="user"===l.view?l.userViewTab:void 0;a.useEffect(()=>{r((0,tv.ES)({type:EM.E}))},[r,u]);let _=(0,n.d4)(e=>e.userFlags);a.useEffect(()=>{_.seen_profile||r(eO.b({seen_profile:!0}))},[r,_.seen_profile]);let f=(0,n.d4)(e=>e.tileSortFilterStateByView.user),g=a.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:lY.rJ.ANY,fileType:lY.t2.ANY},sort:{key:lY.C0.ACCESSED_AT,dir:lY.ue.DESC}},tileSortFilterConfig:f,sortKeys:[lY.C0.NAME,lY.C0.CREATED_AT,lY.C0.ACCESSED_AT]}),[f]),E=a.useMemo(()=>{let e=new URLSearchParams;return c&&e.append("org_id",c),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,c]),[v,b]=a.useState([]),[h,y]=a.useState(!0),[w,T]=a.useState(null),[x,k]=a.useState(0),S=a.useCallback(e=>{T(e),r(t$.F.enqueue({message:(0,C.t)("internal_profile.an_error_occurred"),error:!0}))},[r]),{fetchNext:N,hasMore:R}=(0,EL.WQ)(E,S,55),A=a.useCallback(async()=>{if(!R)return;let e=async()=>{try{let e=await N();if(!Array.isArray(e))return;b(t=>[...t,...e])}catch(e){S(e)}};await e()},[N,S,R]);a.useEffect(()=>{(async()=>{v.length<55&&x<3&&(await A(),k(e=>e+1),y(!1))})()},[x]);let O=a.useMemo(()=>v.filter(e=>{switch(f.filters.fileType){case lY.t2.ANY:return!0;case lY.t2.DESIGN:return"design"===e.editor_type;case lY.t2.FIGJAM:return"whiteboard"===e.editor_type;case lY.t2.PROTOTYPE:return!1;case lY.t2.SITES:return"sites"===e.editor_type;case lY.t2.SLIDES:return"slides"===e.editor_type;default:(0,I.xb)(f.filters.fileType)}}),[v,f]),F=a.useMemo(()=>w?{status:ED.r.FAILURE,error:w}:h?{status:ED.r.LOADING}:{status:ED.r.SUCCESS,value:O},[h,w,O]),D=(0,EF.J)(()=>d&&d.community_profile_id?r(EP.pZ({profileId:d.community_profile_id})):Promise.resolve([]),[r,d]),L="user"===l.view&&l.userViewTab===l_.o.INTERNAL_PROFILE_POSTS?l_.o.INTERNAL_PROFILE_POSTS:l_.o.INTERNAL_PROFILE,P=u===l_.o.INTERNAL_PROFILE?[a.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--fd-Z-"},a.createElement(nP.$4,{options:g,hideSortMenu:!0,selectedView:l,dispatch:r}))]:[],[M,B,U]=s5.t.useManagedTabs({[l_.o.INTERNAL_PROFILE]:!0,[l_.o.INTERNAL_PROFILE_POSTS]:!0},L,e=>{r(eS.$T({view:"user",userId:t,userViewTab:e}))}),j=a.createElement(nP.g2,{leftSide:m?a.createElement(et.J,null,a.createElement(s5.t.TabStrip,{manager:U},a.createElement(s5.t.Tab,{key:l_.o.INTERNAL_PROFILE,...M[l_.o.INTERNAL_PROFILE]},(0,C.t)("internal_profile.file_contributions")),a.createElement(s5.t.Tab,{key:l_.o.INTERNAL_PROFILE_POSTS,...M[l_.o.INTERNAL_PROFILE_POSTS]},(0,C.t)("internal_profile.posts")))):P,rightSide:m?P:[]}),W=a.useCallback((e,t,a)=>{dN({tile:e,index:a,dispatch:r,selectedView:l,isListView:!1})},[l,r]),{showing:$,show:H,data:G}=(0,lV.L)(),V=a.useCallback((e,t,r)=>{H({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[H]),z=a.useMemo(()=>F.status===ED.r.SUCCESS?F.value.map(e=>(function(e){let t={...e,name:e.source_file_name?e.source_file_name+": "+e.name:e.name,description:null,created_at:"",url:"",creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,has_proto_link_password:!1,license:null,proto_link_access:null,touched_at:new Date(1e3*e.timestamp).toString(),prototype_url:"",updated_at:"",file_repo_id:null,source_file_key:null,is_try_file:!1};return(0,t4.fA)(t)})(e)):[],[F]);return(0,az.T8)(a.createElement(oV.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--FQu11",containerClass:"internal_user_profile_page_view--pageContainerInner--2Ep2e",content:!e.userNotInPlan&&a.createElement("div",{className:"internal_user_profile_page_view--content--X0lTp"},a.createElement("div",{className:"internal_user_profile_page_view--viewbar--eprew"},j),u===l_.o.INTERNAL_PROFILE&&(D.status===ED.r.SUCCESS&&F.status===ED.r.SUCCESS?a.createElement(a.Fragment,null,d&&a.createElement(E0,{userId:t,org:d,publishedPlugins:D.value}),!m&&a.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,C.tx)("internal_profile.file_contributions")),a.createElement(el.P,null,a.createElement(di.d,{items:z??[],handleOpenTile:W,handleOpenDropdown:V,sortConfig:f.sort,viewType:lY.XU.GRID,gridContainerStyle:E7.grid,sortBy:p.lQ}),(()=>{let e=G?.tile??null;return a.createElement(az.fu,{name:o5.e0.TILES_VIEW_DROP_DOWN,enabled:$,properties:{tileType:e?.type,tileFileId:e?.type===t4.nb.FILE?e?.file.key:void 0}},a.createElement(lz.i,{tileActions:E4,selectedTiles:e?[e]:[],tile:e,openTile:()=>{e?.type===t4.nb.FILE&&(0,t0.Tq)(r,e.file)},dropdownVisible:$}))})())):a.createElement(eo.qc,null)),u===l_.o.INTERNAL_PROFILE_POSTS&&d&&a.createElement(cM,{currentOrgId:d.id,selectedUser:e.user})),metaContent:a.createElement(E1,{user:e.user,recents:F,org:d,orgUser:e.orgUser})}),o5.e0.USER_DETAILS,{view:"org_user",userId:t})};function E2(e){return a.createElement(E5,{key:e.user.id,user:e.user,orgUser:e.orgUser,userNotInPlan:e.userNotInPlan})}let E7={grid:{paddingRight:"x1m2p0i2",paddingLeft:"x163pfp",paddingInlineStart:null,paddingInlineEnd:null,paddingBottom:"x1gan7if",$$css:!0}},E3=(e,t,r)=>r?Promise.resolve([]):uJ.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),E8=(e,t,r)=>e&&e.id===r?Promise.resolve(e):uJ.k.getUser({userId:r}).then(e=>e.data.meta).catch(e=>{throw t(a0.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),E6=(e,t,r)=>r?e(pq.I1({orgId:r,userId:t,allowNoOrgUser:!0})):Promise.resolve(null),E9={[l_.o.INTERNAL_PROFILE]:{Component:E2},[l_.o.INTERNAL_PROFILE_POSTS]:{Component:E2},[l_.o.PLUGINS]:{Component:a.Fragment}};function ve(e){return a.createElement(e.component,{...e.context})}function vt(e){let t=(0,n.wA)(),r=(0,K.iZ)(),o=e.orgId,l=(0,n.d4)(e=>e.currentUserOrgId),i=void 0===o?l:o,s=(0,te.tJ)().unwrapOr(null),c=(0,EF.J)(()=>{let a=E8(r,t,e.userId),n=E6(t,e.userId,i);return Promise.all([a,E3(t,e.userId,i),n]).then(([r,a,n])=>(i&&!n&&t(t$.F.enqueue({type:"org_user_not_found",message:s?.name?(0,C.t)("org_user_actions.org_user_not_found",{userHandle:r.handle,planName:s.name}):(0,C.t)("org_user_actions.org_user_not_found_without_plan_name",{userHandle:r.handle}),error:!0,onDismiss:p.lQ})),(0,t0.hL)(r.handle),{userNotInPlan:!!(i&&!n),userId:e.userId,user:r,teams:a,orgUser:n,profileHandle:r.community_profile_handle||null,on404Redirect:a.length>0||n?()=>{t(eS.$T({view:"user",userId:e.userId,orgId:i,userViewTab:l_.o.INTERNAL_PROFILE}))}:()=>{d.Ay.redirect("/404")}}))},[t,r,i,e.userId,s]),{tab:m}=e;if(!m)return null;let{Component:u}=E9[m];return a.createElement(_L.x,{className:"user_page_view--loadingContainer--vr9Zb",state:c,failure:void 0},t=>a.createElement(ve,{component:u,tab:m,userId:e.userId,context:t}))}function vr({workspaceId:e}){let t=(0,Y.sZ)(),r=(0,J.P)(t.id,e);return"loaded"!==r.status?null:"Unassigned"===r.data?a.createElement(ot.A5,null,a.createElement(vn,{org:t,workspaceId:e})):a.createElement(ot.A5,null,a.createElement(va,{org:t,workspaceId:e,workspace:r.data}))}function va({org:e,workspaceId:t,workspace:r}){let n=oh(r);return a.createElement(vn,{org:e,workspaceId:t,parentBackgroundColor:n})}function vn({org:e,workspaceId:t,parentBackgroundColor:r}){let o=(0,n.wA)();return a.createElement(ot.jT,{text:e.name,parentBackgroundColor:r,onClick:r=>{o(eS.$T({view:"org",orgId:e.id,orgViewTab:tT.X.HOME})),(0,G.Cu)({clickedResourceType:"org",clickedResourceId:e.id,currentResource:t,orgId:e.id})}})}function vo({showingFileBrowserLoader:e}){let t=(0,eC._6)();a.useEffect(()=>{(0,G.o5)(t)},[t]);let r=(0,Y.dq)(),l=(0,n.d4)(e=>(0,tz.getPermissionsStateMemoized)(e));(0,rw.MF)({oldValue:k.Qw.useMemoizedLoaded((0,tz.canAdminOrg)(r,l)),newValue:(0,te.j_)(),label:rw.A5.FileBrowserRouter.canAdminOrg,contextArgs:{selectedView:t.view}});let i=function(){let e=(0,n.wA)(),t=(0,K.Pc)(),r=(0,Y.dq)(),l=(0,eC._6)(),i=(0,eD.FC)(),s=(0,ny.cD)(),c=(0,Y.sZ)(),d=(0,n.d4)(e=>e.teams),m=(0,n.d4)(e=>e.search),u=(0,rV.H)({useCurrentPlan:!0}),_=g5();switch(l.view){case"resourceHub":if(!(0,eR.yl)())return null;return{pageHeaderContent:(0,C.t)("sidebar.templates_and_tools"),pageContent:a.createElement(cn,null)};case"deletedFiles":return{pageHeaderContent:(0,C.t)("file_browser.tool_bar.trash"),pageContent:(0,az.T8)(a.createElement(mu,{key:"trashed",selectedTab:mm.FILES}),o5.e0.FILE_BROWSER,{view:"trashed"})};case"litmus":if(!(0,cl.OF)())return null;switch(l.subView){case"projects":return{pageHeaderContent:"Litmus",pageContent:a.createElement(co.AJ,null)};case"feed":return{pageHeaderContent:"Litmus",pageContent:a.createElement(co.YA,null)}}case"trashedFolders":return{pageHeaderContent:(0,C.t)("file_browser.tool_bar.trash"),pageContent:(0,az.T8)(a.createElement(mu,{key:"trashed",selectedTab:mm.FOLDERS}),o5.e0.FILE_BROWSER,{view:"trashed"})};case"draftsToMove":return{pageHeaderContent:(0,C.t)("file_browser.tool_bar.drafts_to_move"),pageContent:a.createElement(_n,{key:"draftsToMove"})};case"folder":if(l.folderId===t?.drafts_folder_id)return{pageHeaderContent:(0,C.t)("file_browser.tool_bar.drafts"),pageHeaderActions:vi({from:iv.f6.FILE_BROWSER_TOPBAR_DRAFTS,user:t,currentOrgId:r,folderId:t.drafts_folder_id}),pageContent:(0,az.T8)(a.createElement(u$,{folderId:l.folderId,key:"drafts",userId:t.id}),o5.e0.FILE_BROWSER_DRAFTS,{orgId:r,teamId:s})};{let e=l.shouldShowRenameModal||!1;return{pageContent:(0,az.T8)(a.createElement(pW,{folderId:l.folderId,key:`folder-${l.folderId}`,shouldShowRenameModal:e}),o5.e0.FOLDER_PAGE,{orgId:r,teamId:s,folderId:l.folderId})}}case"workspace":switch(l.subView){case eQ.V0.ADMIN:return{pageHeaderContent:a.createElement(vr,{workspaceId:l.workspaceId}),pageHeaderDividerHidden:!0,pageContent:(0,az.T8)(a.createElement(O.y$,{workspaceId:l.workspaceId,selectedTab:l.selectedTab}),o5.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:l.workspaceId,workspaceViewTab:l.selectedTab})};case eQ.V0.DIRECTORY:return{pageHeaderContent:a.createElement(vr,{workspaceId:l.workspaceId??null}),pageHeaderDividerHidden:!0,pageContent:(0,az.T8)(l.workspaceId?a.createElement(i_,{key:l.workspaceId,workspaceId:l.workspaceId}):a.createElement(o0,null),o5.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:l.workspaceId,workspaceGroupViewTab:l.selectedTab})};default:(0,I.xb)(l)}case"licenseGroup":if(l.subView===eJ.GN.ADMIN)return{pageContent:(0,az.T8)(a.createElement(O.VY,{licenseGroupId:l.licenseGroupId,selectedTab:l.selectedTab}),o5.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:l.licenseGroupId,licenseGroupViewTab:l.selectedTab})};(0,I.xb)(l);case"org":return{pageHeaderContent:c?a.createElement(ah,null):void 0,pageHeaderActions:[a.createElement(pV,{orgId:l.orgId,key:"org-page-header-actions"})],pageContent:(0,az.T8)(a.createElement(fg,{orgId:l.orgId,selectedTab:l.orgViewTab}),o5.e0.ORG_PAGE,{orgId:l.orgId,orgViewTab:(l.orgViewTab===tT.X.HOME?"HOME":l.orgViewTab)||""})};case"orgAdminSettings":let p=(0,R.a)(l.orgAdminSettingsViewTab,l.orgAdminSettingsViewSecondaryTab,{showResourceConnectionInviteModal:!!(u&&l.showResourceConnectionInviteModal),showResourceConnectionFlyout:!!(u&&l.showResourceConnectionFlyout)});return{pageContent:(0,az.T8)(a.createElement(O.vW,{selectedTab:l.orgAdminSettingsViewTab,selectedSecondaryTab:p,selectedExtensionId:l.selectedExtensionId,selectedWorkspaceId:l.selectedWorkspaceId,showResourceConnectionInviteModal:l.showResourceConnectionInviteModal,showResourceConnectionFlyout:l.showResourceConnectionFlyout}),o5.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:r,orgViewTab:l.orgAdminSettingsViewTab,source:l.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:p})};case"abandonedDraftFiles":return{pageContent:(0,az.T8)(a.createElement(O.dZ,{abandonedDraftFolderId:l.abandonedDraftFolderId,planType:l.adminPlanType,planId:l.planId}),o5.e0.ABANDONED_DRAFTS_PAGE,l.adminPlanType===ib.O.ORG?{orgId:l.planId}:{teamId:l.planId})};case"orgDomainManagement":let g=a.createElement(ot.A5,null,a.createElement(ot.J5,{text:(0,C.t)("general.admin"),onClick:()=>{e(eS.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eX.J7.DASHBOARD}))},hasTrailingDivider:!0}),a.createElement(ot.J5,{text:(0,C.t)("org_dashboard.settings"),onClick:()=>{e(eS.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eX.J7.SETTINGS}))},hasTrailingDivider:!1}));return{pageContent:(0,az.T8)(a.createElement(O.Oe,null),o5.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:r}),pageHeaderContent:g};case"billingGroupDashboard":return{pageContent:(0,az.T8)(a.createElement(O.wu,{selectedTab:l.selectedTab}),o5.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:r,orgViewTab:l.selectedTab})};case"recentsAndSharing":let E=l.tab??ih.G.RECENTLY_VIEWED,v=vi({from:iv.f6.FILE_BROWSER_TOPBAR_RECENTS,user:t,currentOrgId:r,folderId:t.drafts_folder_id}),b=_();return{pageHeaderContent:b?a.createElement(g2,null):(0,C.t)("file_browser.tool_bar.recents"),pageHeaderActions:b?void 0:v,pageContent:(0,az.T8)(a.createElement(g8,{selectedTab:E,userId:t.id,accountModalTab:l.accountModalTab,emailPolicyToUnsubscribeFrom:l.emailPolicyToUnsubscribeFrom}),o5.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:r?o5.qo.ORG:o5.qo.PERSONAL})};case"componentBrowser":if(!(0,o.k)().dt_component_browser)return null;return{pageHeaderContent:"Your libraries",pageContent:(0,az.T8)(a.createElement(oV.r,{content:a.createElement(mI,{currentOrgId:r})}),o5.e0.FILE_BROWSER,{view:"componentBrowser"})};case"componentBrowserLibrary":if(!(0,o.k)().dt_component_browser)return null;return{pageHeaderContent:a.createElement(m1,{libraryKey:l.libraryKey,libraryName:l.libraryName}),pageContent:(0,az.T8)(a.createElement(m0,{libraryKey:l.libraryKey,componentKey:l.componentKey}),o5.e0.FILE_BROWSER,{view:"componentBrowserLibrary"})};case"resourceUnavailable":return{pageContent:a.createElement(o1.S,{resourceType:l.resourceType})};case"search":{let{searchScope:e,query:t}=m.parameters,r=!f.Ay.mobile;return{pageHeaderContent:a.createElement(vl,{query:t}),pageContent:(0,az.T8)(a.createElement(nP.bS,null),o5.e0.UNIFIED_SEARCH,{showInternalModal:r&&e!==iy.Rx.COMMUNITY,showCommunityModal:r&&e===iy.Rx.COMMUNITY})}}case"seatRequests":return{pageContent:(0,az.T8)(a.createElement(F.m,null),o5.e0.SEAT_REQUESTS_PAGE,{orgId:r,teamId:s,planType:l.adminPlanType})};case"sharedWithYou":return{pageContent:a.createElement(Er,{tab:l.tab})};case"limitedTeamSharedProjects":return{pageContent:a.createElement(p$,null)};case"team":{let e=d[l.teamId],t=l.teamViewTab??(0,ny.ZP)(e,i);return{pageContent:(0,az.T8)(a.createElement(EA,{teamId:l.teamId,selectedTab:t,upgradeModalType:l.upgradeModalType,showProOnboardingModal:l.isProUpgrade,showResourceConnectionInviteModal:l.showResourceConnectionInviteModal,key:`team-${l.teamId}`}),o5.e0.TEAM_PAGE,{teamId:l.teamId,canUpgradeToPro:(0,aS.hp)(e,i),userSpace:r?o5.qo.ORG:o5.qo.PERSONAL,orgId:r})}}case"teamAdminConsole":{let e=l.teamAdminConsoleViewTab??(l.isProTeam?aC.Iv.DASHBOARD:aC.Iv.MEMBERS),t=(0,A.X$)(e,l.teamAdminConsoleViewSecondaryTab,{showResourceConnectionInviteModal:!!(u&&l.showResourceConnectionInviteModal),showResourceConnectionFlyout:!!(u&&l.showResourceConnectionFlyout)});return{pageContent:(0,az.T8)(a.createElement(O.JC,{teamId:l.teamId,selectedTab:e,selectedSecondaryTab:t,showResourceConnectionInviteModal:l.showResourceConnectionInviteModal,showResourceConnectionFlyout:l.showResourceConnectionFlyout}),o5.e0.TEAM_ADMIN_PAGE,{teamId:l.teamId,teamAdminConsoleViewTab:e,teamAdminConsoleViewSecondaryTab:t})}}case"teamFeed":return{pageHeaderContent:a.createElement(ot.A5,null,a.createElement(ot.J5,{text:(0,C.t)("fig_feed.feed"),onClick:()=>{e(eS.$T({view:"teamFeed"}))},hasTrailingDivider:!1})),pageHeaderActions:[a.createElement(cW,{key:"create-feed-post-button"})],pageContent:a.createElement(vs,{postUuid:l.postUuid,creatorId:l.creatorId})};case"user":return{pageHeaderContent:(0,C.t)("internal_profile.profile"),pageHeaderActions:t.community_profile_handle&&t.id===l.userId?[a.createElement(fx,{key:"viewCommunityProfileAction"})]:void 0,pageContent:a.createElement(vt,{userId:l.userId,tab:l.userViewTab,orgId:l.orgId})};default:return null}}();if(!i)return null;let{CustomPageLayout:s,pageContent:c}=i;return s?a.createElement(mf,null,a.createElement(s,null,!e&&c)):a.createElement(mf,null,a.createElement(oN,{showingFileBrowserLoader:e,pageHeaderContent:i.pageHeaderContent,pageHeaderActions:i.pageHeaderActions,pageHeaderDividerHidden:i.pageHeaderDividerHidden},c))}function vl(e){return e.query?a.createElement("div",{className:S.s.flex.columnGap8.$},a.createElement("span",{className:S.s.flexShrink0.$},a.createElement(N.E,{color:"secondary"},(0,C.tx)("search.search_results_for"))),a.createElement("div",{className:S.s.flex.fontMedium.minW0.$},"\u201C",a.createElement(N.E,{truncate:!0},e.query),"\u201D")):a.createElement("div",{className:S.s.flex.columnGap8.$},a.createElement("span",{className:S.s.flexShrink0.$},a.createElement(N.E,{color:"secondary"},(0,C.tx)("search.search_results"))))}function vi({from:e,user:t,currentOrgId:r,folderId:n}){if((0,o.k)().ps_benchmark&&t&&(0,iE.R$)(t,r))return[];let l=e===iv.f6.FILE_BROWSER_TOPBAR_RECENTS?a.createElement(p_.qr,{key:"resourceCreationAction",from:e,dropdownType:pg.x,folderId:n,leftContent:a.createElement(fy,null)}):a.createElement(p_.kS,{key:"resourceCreationAction",from:e,dropdownType:pg.x,folderId:n});return[a.createElement(fT,{key:"getDesktopApp"}),l]}function vs(e){return(0,ig.w)()?a.createElement(cY,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var vc=r(615399),vd=r(693965),vm=r(693506),vu=r(20701),v_=r(215874),vp=r(660785),vf=r(578427),vg=r(515673);let vE="add_collaborators--emailListItem--dnvC-";function vv({selectedView:e}){let[t,r]=a.useState(["","",""]),o=(0,n.d4)(t=>t.teams[e.teamId]),l=(0,n.d4)(e=>e.teamCreation),i=(0,n.d4)(e=>e.payment),s=(0,n.wA)(),c=a.useCallback(()=>{o&&s(eS.$T({view:"team",teamId:o.id}))},[s,o]),d=a.useCallback((e,a)=>{if(a>=t.length)return;let n=[...t];n[a]=e,r(n)},[t]),m=a.useCallback(()=>{r([...t,""])},[t]),u=a.useCallback(()=>{let e=!!l.isEduTeam;i.promo?s(vp.g_({teamId:o.id,teamName:o.name,previousView:{view:"team",teamId:o.id}})):e?s(ue.Vm({teamId:o.id,showBreadcrumbs:!0})):s(eS.$T({view:"teamUpgrade",teamFlowType:n1.SC.UPGRADE_EXISTING_TEAM,teamId:o.id,paymentStep:vg.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:o.id},planType:n1.Sc.TEAM}))},[s,o,i.promo,l.isEduTeam]),_=a.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),p=a.useCallback(()=>{s((0,vf.rq)({emails:_(),resourceType:eL.vt.TEAM,resourceIdOrKey:o.id,level:ua.e6.EDITOR,onSuccess:()=>{s(_p.r1({loading:!1})),u()}}))},[_,o,u,s]);return a.createElement(az.fu,{name:"Add Collaborators",properties:{teamId:o?.id}},a.createElement("div",null,a.createElement(vm.O,{menu:a.createElement(vd.X,{onClick:c},a.createElement(es.B,{svg:nV.default,className:"add_collaborators--modalCloseX--sJGp5"}))},a.createElement(v_.J,{index:2}),a.createElement(vu.JR,null,(0,C.tx)("team_creation.add_your_collaborators")),a.createElement(vu.Kh,null,(0,C.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")),a.createElement("div",{className:"add_collaborators--formContainer--zTKXv"},a.createElement("div",{className:"add_collaborators--emailInputsContainer--19ZBc"},t.map((e,t)=>a.createElement(ea.il,{key:`collaborator-email-input-${t}`,className:vE,value:e,onChange:e=>d(e.target.value,t),maxLength:255,placeholder:(0,C.t)("team_creation.email")}))),a.createElement(ea.nR,{className:vE,onClick:m},(0,C.tx)("team_creation.add_another")),a.createElement("div",{className:"add_collaborators--spacing--2VA7s"}),a.createElement("div",{className:"add_collaborators--ctaContainer--VGMvb"},a.createElement(ea.nD,{disabled:0===_().length,onClick:p,trackingProperties:{numCollaborators:_().length}},(0,C.tx)("team_creation.continue")),a.createElement(ea.Ph,{onClick:u,trusted:!0},(0,C.tx)("team_creation.skip_for_now")))))))}var vb=r(474020),vh=r(602836),vy=r(136426),vw=r(124948),vT=r(143702),vx=r(868417),vI=r(458609);let vk=["folder","team","search","recentsAndSharing"];function vS(){let e=(0,n.d4)(e=>e.autosave),t=(0,eC._6)(),r=(0,vh.y)(),{unsyncedFiles:o,localUnsyncedFiles:l}=(0,m8.Gg)();return!r||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(o.length>0||l.length>0)&&vk.includes(t.view)?a.createElement(vN,{unsyncedFiles:o,localUnsyncedFiles:l}):null}let vC=!1;function vN(e){let t=(0,n.wA)();a.useEffect(()=>{let e=()=>{t(vw.Jw())};return vx.hp.register(vx.a,e),function(){vx.hp.unregister(vx.a,e),t(tv.ES({type:vy.EO.type}))}},[t]);let r=(0,eC._6)(),[o,l]=a.useState(!1);a.useEffect(()=>{vC||(vC=!0,(0,vb.Mw)()),o||(l(!0),(0,nA.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:r.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,o,r]);let i=(0,K.iZ)(),s=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===s.length||!i)return a.createElement(a.Fragment,null);let c=s.length>1,m=s[0],u=(0,vT.y8)(m)?m.file.name:m.name,_=u.length>40?u.substring(0,40)+"\u2026":u,p=c?(0,C.t)("autosave.notification.message.more_than_one_file"):(0,C.t)("autosave.notification.message.one_file",{fileName:_}),f=c?(0,C.tx)("autosave.notification.action_review"):(0,C.tx)("autosave.notification.action_open_to_sync");return a.createElement("div",{className:"autosave_notification--notification--u3sx0 text--_negText--j9g-L"},a.createElement(es.B,{className:"autosave_notification--icon--uvtXB",svg:vI.A,width:"24",height:"24"}),a.createElement("div",{className:"autosave_notification--message--yAhFz"},p),a.createElement("div",{className:"autosave_notification--actions--dk-yq"},a.createElement("div",{className:"autosave_notification--mainAction--sidqJ autosave_notification--action--Brz-5",onClick:()=>{c?t(tv.to({type:vy.EO})):(0,vT.y8)(m)?d.Ay.redirect((0,t2.r1)(t7.F.toLiveGraph(m.file),!0),"_blank"):t(ds.NA({file:m,openNewFileIn:iv.ai.NEW_TAB,source:df.U.AUTOSAVE_NOTIFICATION}))}},f),a.createElement("div",{className:"autosave_notification--action--Brz-5",onClick:()=>{(0,nA.sx)("Autosave Notification Snooze",{files:s.length,firstFile:m.fileKey}),t(vw.zE(Date.now()))}},(0,C.tx)("autosave.notification.action_later"))))}var vR=r(180608);let vA="team-org-access-dropdown";function vO(e){let t=(0,n.wA)(),r=e.dropdownShown&&e.dropdownShown.type===vA;return a.createElement("div",{className:"team_org_access_dropdown--orgAccess--JAIwP"},a.createElement("button",{className:"team_org_access_dropdown--select--lqx54",onClick:e=>{e.stopPropagation(),e.preventDefault(),r?t(eS.oB()):t(eS.j7({type:vA}))}},(0,iE.ZP)()[e.orgAccess],a.createElement(es.B,{svg:r3.A,className:"team_org_access_dropdown--downCaret--INuva"})),r&&a.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--iVvqn"},a.createElement(lr.ms,{className:"team_org_access_dropdown--orgAccessDropdown--zJupm"},a.createElement(lr.MM,{checked:e.orgAccess===eL.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(eL.bU.PUBLIC)}},(0,iE.ZP)()[eL.bU.PUBLIC]),a.createElement(lr.MM,{checked:e.orgAccess===eL.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(eL.bU.PRIVATE)}},(0,iE.ZP)()[eL.bU.PRIVATE]),a.createElement(lr.MM,{checked:e.orgAccess===eL.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(eL.bU.SECRET)}},(0,iE.ZP)()[eL.bU.SECRET]))))}let vF="team_creation--createTeamText--VjY8f";function vD({currentTeamId:e,currentUserOrgId:t,user:r,selectedView:l,dropdownShown:i,teamCreation:s,orgById:c}){var m;let u=(0,n.wA)(),[_,p]=(0,a.useState)(null),[f,g]=(0,a.useState)(eL.bU.PUBLIC),E=l.ignoreCurrentPlan,v=t&&!E?c[t]:null,b=!e&&!t,h=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(h.current)for(let e=0;e<h.current.elements.length;e++){let t=h.current.elements[e];if(!t.value){t.focus();break}}t&&!E&&(0,nA.sx)("team_creation_started",{user_id:r?.id??"",org_id:t})},[t,r,E]);let y=e=>{e.preventDefault(),e.stopPropagation(),_?(u((0,pk.KQ)({teamName:_,orgAccess:f,dontRedirect:!!l.onSubmitReturnToPrevView,ignoreCurrentPlan:E})),l.onSubmitReturnToPrevView&&u(eS.$T((0,d.Gl)()||{view:"recentsAndSharing"}))):u(a0.s.error((0,C.t)("team_creation.your_team_name_cannot_be_empty")))},w=!(t&&!E)&&!l.onSubmitReturnToPrevView,T=(0,o.k)().ps_benchmark&&b?null:a.createElement(vd.X,{onClick:()=>{u(eS.$T((0,d.Gl)()||{view:"recentsAndSharing"}))}},a.createElement(es.B,{svg:nV.default,className:"team_creation--modalCloseX--TTg32"}));return a.createElement(az.fu,{name:"Team Creation"},a.createElement("div",null,a.createElement(vm.O,{menu:T},w&&a.createElement(v_.J,{index:1}),a.createElement("form",{ref:h,onSubmit:y},a.createElement(vu.JR,null,(0,C.tx)("team_creation.create_a_team_title")),a.createElement("div",{className:"team_creation--newTeamContainer--43mWz team_creation--newTeamContainerBase--nwYzU"},a.createElement("div",{className:"team_creation--teamNameContainer--B6Pc3"},a.createElement("div",{className:"team_creation--teamNameLabel--ohZWy"},(0,C.tx)("team_creation.team_name_label")),a.createElement(ea.il,{value:_||"",onChange:e=>{p(e.target.value)},className:"team_creation--newTeamInput--PdjEW",maxLength:255,placeholder:(0,C.t)("team_creation.team_name_input_placeholder")})),v?a.createElement("div",{className:"team_creation--orgTeamSettings--bDW2R"},a.createElement("div",{className:S.s.flex.$},a.createElement("div",{className:S.s.fontSemiBold.$},(0,C.tx)("team_creation.access_within_the_organization")),a.createElement(vO,{orgAccess:f,dropdownShown:i,onChangeOrgAccess:e=>{g(e)}})),a.createElement("div",{className:vF},(m=v.name,{[eL.bU.PUBLIC]:(0,C.tx)("org_access_strings.public.description_with_org_name",{orgName:m}),[eL.bU.PRIVATE]:(0,C.tx)("org_access_strings.closed.description_with_org_name",{orgName:m}),[eL.bU.SECRET]:(0,C.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:a.createElement("span",{className:S.s.fontSemiBold.$},(0,C.tx)("org_access_strings.secret.description.disclaimer_label")),orgName:m})})[f])):a.createElement("div",{className:vF},(0,C.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")),a.createElement(ea.nD,{className:t?"team_creation--createTeamButtonOrg--2rnOw":"team_creation--createTeamButton--C8IV7",type:"submit",disabled:s.loading,onClick:y},(0,C.tx)("team_creation.create_team_button")))))))}function vL({selectedView:e}){let t=(0,n.wA)(),r=(0,Y.dq)(),l=(0,n.d4)(e=>e.orgById),i=(0,K.iZ)(),s=(0,n.d4)(e=>e.currentTeamId),c=(0,cv.Um)(),m=(0,n.d4)(e=>e.teamCreation),u=r?l[r]:null,_=(0,te.wy)({component:"TeamCreationPage",attribute:"mainWorkspaceId",migrationGroup:oo.L.GROUP_2,legacy:(e,t)=>t?.workspace_users?.find(e=>e.is_main_workspace)?.workspace_id,migrated:e=>e?.fromOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId}),{cannotCreateTeamReason:p}=(0,J.LM)(u,_??null);return(0,iE.R$)(i,r)||p===J.z4.TEAM_CREATION_CONTROL&&!(0,o.k)().ps_benchmark?(d.Ay.redirect("/"),t(a0.s.error((0,C.t)("team_creation.missing_team_creation_controls"))),null):a.createElement(vD,{currentTeamId:s,currentUserOrgId:r,user:i,dropdownShown:c,teamCreation:m,orgById:l,selectedView:e})}let vP="team_restore--page--cMEe2",vM="team_restore--section--AmfWe",vB="team_restore--button--C-gOz";function vU({selectedView:e}){let t,r;let o=(0,n.wA)(),[l,i]=a.useState(!1),s=e.teamId,c=(0,n.d4)(e=>e.teams[s]);a.useEffect(()=>{i(!0),a4.$.getDeleted({teamId:s}).then(({data:e})=>{o(_p.bE({team:e.meta})),i(!1)}).catch(e=>{400!==e.status&&(o(eS.$T({view:"recentsAndSharing"})),o(a0.s.error(`${e.data.message}`))),i(!1)})},[o,s]);let d=()=>{o(eS.$T({view:"recentsAndSharing"}))},m=a.createElement(ea.vd,{className:vB,onClick:d},(0,C.tx)("team_restore.back"));if(c){if(c.deleted_at){let e=(0,em.A)(c.deleted_at).add(28,"days").toDate();t=(0,C.t)("team_restore.confirm_restore_header",{teamName:c.name}),r=a.createElement("div",null,(0,C.tx)("team_restore.confirm_restore"),a.createElement("br",null),a.createElement("br",null),(0,C.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})),m=a.createElement(ea.vd,{className:vB,onClick:()=>{o(_p.I9({teamId:s}))}},(0,C.tx)("team_restore.restore"))}else t=(0,C.t)("team_restore.ineligible"),r=(0,C.t)("team_restore.questions_contact_support",{supportEmail:(0,aL.W4)()})}else{if(l)return a.createElement("div",{className:vP},a.createElement("div",{className:vM},a.createElement(eo.kt,null)));t=(0,C.t)("team_restore.expired_header"),r=a.createElement("div",null,(0,C.tx)("team_restore.expired"),a.createElement("br",null),a.createElement("br",null),(0,C.tx)("team_restore.questions_contact_support",{supportEmail:(0,aL.W4)()}))}return a.createElement(az.fu,{name:"Team Restore",properties:{teamId:s}},a.createElement(vm.O,{menu:a.createElement(es.B,{svg:nV.default,onClick:d,className:"team_restore--modalCloseX--XNErW"})},a.createElement("div",{className:vP},a.createElement("div",{className:vM},a.createElement("div",{className:"team_restore--header--NgU8v text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),a.createElement("div",{className:"team_restore--text--F18dW text--fontPos12--YsUAh text--_fontBase--QdLsd"},r),m))))}var vj=r(988520),vW=r(95646),v$=r(595919),vH=r(996511),vG=r(511231),vV=r(993421),vz=r(8509);let vq="legacy_upgrade--closeButton--zJ0JO";var vY=r(605247);function vK({selectedView:e}){let t=(0,n.wA)(),r=(0,n.d4)(t=>t.teams[e.teamId]);if((0,vj.uy)(r))throw Error("Team is nullish");let{taxes:o,numDesignEditors:l,numWhiteboardEditors:i,submitPending:s}=(0,n.d4)(e=>e.payment),c=(0,n.d4)(e=>e.teamUserByTeamId[r.id]||{}),d=(0,n.d4)(e=>e.teamBilling.summary.currency),m=(0,n.d4)(e=>e.loadingState),u=uO.Be.loadingKeyForPayload({teamId:r.id}),_=(0,Ex.VP)(m,u)&&!(0,Ex.D2)(m,u),p={planParentId:r.id,planType:eL.OL.TEAM},f=(0,vW.vK)(p),g=f.data,E=v$.Oq.exclude([_0.ud.DEV_MODE]).dict(e=>({currency:g,billableProductKey:e,tier:vV.Ju.PRO,renewalTerm:vV.IX.MONTH,unit:vV.IX.MONTH})),v=v$.Oq.exclude([_0.ud.DEV_MODE]).dict(e=>({currency:g,billableProductKey:e,tier:vV.Ju.PRO,renewalTerm:vV.IX.YEAR,unit:vV.IX.MONTH})),b=tV.Qw.all([(0,vW.ic)(E,p,vW.Fq.ADMIN_SETTINGS,{enabled:!!g}),(0,vW.ic)(v,p,vW.Fq.ADMIN_SETTINGS,{enabled:!!g})]),h=_||"loading"===f.status||"loading"===b.status;if((0,a.useEffect)(()=>{(0,Ex.VP)(m,u)||(0,Ex.D2)(m,u)||t(uO.Be({teamId:r.id}))},[m,t,u,r.id]),h)return a.createElement(eo.Z_,null);if(null===b.data)throw Error("Price data is null");let y=a.createElement(es.B,{svg:nV.default,onClick:()=>{(0,nA.sx)("Add Annual Plan Canceled",{teamId:e.teamId}),window.history.length<=1?t(eS.$T({view:"team",teamId:e.teamId})):history.go(-1)},className:vq}),w=r?.editors??0,T=Object.keys(c).filter(e=>c[e]?.whiteboard_paid_status===pP.Zf.FULL).length,x=new vG.vr(d),[I,k]=b.data,S=I[_0.ud.DESIGN].amount,N=I[_0.ud.FIGJAM].amount,R=k[_0.ud.DESIGN].amount,A=k[_0.ud.FIGJAM].amount;return a.createElement("div",{className:"legacy_upgrade--addAnnualPlan--ZH1cn"},a.createElement(vm.O,{menu:y},a.createElement(az.fu,{name:"Step Pay"},a.createElement("div",{className:vY.yU},a.createElement(vu.JR,null,(0,C.tx)("payments.add_annual_plan.title")),a.createElement(vu.Kh,null,a.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--MmsnZ"},(0,C.tx)("payments.add_annual_plan.intro.seat_rename",{monthlyDesignEditorCost:x.formatMoney(S,{showCents:!1}),monthlyFigjamEditorCost:x.formatMoney(N,{showCents:!1})}))),a.createElement("div",{className:vY.fI},a.createElement(vz.tG,{annualMonthlyDesignAmount:R,annualMonthlyFigjamAmount:A,currency:d,dispatch:t,isTeamPro:!0,monthlyDesignAmount:S,monthlyFigjamAmount:N,numAnnualDesignEditors:l||0,numAnnualWhiteboardEditors:i||0,onNumAnnualDesignEditorsChange:e=>{t(ue.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(ue.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(eS.$T({view:"team",teamId:e.teamId,teamViewTab:aC.A$.SETTINGS}))},submitPending:s,taxes:o,teamId:e.teamId,totalDesignEditors:w,totalWhiteboardEditors:T}),a.createElement("form",{onSubmit:r=>{r.preventDefault(),t(eO.b({completed_pro_cart_flow:!0})),t(ue.I2({submitPending:!0})),t(ue.XF({teamId:e.teamId}))}},a.createElement("div",{className:vY.ay},(0,C.tx)("payments.add_annual_plan.auto_renew.seat_rename",{cancellingIsEasyLink:a.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},(0,C.tx)("payments.add_annual_plan.cancelling_is_easy_link_text"))}),a.createElement("br",null),a.createElement("br",null),(0,C.tx)("payments.add_annual_plan.tos",{tosLink:a.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},(0,C.tx)("payments.add_annual_plan.tos_link_text"))})),a.createElement("div",{className:`${vY.Ou} ${vY.nM}`},a.createElement(ea.vd,{type:"submit",disabled:s,className:`${vY.XX}`},(0,C.tx)("payments.add_annual_plan.cta_text")))))))))}function vJ(e){return a.createElement(L.tH,{boundaryKey:"AddAnnualPlan",team:B.e.BILLING,fallback:a.createElement(vH.K,null)},a.createElement(vK,{...e}))}var vX=r(545754),vQ=r(256972);function vZ(e){let t=(0,K.iZ)(),[r,l]=a.useState(()=>(0,vG.LN)()),i=aH.b.UPGRADE_NEW_TEAM,s=(0,n.wA)(),c=(0,x.sx)(),d=(t,a)=>{let n=e.selectedView;s(ue.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:r,billingPeriod:a}))},m=null===e.selectedView.teamId?void 0:()=>{let r=(0,o.k)().ps_benchmark,a=t?.id;if(r&&a){let t={userId:a,orgId:null,teamId:e.selectedView.teamId};s(e1._l({workspace:t,view:{view:"allProjects"}}))}else s(eS.$T({view:"team",teamId:e.selectedView.teamId}))},u=()=>{s(ue.Bq({currency:r,upsellSource:i}))},_=e=>{l(e),s(eS.oB())},p=e.selectedView.teamId,f=a.useRef(null);return a.createElement(az.fu,{name:"Upgrade Team",properties:{teamId:p,step:vg.tn.UPGRADE_NEW_TEAM}},a.createElement("div",{className:"legacy_upgrade--teamUpgrade--auGJz"},a.createElement(vm.O,{menu:a.createElement(vd.X,{onClick:()=>{let r=(0,o.k)().ps_benchmark,a=t?.id,n=e.selectedView.teamId;if(r){let t={view:"recentsAndSharing"};a&&n?s(e1._l({workspace:{userId:a,teamId:n,orgId:null},view:e.selectedView.previousView||t})):s(eS.$T(e.selectedView.previousView||t))}else s(eS.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentsAndSharing"})))}},a.createElement(es.B,{svg:nV.default,className:vq})),pageRef:f},a.createElement(v_.J,{index:3}),a.createElement(az.fu,{name:"Upgrade New Team",properties:{teamId:p,trackingDescriptor:e_.c.UPGRADE_YOUR_TEAM}},a.createElement("div",{className:j()(e.className,{"step_upgrade_new_team--container--BixhQ":!0})},a.createElement(vu.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--yyzB5 step_upgrade_new_team--stepTitle--yFYG8"},a.createElement("span",null,(0,C.tx)("plan_details.choose_your_team_plan"))),c?a.createElement("div",{className:S.s.mxAuto.$,style:ec.sx.add({width:"1049px"}).$},a.createElement(vX.P,{upsellSource:i,currency:r,updateCurrency:_,chooseStarterPlan:m,chooseProPlan:e=>d(null,e),chooseOrgPlan:u,planComparisonModalHeaderOverride:null})):a.createElement(vQ.O,{currency:r,chooseStarterPlan:m,chooseProPlan:e=>d(null,e),chooseOrgPlan:u,updateCurrency:_,upsellSource:i,parentRef:f}))))))}var v0=r(419745),v1=r(875856),v4=r(796503),v5=r(115321),v2=r(833480),v7=r(959334),v3=r(87740),v8=r(58767);class v6 extends a.PureComponent{constructor(){super(...arguments),this._isMounted=!1,this.timer=null,this.controller=new AbortController,this.payload=null,this.fetchScheduledDowntimeInfo=async()=>{let e=this.controller?.signal,t=(0,aL.ck)("011a24693cd9b63ea5492d50d7713dfb7ed18ea6"),r=await fetch(t,{signal:e,cache:"no-cache"}),a=await r.json(),n={finished:a.finished,warningDurationMs:Number(a.warning_ms),notifDurationMs:Number(a.notif_ms),pollIntervalMinutes:Number(a.poll_interval_minutes),downtimeStartDate:new Date(a.timestamp+" UTC"),minLengthMinutes:Number(a.estimated_length_min),maxLengthMinutes:Number(a.estimated_length_max),helpcenterUrl:a.helpcenter_url};return(0,o.k)().display_downtime_banner_force&&(n.warningDurationMs*=1e3,n.notifDurationMs*=1e3),"hostname"in a&&(n={...n,renderOnHostname:a.hostname}),n},this.onTick=()=>{null!=this.payload&&this.props.dispatch(v3.Z.onTick({payload:this.payload,hostname:window.location.hostname,currentTimeMs:Date.now()}))},this.poll=async()=>{for(;this._isMounted;)try{let e=await this.fetchScheduledDowntimeInfo();this._isMounted&&(this.payload=e,this.timer||(this.onTick(),this.timer=setInterval(this.onTick,3e4)))}catch(e){"AbortError"!==e.name&&console.warn(e)}finally{let e=this.payload&&60*this.payload.pollIntervalMinutes||900;await (0,v5.fm)(1e3*e)}}}componentDidMount(){this._isMounted=!0,this.poll()}componentWillUnmount(){this._isMounted=!1,this.controller?.abort(),this.timer&&clearInterval(this.timer)}render(){return null}}function v9(e){let{dispatch:t,downtime:r}=e,n=a.useCallback(e=>()=>{t(e)},[t]),l=a.useCallback((e,t)=>()=>{d.Ay.unsafeRedirect(e,"_blank"),n(t)},[n]),i=a.useCallback(e=>(0,C.t)("downtime_banner.ongoing.figma_will_be_entering_a_maintenance_period",{minutes:e}),[]),s=a.useMemo(()=>(0,C.t)("downtime_banner.ongoing.currently_undergoing_maintenance"),[]),c=a.useRef(e.notifications),m=a.useCallback(()=>{c.current.length>0&&t(v7.Q.dequeue({type:v2._.DOWNTIME}))},[t,c]);return a.useEffect(()=>{let{payload:e,status:a,hidingDowntimeNotif:c,notifMinutesRemaining:d}=r;if((0,o.k)().display_downtime_banner){switch(a){case v8.A.Imminent:case v8.A.Warning:if(e&&null!=d&&c!==v8.y.warningHidden){let r=i(d),a=l(e.helpcenterUrl,v3.Z.hideWarningNotif()),o=n(v3.Z.hideWarningNotif());t(v7.Q.dequeue({type:v2._.DOWNTIME})),t(v7.Q.enqueue({notification:{type:v2._.DOWNTIME,message:r,acceptCallback:a,dismissCallback:o}}))}break;case v8.A.Ongoing:if(e&&c!==v8.y.ongoingHidden){let r=l(e.helpcenterUrl,v3.Z.hideOngoingNotif()),a=n(v3.Z.hideOngoingNotif());t(v7.Q.dequeue({type:v2._.DOWNTIME})),t(v7.Q.enqueue({notification:{type:v2._.DOWNTIME,message:s,acceptCallback:r,dismissCallback:a}}))}break;case v8.A.Finished:m()}return()=>{m()}}},[r,t,i,l,n,s,m]),null}v6.displayName="DowntimePoller";var be=r(592147),bt=r(496900);function br(){let e=(0,be.W)();return a.createElement(bt.Y,{prioritizedBanners:e,location:"file_browser"})}var ba=r(900169);function bn(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.fileImport.step),o=(0,_4.B2)().unwrapOr(!1),[l,i]=a.useState(!1),s=a.useCallback(()=>i(!0),[]),c=a.useCallback(()=>i(!1),[]),d=a.useCallback(e=>{i(!1),o&&t((0,_4.b6)(e))},[t,o]);return a.createElement(td.Y,{className:S.s.flex.flexColumn.$,isDragTarget:_4.al,onTargetDragEnter:s,onTargetDragLeave:c,onTargetDrop:d},e.children,o&&a.createElement(bo,{step:r,dragging:l}))}function bo({step:e,dragging:t}){switch(e){case ba.Y5.CONFIRM_PDF_IMPORT:case ba.Y5.IMPORT_REPO:return null;case ba.Y5.START:case ba.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case ba.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return a.createElement("div",{className:t?"file_browser_drop_zone--dragTargetDragging--giyPY file_browser_drop_zone--dragTargetNormal--TOR0f":"file_browser_drop_zone--dragTargetNormal--TOR0f"});default:(0,I.xb)(e)}}let bl="file_browser_view--filebrowserHtml--v2BLN",bi="file_browser_view--filebrowserBody--6MX2i",bs="file_browser_view--desktop--5VrC1";function bc(){let e=(0,n.wA)(),t=(0,Y.dq)(),r=(0,cv.Um)(),I=(0,K.iZ)(),k=(0,eC._6)(),S=vc.q.useIsLoading(),N=(0,n.d4)(e=>e.payment),R=(0,n.d4)(e=>e.currentTeamId),A=(0,X.d)(),O=(0,n.d4)(e=>e.downtime),F=(0,n.d4)(e=>e.notifications),D=(0,x.sx)();!function(){let e=(0,n.Pj)(),t=a.useMemo(()=>(0,v1.g)(),[]),r=(0,aB.Rs)(a$.__y,{cacheNonce:t});a.useEffect(()=>{if("loaded"===r.status&&r.data.currentUser.assetTransferReload.status===er.tT.Loaded){let t=(0,er.oA)(r.data.currentUser.assetTransferReload);if(!t)return;let a=aL.Ay().user_data?.id,n=e.getState(),o="folder"===n.selectedView.view&&n.selectedView.folderId===t.folderId,l="team"===n.selectedView.view&&n.selectedView.teamId===t.teamId,i="folder"===n.selectedView.view&&n.folders[n.selectedView.folderId],s=i&&i.team_id===t.teamId,c=t.folderId?o:l||s,d={view:"folder",folderId:t.folderId||""},m={view:"team",teamId:t.teamId||"",teamViewTab:aC.A$.HOME};if(a&&t.userId===a){let r={userId:t.userId,orgId:t.destOrgId},a=t.folderId?d:m;if(c){let n=t.folderId?(0,C.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,C.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(t$.F.enqueue({message:n})),setTimeout(()=>{e.dispatch(e1._l({workspace:r,view:a}))},2e3)}else e.dispatch(e1.Dj({reason:"asset transfer reload",delay:e1.RH.DEFAULT}))}}},[e,r])}(),s.Tf.enableEventSending(),(0,m.h)(()=>{I&&e(vw.Jw())}),(0,_.IT)((0,v0.XZ)({currentOrgId:t??void 0,currentTeamId:R??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,o.k)().create_starter_files_from_file_browser&&n1.Gn.includes(k.view)});let[L,P]=a.useState(0),[M,B]=a.useState(0),[U,j]=a.useState(!1);(0,m.h)(()=>(document.body.classList.add(bi),document.documentElement.classList.add(bl),(0,i.$o)(),(0,G.I0)(k,t,R,A),(0,g.hW)("exp_aa_test_file_browser_view").catch(p.lQ),()=>{document.body.classList.remove(bi),document.documentElement.classList.remove(bl),(0,i.$E)(),e(tv.AS())})),a.useEffect(()=>{if(c.eD||(0,l.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--kte3I"),document.body.appendChild(e),document.body.classList.add(bs),()=>{document.body.classList.remove(bs),document.body.removeChild(e)}}},[]);let W=(0,u.ZC)(k);a.useEffect(()=>{W&&W!==k&&((0,v4.SW)(W,k)&&window.scrollTo(0,0),U?j(!1):(P(M+1),B(M+1)))},[W,k,U,M]),a.useEffect(()=>{"teamCreation"===k.view&&k.fromNewTab&&e(e1.Dw({previousView:k.previousView,onSubmitReturnToPrevView:k.onSubmitReturnToPrevView,isEduTeam:k.isEduTeam,ignoreCurrentPlan:!!(0,o.k)().fc_general||void 0}))},[k,e]);let $=f.g3&&!(0,o.k)().file_browser_enable_mweb,H=f.uG&&(0,o.k)().file_browser_enable_mweb||f.mZ;if("teamUpgrade"===k.view)return k.paymentStep===vg.tn.UPGRADE_NEW_TEAM?a.createElement(vZ,{selectedView:k}):D?a.createElement(v.q,{selectedView:k}):a.createElement(b.h,{selectedView:k});if("addAnnualPlan"===k.view)return a.createElement(vJ,{selectedView:k});if("teamCreation"===k.view)return k.fromNewTab?null:a.createElement(vL,{selectedView:k});if("addCollaborators"===k.view)return a.createElement(vv,{selectedView:k});if("orgSelfServe"===k.view){let e=D?h.G:y.N;return a.createElement(e,{step:k.step||ut.X1.Initial,initialDesignSeats:k.initialDesignEditors||0,orgMigrated:!!k.orgMigrated,dropdownShown:r,newTeamProps:k.newTeamProps,upsellSource:k.upsellSource,entryPoint:k.entryPoint})}if("teamRestore"===k.view)return a.createElement(vU,{selectedView:k});if("promoReview"===k.view)return a.createElement(w.z,{promo:N?.promo,selectedView:k});else if("eduReview"===k.view)return a.createElement(T.w,{selectedView:k});if(!I)return console.error(`Signed out page: unrecognized route ${d.Ay.location.pathname}, redirecting to /`),d.Ay.redirect("/"),null;if((0,o.k)().ps_benchmark&&!t&&!R)return console.error("No current organization or team plan set for user. Redirecting to /files"),d.Ay.redirect("/files"),null;let V=$&&a.createElement(E.R,{userIdForTracking:I?.id,renderBlockingPrompt:!0});return a.createElement(vR.C.Provider,{value:{goBack:()=>{M>0&&(history.back(),B(M-1),j(!0))},goForward:()=>{M<L&&(history.forward(),B(M+1),j(!0))},canGoBack:M>0,canGoForward:M<L}},$?V:a.createElement(a.Fragment,null,H&&a.createElement(E.R,{userIdForTracking:I?.id}),a.createElement(bn,null,a.createElement(br,null),a.createElement(v9,{downtime:O,notifications:F,dispatch:e}),a.createElement(vS,null),a.createElement(vo,{showingFileBrowserLoader:S}))))}},478953:(e,t,r)=>{r.r(t),r.d(t,{FileImportModal:()=>eo,FileRow:()=>em,ImportModal:()=>el,fileImportStats:()=>ed,getFooterButtons:()=>ei,getStatusComponents:()=>es,useCloseTabWarningWhenImportInProgress:()=>ep,useCurrentFolderTeam:()=>ec});var a=r(848318),n=r(716544),o=r(445777),l=r(258904),i=r(665488),s=r(846153),c=r(79508),d=r(24208),m=r(384409),u=r(224223),_=r(141039),p=r(921494),f=r(493554),g=r(991371),E=r(145015),v=r(26039),b=r(473889),h=r(575492),y=r(566699),w=r(17755),T=r(882439),x=r(442313),I=r(500276),k=r(496431),S=r(425966),C=r(449737),N=r(180423),R=r(155651),A=r(976308),O=r(92537),F=r(668599),D=r(273121),L=r(376780),P=r(635547),M=r(834111),B=r(988540),U=r(900169),j=r(183905),W=r(314272),$=r(515071),H=r(992277),G=r(776402),V=r(777611),z=r(575013),q=r(502255),Y=r(712477),K=r(997894);let J="file_import_modal--scrollContainer--rcZDu";var X=r(40021);function Q(e){let{fileImport:t,onDone:r,onCancel:l}=e,s=G.hS(e),c=(0,n.wA)(),d=ed(t),m=0===d.remainingFiles,u=ec(),_=(0,n.d4)(e=>"folder"===e.selectedView.view?e.selectedView.folderId:null),p=K.M4.Folder.useValue(_).data,[f,g]=(0,a.useState)(Y.uf.IMPORTING_FILES);ep(f===Y.uf.IMPORTING_FILES||f===Y.uf.ATTACHING_BRANCH);let v=p?.name||(0,x.t)("file_browser.tool_bar.drafts"),T=f===Y.uf.SUCCESS?(0,x.t)("file_browser.file_import_view.imported_to_folder",{folderName:v}):(0,x.t)("file_browser.file_import_view.import_to_folder",{folderName:v}),{statusIcon:I,statusMessage:k,statusMessageSecondary:S}=function(e,t,r){let n=null,l=null,s=null,c=es(e===Y.uf.SUCCESS,t,r);switch(e){case Y.uf.IMPORTING_FILES:n=c.statusIcon,l=c.statusMessage,s=c.statusMessageSecondary;break;case Y.uf.ATTACHING_BRANCH:n=a.createElement(b.kt,{imageBacked:!0,testId:"loadingSpinner"}),l=(0,x.tx)("file_browser.file_import_view.repo.attaching_branch"),s=a.createElement("span",{className:w.s.textBodyMedium.$},(0,x.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:a.createElement(E.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,x.tx)("file_browser.file_import_view.open_a_new_tab_link"))}));break;case Y.uf.SUCCESS:n=c.statusIcon,l=c.statusMessage,t.importedFiles===t.totalFiles&&(l=(0,x.tx)("file_browser.file_import_view.repo.success")),s=c.statusMessageSecondary;break;case Y.uf.ERROR:n=a.createElement(y.U,{svg:X.A,className:w.s.colorIcon.$,dataTestId:"warningIcon"},a.createElement(i.R,null)),l=(0,x.tx)("file_browser.file_import_view.repo.error");break;default:(0,o.xb)(e)}return n&&l?{statusIcon:n,statusMessage:l,statusMessageSecondary:s}:((0,q.$D)(H.e.SCENEGRAPH_AND_SYNC,Error("Missing status in repo import")),{statusIcon:a.createElement(y.U,{svg:X.A,className:w.s.colorIcon.$,dataTestId:"warningIcon"},a.createElement(i.R,null)),statusMessage:(0,x.tx)("file_browser.file_import_view.repo.error"),statusMessageSecondary:null})}(f,d,v),C=ei({isImportComplete:m,fileImport:t,onDone:r,team:u,dispatch:c,stats:d,shouldShowMoveToProjectButton:!1,onMoveToProject:()=>{},filesToMove:[],onCancel:l});return(0,a.useEffect)(()=>{if(m){g(Y.uf.ATTACHING_BRANCH);let e=Object.values(t.files),r=e.find(e=>e.name.includes("branch tip"))?.fileKey,a=e.find(e=>e.name.includes("branch point"))?.fileKey,n=e.find(e=>e.name.includes("main tip"))?.fileKey;r&&a&&n?(0,Y.yA)(r,a,n).then(()=>{g(Y.uf.SUCCESS)}).catch(()=>{g(Y.uf.ERROR)}):(g(Y.uf.ERROR),console.error("Missing branch key, branch point key, or main tip key files"))}},[m,t.files]),a.createElement(V.bL,{manager:s,width:480},a.createElement(z.vo,null,a.createElement(z.Y9,null,a.createElement(z.hE,null,T)),a.createElement(z.nB,null,t&&a.createElement(h.P,{innerClassName:w.s.flex.flexColumn.$,className:J},Object.values(t.files).map(e=>a.createElement(em,{key:`file-import-${e.id}`,file:e})))),a.createElement(z.wi,null,a.createElement("div",{className:w.s.flex.flexRow.wFull.justifyBetween.py8.gap16.bt1.bSolid.colorBorder.$},a.createElement("div",{className:w.s.flex.flexRow.itemsCenter.gap8.$},I&&a.createElement("div",{className:w.s.flex.itemsCenter.justifyCenter.h32.w32.$},I),k&&a.createElement("span",{className:w.s.fontSemiBold.$},k),S&&a.createElement("span",{className:w.s.ml8.$},S)),a.createElement("div",null,C)))))}var Z=r(444458),ee=r(491732),et=r(317822),er=r(558893),ea=r(164676),en=r(129448);function eo(){let e=(0,n.wA)(),{fileImport:t}=(0,p.R)(e=>({fileImport:e.fileImport})),r=()=>{e(C.Ce()),e(F.cY())},l=()=>{e(F.yD())},i=()=>{e(F.cY())},s=(()=>{switch(t.step){case U.Y5.CONFIRM_PDF_IMPORT:return a.createElement(Z.PdfConfirmationModal,{fileImportDescription:(0,x.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:ed(t).pdfCount}),onConfirm:t=>{e(F._9(t))},onCancel:()=>{e(F.AU()),l()}});case U.Y5.IMPORT_REPO:return a.createElement(Q,{fileImport:t,onDone:r,onCancel:l,onMoveToProject:i,onClose:()=>e(C.Ce()),open:!0});case U.Y5.START:case U.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case U.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return a.createElement(el,{fileImport:t,onDone:r,onCancel:l,onMoveToProject:i});default:(0,o.xb)(t.step)}})();return a.createElement(R.fu,{name:"import_progress_modal"},s)}function el({fileImport:e,onDone:t,onCancel:r,onMoveToProject:o}){let l=(0,n.wA)(),i=ec(),s=ed(e),c=(0,n.d4)(e=>e.selectedView),d=(0,S.I)(),m=0===s.remainingFiles,u=(0,n.d4)(e=>"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null),_=(0,O.Gi)(u),p=(0,M.K)(c);ep(!m);let E=u?.name||(0,x.t)("file_browser.tool_bar.drafts"),v=m?(0,x.t)("file_browser.file_import_view.imported_to_folder",{folderName:E}):(0,x.t)("file_browser.file_import_view.import_to_folder",{folderName:E}),{statusIcon:b,statusMessage:y,statusMessageSecondary:T}=es(m,s,E),I=d&&(_||p)&&s.importedFiles>=1,k=(0,a.useMemo)(()=>(function(e,t){let r=[];if(!e)return r;for(let e of Object.values(t))e.fileKey&&r.push({fileKey:e.fileKey});return r})(I,e.files),[I,e.files]),C=(0,f.p)(P.NSA,k),R=ei({isImportComplete:m,fileImport:e,onDone:t,team:i,dispatch:l,stats:s,shouldShowMoveToProjectButton:I,onMoveToProject:o,filesToMove:(0,a.useMemo)(()=>(function(e){let t=[];for(let r of e){let e=r.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(C),[C]),onCancel:r});return a.createElement(W.XV,{title:v,maxWidth:480,headerClassName:w.s.pl16.$,disableClickOutsideToHide:!m,isCloseHidden:!0,customButton:a.createElement(g.Jn,{onClick:e.queue.length?r:t,trackingProperties:{trackingDescriptor:N.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},e&&a.createElement(h.P,{innerClassName:w.s.flex.flexColumn.py4.$,className:J},Object.values(e.files).map(e=>a.createElement(em,{key:`file-import-${e.id}`,file:e}))),a.createElement("div",{className:w.s.flex.flexRow.justifyBetween.p8.pr12.gap16.bt1.bSolid.colorBorder.$},a.createElement("div",{className:w.s.flex.flexRow.itemsCenter.gap8.$},b&&a.createElement("div",{className:w.s.flex.itemsCenter.justifyCenter.h32.w32.$},b),y&&a.createElement("span",{className:w.s.fontSemiBold.$},y),T&&a.createElement("span",{className:w.s.ml8.$},T)),a.createElement("div",{className:w.s.flex.gap8.$},R)))}function ei({isImportComplete:e,fileImport:t,onDone:r,team:n,dispatch:o,stats:l,shouldShowMoveToProjectButton:i,onMoveToProject:s,filesToMove:c,onCancel:d}){var m;if(!e)return[a.createElement(T.$z,{variant:"destructive",onClick:d,htmlAttributes:{"data-testid":"cancelButton"},key:"cancelButton"},(0,x.tx)("file_browser.file_import_view.cancel"))];if(t.failedOnFileLimit)return[a.createElement(T.$z,{variant:"primary",onClick:()=>{r(),null!=n&&o((0,C.to)({type:$.DV,data:{team:n,resource:B.vL.FILE,action:j.ZN.IMPORT_FILES,editorType:l.editorType,multipleResources:l.failedFiles>1,currentPlan:A.F.Plan.STARTER,upsellPlan:A.F.Plan.PRO}}))},htmlAttributes:{"data-testid":"nextButton"},key:"nextButton"},(0,x.tx)("file_browser.file_import_view.next"))];let _=[(m=i?"secondary":"primary",a.createElement(T.$z,{variant:m,onClick:r,htmlAttributes:{"data-testid":"doneButton"},key:"doneButton"},(0,x.tx)("file_browser.file_import_view.done")))];return i&&_.push(function({onMoveToProject:e,filesToMove:t,stats:r,dispatch:n}){return a.createElement(T.$z,{variant:"primary",onClick:()=>{e(),(0,u.sx)("file_import.move_to_project.button_clicked",{numFiles:r.importedFiles}),1===t.length&&t[0]?(0,k.h)(t[0],null,n,void 0,{},void 0,!1,void 0,!0):(0,k.O)(t,[],n,!0)},htmlAttributes:{"data-testid":"moveToProjectButton"},key:"moveToProjectButton"},(0,x.tx)("file_browser.file_import_view.move_to_project"))}({onMoveToProject:s,filesToMove:c,stats:l,dispatch:o})),_}function es(e,t,r){let n=null,o=null,s=null;return e?t.importedFiles===t.totalFiles?(o=a.createElement("div",{className:w.s.fontSemiBold.inline.$},(0,x.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:t.totalFiles,folder:r})),n=a.createElement(y.U,{svg:et.A,className:w.s.colorIcon.$,dataTestId:"checkIcon"},a.createElement(l.l,null))):(o=a.createElement("div",{className:w.s.fontSemiBold.inline.$},(0,x.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:t.importedFiles,totalFiles:t.totalFiles,folder:r})),n=a.createElement(y.U,{svg:X.A,className:w.s.colorIcon.$,dataTestId:"warningIcon"},a.createElement(i.R,null)),t.canceledFiles>0&&(s=(0,x.tx)("file_browser.file_import_view.file_import_cancel"))):(n=a.createElement(b.kt,{imageBacked:!0,testId:"loadingSpinner"}),o=(0,x.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:t.processedFiles,totalFiles:t.totalFiles}),s=a.createElement("span",{className:w.s.textBodyMedium.$},(0,x.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:a.createElement(E.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,x.tx)("file_browser.file_import_view.open_a_new_tab_link"))}))),{statusIcon:n,statusMessage:o,statusMessageSecondary:s}}function ec(){return(0,n.d4)(e=>{if("folder"===e.selectedView.view){let t=e.selectedView.folderId&&e.folders[e.selectedView.folderId]?.team_id;if(null!=t)return e.teams[t]}return null})}function ed(e){let t=Object.keys(e.files).length,r=e.queue.length,a=0,n=0,l=0,i=0,s=0,c=new Set;for(let t in e.files){let r=e.files[t];if(r){switch(r.status){case U.mO.SUCCESS:case U.mO.WARNING:a++;break;case U.mO.CANCELED:n++;break;case U.mO.FAILURE:l++;break;case U.mO.WAITING:case U.mO.BUSY:i++;break;default:(0,o.xb)(r.status)}(0,U.kI)(r.name)&&s++,c.add((0,U.NU)(r))}}return{totalFiles:t,remainingFiles:r,processedFiles:t-r,importedFiles:a,canceledFiles:n,failedFiles:l,pendingFiles:i,editorType:1===c.size&&Array.from(c)[0]||null,pdfCount:s}}function em(e){let{file:t}=e,r=null;return t.status===U.mO.CANCELED?r=(0,x.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(r=Array.isArray(t.message)?t.message.map((e,t)=>a.createElement("div",{key:t},e)):t.message),a.createElement(e_,{status:t.status,fileKey:t.fileKey},a.createElement("div",{className:w.s.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$},a.createElement("div",{className:w.s.flex.gap8.if(r,w.s.itemsStart,w.s.itemsCenter).$},a.createElement("div",{className:w.s.flex.justifyCenter.h32.w32.itemsCenter.$},a.createElement(eu,{file:t})),a.createElement("div",{className:w.s.if(r,w.s.pb6).$},a.createElement("div",{className:w.s.truncate.lh32.$,style:I.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text"},t.name),r&&a.createElement("div",{className:w.s.flex.flexColumn.mt4.colorTextSecondary.$},r,t.cta&&a.createElement(E.Us,{className:w.s.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink"},t.cta.text))))))}function eu({file:e}){switch(e.status){case U.mO.BUSY:case U.mO.WAITING:return a.createElement(b.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});case U.mO.FAILURE:case U.mO.CANCELED:return a.createElement(y.U,{svg:er.A,className:w.s.colorIconDanger.$,dataTestId:"failIcon"},a.createElement(s.A,{className:w.s.colorIconDanger.$}));case U.mO.SUCCESS:case U.mO.WARNING:let t=(0,U.NU)(e);switch(t){case L._Y.WHITEBOARD:return a.createElement(y.U,{svg:en.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figJamFileIcon"},a.createElement(c.D,null));case L._Y.SLIDES:return a.createElement(v.MW,{type:v.y1.SLIDES,size:v.LE.SMALL});case L._Y.SITES:return a.createElement(v.MW,{type:v.y1.SITES,size:v.LE.SMALL,dataTestId:"siteFileIcon"});case L._Y.DESIGN:return a.createElement(y.U,{svg:ea.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figmaDesignFileIcon"},a.createElement(d.z,null));default:(0,o.xb)(t)}default:(0,o.xb)(e.status)}}function e_(e){let{fileKey:t,status:r,children:n}=e;if(r!==U.mO.SUCCESS&&r!==U.mO.WARNING)return n;let o=t?(0,D.jN)({file:{key:t}}):void 0;return o?a.createElement(E.Ph,{href:o,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--3JOhD","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"}},n,a.createElement(y.U,{svg:ee.A,className:w.s.flex.alignCenter.colorIconSecondary.$},a.createElement(m.S,null))):n}function ep(e){let t=(0,a.useCallback)(e=>{e.preventDefault()},[]);(0,a.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),_.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),_.eD?.setIsImporting(!1)}),[e,t])}},629455:(e,t,r)=>{r.r(t),r.d(t,{FileRestoreFromVersionModal:()=>g});var a=r(848318),n=r(716544),o=r(224223),l=r(145015),i=r(575492),s=r(442313),c=r(884060),d=r(449737),m=r(832876),u=r(142518),_=r(314272);let p="file_restore_from_version_modal--fileRestoreText--my8Lq";function f(e){let t=e.version;return a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreRow--ZAJ4y"},a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--ZXtyF"},t.user&&a.createElement(m.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--Ub3UH",size:30,entity:{img_url:t.user.img_url}}),e.connector&&a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreConnector--mhORY"})),a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreData--AQgSJ"},t.label&&a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreLabel--a6Shk ellipsis--ellipsis--Tjyfa"},t.label||""),t.description&&a.createElement("div",{className:p},t.description),a.createElement("div",{className:p},a.createElement(u.Cr,{time:t.touched_at})),a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreUser--Bv60C"},t.user?t.user.handle:"")),a.createElement(l.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--414BR",trusted:!0},(0,s.tx)("file_restore_from_version_modal.restore")))}function g(e){let t=(0,n.wA)(),r=r=>{(0,o.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:r}),t(d.Ce()),t(c.PF({fileKey:e.fig.key,versionId:r}))},l=e.versions.filter(e=>!e.disabled);return a.createElement(_.XV,{title:(0,s.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(d.Lo())}},a.createElement("div",{className:"file_restore_from_version_modal--fileRestorePanel--pMNT2"},a.createElement(i.P,{width:396},l.map((e,t)=>a.createElement(f,{key:e.id,version:e,callback:()=>r(e.id),connector:t+1!==l.length})))))}},444458:(e,t,r)=>{r.r(t),r.d(t,{PdfConfirmationModal:()=>E});var a=r(848318),n=r(445777),o=r(772138),l=r(776402),i=r(777611),s=r(575013),c=r(677772),d=r(311037),m=r(596616),u=r(741419),_=r(17755),p=r(882439),f=r(442313),g=r(180423);function E({fileImportDescription:e,onConfirm:t,onCancel:r}){let[E,v]=(0,a.useState)(void 0),b=(0,a.useMemo)(()=>{let e=(0,o.U)(u.h62).map(e=>({key:e,value:u.h62[e],label:function(e){switch(e){case u.h62.MIRO:return"Miro";case u.h62.MURAL:return"Mural";case u.h62.LUCID:return"Lucid";case u.h62.JAMBOARD:return"Jamboard";case u.h62.UNKNOWN:return(0,f.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,n.xb)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===u.h62.UNKNOWN?1:t.key===u.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]),h=(0,a.useCallback)(e=>{v(e)},[]),y=(0,a.useCallback)(()=>{E&&t(u.h62[E])},[t,E]),w=l.hS({open:!0,onClose:r,preventUserClose:!0});return a.createElement(i.bL,{manager:w,width:"fit-content"},a.createElement(s.vo,null,a.createElement(s.Y9,null,a.createElement(s.hE,null,(0,f.t)("file_browser.file_import_view.select_pdf_source_header"))),a.createElement(s.nB,null,a.createElement("div",{className:_.s.flex.flexColumn.pt4.gap16.textBodyMedium.$},a.createElement("div",null,e),a.createElement("form",{className:_.s.mb8.$},a.createElement(c.b,{legend:a.createElement(d.q,null,(0,f.tx)("file_browser.file_import_view.select_pdf_source_input_legend")),value:E,onChange:h},b.map(e=>a.createElement(c.c,{key:e.key,value:e.value,label:a.createElement(m.J,{className:_.s.textBodyMedium.$},e.label)},e.key===u.h62.UNKNOWN&&(0,f.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer"))))))),a.createElement(s.wi,null,a.createElement(s.jk,null,a.createElement(p.$z,{variant:"secondary",onClick:r,trackingProperties:{trackingDescriptor:g.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}},(0,f.tx)("modal.cancel")),a.createElement(p.$z,{variant:"primary",disabled:!E,onClick:y},(0,f.tx)("modal.confirm"))))))}},508549:(e,t,r)=>{r.r(t),r.d(t,{RevokeProjectTransferModal:()=>f});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(575013),s=r(356505),c=r(17755),d=r(442313),m=r(697714),u=r(449737),_=r(155651),p=r(378699);function f(e){let{pending:t,canTransferProject:r,isTransferTeam:f=!1}=e,g=(0,n.wA)(),E=o.hS(e),v=t.id,b=t.source_user_email,h=t.destination_user_email,y=t.is_transfer_copy,w=()=>{p.S.deleteAssetTransferRequest({id:v}).then(()=>{g(m.F.enqueue({message:(0,d.t)("revoke_transfer_modal.visual_bell.transfer_revoked")}))},e=>{g(m.F.enqueue({message:(0,d.t)("revoke_transfer_modal.visual_bell.something_went_wrong"),error:!0}))})};return a.createElement(_.fu,{name:"Asset Transfer Revoke Modal",properties:{pendingInviteId:v}},a.createElement(l.bL,{manager:E,width:"lg"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,(0,d.t)("revoke_transfer_modal.header_title"))),a.createElement(i.nB,{scrolling:"none"},a.createElement("div",{className:c.s.py8.$},f?(0,d.tx)("revoke_transfer_modal.transfer_details_team",{sourceUserEmail:b,destinationUserEmail:h}):y?(0,d.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:b,destinationUserEmail:h}):(0,d.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:b,destinationUserEmail:h})),a.createElement("div",{className:c.s.py8.$},(0,d.tx)("revoke_transfer_modal.function_explanation"))),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,d.t)("revoke_transfer_modal.go_back")),a.createElement(s.$n,{variant:"destructive",onClick:()=>{w(),g(u.Lo())},disabled:!r},(0,d.t)("revoke_transfer_modal.revoke")))))))}},105506:(e,t,r)=>{r.r(t),r.d(t,{FolderUpdateDescriptionModal:()=>s});var a=r(848318),n=r(716544),o=r(442313),l=r(54018),i=r(595324);function s({folder:e}){let t=(0,n.wA)();return a.createElement(i.c,{initialName:e.description??"",title:(0,o.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,o.t)("resource_rename_modal.save"),onRename:r=>t(l.ub({folderId:e.id,description:r.trim()})),allowEmptyString:!0,maxLength:200})}},947492:(e,t,r)=>{r.r(t),r.d(t,{FolderCreationModal:()=>er});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(575013),s=r(968189),c=r(157907),d=r(994811),m=r(493554),u=r(145015),_=r(482675),p=r(473889),f=r(17755),g=r(882439),E=r(442313),v=r(790355),b=r(54018),h=r(449737),y=r(405866),w=r(155651),T=r(592845),x=r(517989),I=r(661780),k=r(376780),S=r(635547),C=r(746948),N=r(154209),R=r(24096),A=r(572754),O=r(572699),F=r(668249),D=r(354041),L=r(920963),P=r(995946),M=r(710994),B=r(229424),U=r(266767),j=r(39773),W=r(730169),$=r(176629),H=r(670673),G=r(35315),V=r(680632),z=r(431060),q=r(61614),Y=r(151144);let K=(0,H.r1)("seen_sharing_clarity_project_modal_overlay"),J="sc_project_creation_permission_onboarding_key";function X(){let e=(0,j.md)(K),{show:t,isShowing:r,complete:n}=(0,$.e)({overlay:Y.QpH,priority:G.N.DEFAULT_MODAL},[e]);(0,W.h)(()=>{t({canShow:e=>!e})});let o=a.createElement("a",{href:"https://help.figma.com/hc/articles/360038006494-Create-a-new-project",className:f.s.colorTextOnbrand.underline.$},(0,E.tx)("rcs.sharing_clarity.learn_more"));return a.createElement(V.rq,{isShowing:r,title:(0,E.tx)("rcs.sharing_clarity.project_creation_permissions_title"),description:a.createElement("p",null,(0,E.tx)("rcs.sharing_clarity.project_creation_permissions_description",{learnMoreLink:o})),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",onClose:n,targetKey:J,arrowPosition:q.F_.LEFT_TITLE,zIndex:z.R.MODAL,emphasized:!0,disableHighlight:!0})}var Q=r(413206),Z=r(135609),ee=r(521068);let et="folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd";function er(e){let t=(0,n.wA)(),[r,j]=a.useState(""),[W,$]=a.useState(!1),[H,G]=a.useState(0),V=k.eD.TEAM_ACCESS_EDIT,z=T.h.useTrackingContext({trigger:L.b.FOLDER_CREATION_MODAL}),q=(0,n.d4)(e=>e.contacts),Y=(0,n.d4)(e=>e.dropdownShown),K=(0,n.d4)(e=>e.autocomplete),er=(0,I.iZ)(),ea=(0,m.Rs)(S.mCn,{teamId:e.teamId}),en=(0,m.Rs)(S.sMZ,{name:"seen_connected_project_in_project_creation_onboarding"}),eo=!!en.data?.currentUser?.userFlagByName,el=(0,c.k)().sc_workspace_audience,ei=a.useMemo(()=>{if("loading"===ea.status||!ea.data)return null;let t=ea.data.team;if(!t)return null;let r="loaded"===t.workspace.status?t.workspace.data:void 0,a={id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},n=t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,C.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting};return{team:a,plan:t?.plan,org:n||null,workspace:r}},[ea,e.teamId]),es=ei&&ei.team,ec=ei&&ei.org,ed=ei&&ei.plan,em=(0,x.H)({planParentId:ed?.key?.parentId??null,planType:ed?.key?.type??null})&&1===H&&ed?.tier!==k.Ag.STARTER&&!eo,eu=ec&&ec.org_domains?ec.org_domains:{domains:[],isFetching:!1,fetchedAt:null},e_=a.useCallback(()=>es&&es.sharing_audience_control!==k.PQ.ORG_EDIT&&es.sharing_audience_control!==k.PQ.ORG_VIEW?es.sharing_audience_control===k.PQ.WORKSPACE_EDIT||es.sharing_audience_control===k.PQ.WORKSPACE_VIEW?Q._9.WORKSPACE:Q._9.INVITE_ONLY:Q._9.ORG,[es]),ep=a.useCallback(()=>es&&(es.sharing_audience_control===k.PQ.ORG_EDIT||es.sharing_audience_control===k.PQ.WORKSPACE_EDIT)?Q.J4.EDIT:Q.J4.VIEW,[es]),[ef,eg]=a.useState(e_()),[eE,ev]=a.useState(ep()),[eb,eh]=a.useState(P.e6.EDITOR);a.useEffect(()=>{eg(e_()),ev(ep())},[e_,ep]);let ey=()=>{1===H?G(0):(t(h.Lo()),t(v.bx()))},ew=(0,O.ST)({migrationGroup:F.L.GROUP_1,component:"FolderCreationModal",attribute:"isPlanGuest",legacy:e=>!(e?.team?.org?.currentBaseOrgUser?.permission!==k._D.GUEST),migrated:e=>!(e?.team?.org?.currentPlanUser?.permission!==k.Xn.GUEST),lgQuery:ea}),eT=e=>(0,A.t9)(e,ec,eu),ex=e=>{let t=(0,c.k)().folder_creation_restricted_guests_err_ui&&ec?.invite_whitelist_guest_invite_setting!=null;return(0,A.yI)(e,q.usersByEmail[e]||e,ec,eu,er.email,t?(0,E.t)("project_creation.restricted_against_adding_external_users"):null)},eI=()=>ec&&ec.domain_capture&&eu.domains.length>0?(0,M.Z)(K).filter(e=>(0,d.xf)(e)&&!(0,N.H_)(eu.domains,e)):[],ek=e=>{if(ec&&ec?.invite_whitelist_guest_invite_setting==null&&e.length>0){t((0,h.to)({type:ee.F,data:{emails:e,onConfirm:()=>{eS()},popStack:!0,orgName:ec.name}}));return}},eS=()=>{let a;ef===Q._9.ORG?a=eE===Q.J4.EDIT?k.PQ.ORG_EDIT:k.PQ.ORG_VIEW:ef===Q._9.WORKSPACE?a=eE===Q.J4.EDIT?k.PQ.WORKSPACE_EDIT:k.PQ.WORKSPACE_VIEW:ef===Q._9.INVITE_ONLY&&(a=k.PQ.INVITE_ONLY),t(b.vt({shouldRedirect:!e.modalShown,name:r.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:ec?a:void 0,teamAccess:V,inviteEmails:(0,M.Z)(K),inviteLevel:eb,orgId:ec?.id,onFolderCreated:e.onFolderCreated}))},eC=o.hS({open:e.open,onClose:ey}),eN=0===H?a.createElement(a.Fragment,null,a.createElement("div",{className:et},(0,E.t)("project_creation.name")),a.createElement(u.ks,{"aria-label":(0,E.t)("project_creation.project_name"),autoFocus:!0,className:"folder_creation_modal--folderNameInput--Lcn4c",maxLength:u.wG,minLength:1,onBlur:()=>$(!1),onChange:e=>j(e.target.value),onFocus:()=>$(!0),placeholder:(0,E.t)("project_creation.ex_growth_experiments"),required:!0,value:r}),0===r.trim().length&&!W&&a.createElement("div",{className:"folder_creation_modal--inputErrorMessage--AGzQC"},(0,E.t)("project_creation.project_name_empty")),ec&&es&&a.createElement(a.Fragment,null,a.createElement("div",{className:et,"data-onboarding-key":J},(0,E.t)("project_creation.who_has_access")),a.createElement(X,null),a.createElement(Q.YU,{resourceType:k.vt.FOLDER,value:ef,onChange:eg,org:ec,team:es,audienceAccessLevel:eE,workspace:el?ei.workspace:void 0}),ef!==Q._9.INVITE_ONLY&&a.createElement(a.Fragment,null,a.createElement("div",{className:et},(0,E.t)("folder_permissions_modal.what_they_can_do")),a.createElement(Q.Iz,{selectedPermissionsLevel:eE,setSelectedPermissionsLevel:ev}),a.createElement("div",{className:"folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd"},eE===Q.J4.VIEW?(0,E.t)("project_creation.can_view_and_comment"):(0,E.t)("project_creation.can_create_and_edit_files"))))):(()=>{let e=ec?ec.id:null,r=[P.e6.EDITOR,P.e6.VIEWER];return a.createElement("div",{className:"folder_creation_modal--stepTwoContainer--7Oi4o"},a.createElement(U.e,{SearchResultComponent:Z.o,TokenComponent:Z.g,autocomplete:K,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:Y,fixedAutocompleteResults:!0,getSearchResults:t=>(0,D.Wj)(t,q.usersByEmail,er,[],e,null,null,ew,{inviteLevel:eb,source:"folder-creation-modal"}),getSelectText:R.C1,inviteLevel:eb,joinLinkShown:!1,onInviteLevelChange:eh,options:r,placeholderText:(0,E.t)("team_creation.add_a_name_or_email"),searchResultToken:eT,shouldAutoFocus:!0,useContainerRefForWidth:!0,validateToken:ex,validateTokensAsEmail:!0}))})();return a.createElement(w.fu,{name:B.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:es?.id,...z}},a.createElement(l.bL,{manager:eC,width:"lg"},a.createElement("div",{className:"folder_creation_modal--multiContents--U8sJ8"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,0===H?(0,E.t)("project_creation.create_project"):(0,E.t)("project_creation.add_people_to_project_name",{projectName:r}))),a.createElement(i.nB,null,ei?eN:a.createElement("div",{className:"folder_creation_modal--loading--9KmQd"},a.createElement(p.qc,null))),ei&&a.createElement(i.wi,null,a.createElement("div",{className:"folder_creation_modal--footer--9Hie8 folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,E.tx)("project_creation.step_number_of_max_steps",{currentStep:H+1,maxSteps:2})),a.createElement(i.jk,null,a.createElement(g.$z,{onClick:ey,variant:"secondary"},0===H?(0,E.tx)("project_creation.cancel"):(0,E.tx)("project_creation.back")),a.createElement(g.$z,{variant:"primary",onClick:()=>{if(0===H)G(1);else if(ec){let e=eI();e.length>0?ek(e):eS()}else eS()},disabled:0===H&&0===r.trim().length},0===H?(0,E.tx)("general.continue"):(0,E.tx)("project_creation.create_project"))))),em&&a.createElement(i.Wk,null,a.createElement(_._,{color:_.S.INFORMATION,icon:a.createElement(s.U,null),onDismiss:()=>{t(y.b({seen_connected_project_in_project_creation_onboarding:!0}))},text:a.createElement(a.Fragment,null,a.createElement("p",{className:f.s.textBodyMediumStrong.$},(0,E.t)("project_creation.figma_has_connected_projects")),a.createElement("p",null,(0,E.tx)("project_creation.learn_more_about_the_benefit",{learnMore:a.createElement("a",{className:"folder_creation_modal--learnMore--JSUSP modal--blueLink--9GcJu blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank"},(0,E.t)("file_browser.team_settings.learn_more"))})))})))))}},8509:(e,t,r)=>{r.d(t,{Mv:()=>x,tG:()=>y});var a=r(848318),n=r(379338),o=r(857188),l=r(145015),i=r(17755),s=r(280198),c=r(442313),d=r(449737),m=r(871117),u=r(376780),_=r(511231),p=r(710665),f=r(143983),g=r(464012),E=r(117592),v=r(605247);function b(e){let t=a.useRef(null),[r,u]=a.useState(!1),[g,E]=a.useState(null),b=new _.vr(e.currency),h=!e.allowZeroSeats,y=e.numAnnualEditors,T=y>0,I=t=>{e.onNumAnnualEditorsChange(t)},k=a.createElement("button",{type:"button",className:v.J,"data-testid":`add-${e.editorType}-seats`,onClick:()=>u(!0)},(0,c.tx)("payments.step_pay.add_more_seats"));return a.createElement("div",{className:v.wD,key:`${e.editorType}-step-pay-row`,"data-testid":`${e.editorType}-step-pay-row`},a.createElement("div",null,a.createElement("div",{className:v.Uu},a.createElement("span",null,(0,c.tx)("payments.step_pay.editors_on_annual_plan.seat_rename",{numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:r?a.createElement(l.ks,{ref:t,className:v.jD,value:null==g?e.numAnnualEditors:g,onChange:e=>{E(e.target.value)},onBlur:()=>{let t=parseInt(g);if(!isNaN(t)){if(t<0)e.dispatch(s.s.error((0,c.t)("flash.no_negative_seats")));else if(0===t)h?e.dispatch(s.s.error((0,c.t)("flash.at_least_one_editor.seat_rename"))):I(0);else if(t>p.m){let t=a.createElement("a",{href:`mailto:${(0,n.W4)()}`},(0,c.tx)("flash.annual_plan.contact_support_link"));e.dispatch(s.s.error((0,c.tx)("flash.annual_plan.contact_support",{contactSupport:t,maxAnnualSubscriptions:p.m})))}else t>100?e.dispatch(d.to({type:x,data:{numAnnualEditors:t,onConfirm:()=>I(t)}})):I(t)}E(null),u(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===o.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===o.Uz.ESCAPE&&u(!1)}}):e.numAnnualEditors,productType:(0,f.E)((0,m.vc)(e.editorType))}))),!r&&a.createElement("div",{className:i.s.flex.flexColumn.gap4.$},e.editorBreakdown,a.createElement("p",{className:v.eK},(0,c.tx)("payments.step_pay.add_more_editors",{addMoreSeats:k})))),a.createElement(w,{amount:e.totalCost,lineItem:T?y>0?(0,c.t)("payments.step_pay.price_per_editor_12_months",{price:b.formatMoney(e.annualMonthlyCost,{showCents:!1}),editorString:(0,c.t)("payments.step_pay.num_editors.seat_rename",{numEditors:y})}):(0,c.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function h(){return a.createElement("div",{className:v.me})}function y(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:r,isTeamPro:n,totalDesignEditors:o,totalWhiteboardEditors:l,monthlyDesignAmount:i,monthlyFigjamAmount:s,annualMonthlyDesignAmount:d,annualMonthlyFigjamAmount:m}=e,_=o-t,p=t*d*12+(!n&&_>0?_*i:0),f=l-r,g=r*m*12+(!n&&f>0?f*s:0);return a.createElement("div",null,a.createElement(b,{dispatch:e.dispatch,editorType:u._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==r,currency:e.currency,totalCost:p,annualMonthlyCost:d}),a.createElement(b,{dispatch:e.dispatch,editorType:u._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:r,allowZeroSeats:0!==t,currency:e.currency,totalCost:g,annualMonthlyCost:m}),a.createElement(h,null),a.createElement("div",{className:v.wD},a.createElement("div",{className:v.YK},(0,c.tx)("payments.step_pay.subscription")),a.createElement(T,{amount:p+g,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function w(e){let t=new _.vr(e.currency);return a.createElement("div",{className:v.R6},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",a.createElement("div",{className:i.s.flex.flexColumn.gap4.$},e.lineItem&&a.createElement("div",{className:v.eK},e.lineItem)))}function T(e){let t=new _.vr(e.currency);return a.createElement("div",{className:v.X5},a.createElement("p",{className:v.IW,"data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&a.createElement("p",{className:v.B8},(0,c.tx)("payments.step_pay.plus_sales_tax")))}let x="confirm-seats-modal";function I(e){let t=e.modalShown.data.numAnnualEditors;return a.createElement(E.Rw,{confirmationTitle:(0,c.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,c.t)("payments.step_pay.confirm_seats"),...e},(0,c.tx)("payments.step_pay.happy_you_want_to_buy_seats",{numAnnualEditors:t}))}(0,g.qK)(x,e=>a.createElement(I,{...e}))},441048:(e,t,r)=>{r.d(t,{l:()=>a});let a="trashed-projects"},142531:(e,t,r)=>{r.r(t),r.d(t,{AddPinModal:()=>h});var a=r(848318),n=r(716544),o=r(445777),l=r(992277),i=r(193324),s=r(493554),c=r(502255),d=r(280198),m=r(442313),u=r(775038),_=r(449737),p=r(481540),f=r(918105),g=r(635547),E=r(773988),v=r(168115),b=r(237461);function h({fileKey:e,source:t,open:r,onClose:o}){let u=(0,n.wA)(),h=(0,v.p)((0,m.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),w=(0,s.Rs)(g.wtK,{fileKey:e}),T=function(e){let[t,r]=a.useState(!1),n="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return n&&!t&&r(!0),n||t}(w);if("loaded"!==w.status)return null;let{file:x}=w.data;if(!x)return(0,c.$D)(l.e.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),u(_.Lo()),null;let I=x.computedWorkspace?.workspace;if(!I)return(0,c.$D)(l.e.WAYFINDING,Error("AddPinModal opened for file with no workspace")),u(_.Lo()),null;let k=f.F.toSinatra(x),S=async e=>{try{await E.p.pinFile({resourceType:b.AH,resourceId:I.id,fileKey:x.key,description:e,shouldUpdatePermissions:T}),(0,p.E9)("file_browser_file_pinned_to_resource",x,{resourceType:b.AH,resourceId:I.id,source:t,pinDescription:(0,i._Z)(e)}),h(I.id)}catch(e){throw u(d.s.error((0,m.t)("file_browser.pinning.pin_modal.error"))),e}},C=T?a.createElement(y,{file:x,workspace:I}):null;return a.createElement(v.N,{title:(0,m.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,m.t)("file_browser.pinning.pin_file"),onSubmit:S,file:k,initialDescription:null,warningContent:C,open:r,onClose:o})}function y({file:e,workspace:t}){let r=e.parentOrgId;(0,o.B1)(r);let l=(0,n.d4)(({orgById:e})=>e[r].name);return a.createElement(u.E,null,(0,m.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:a.createElement(u.E,{fontWeight:"bold"},(0,m.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:l}))}))}},860441:(e,t,r)=>{r.r(t),r.d(t,{DeletePinModal:()=>v});var a=r(848318),n=r(716544),o=r(992277),l=r(193324),i=r(493554),s=r(502255),c=r(956715),d=r(280198),m=r(442313),u=r(481540),_=r(661780),p=r(376780),f=r(635547),g=r(773988),E=r(168115);function v({pinnedFileId:e,open:t,onClose:r}){let v=(0,_.TA)(),b=(0,n.wA)(),h=(0,E.p)((0,m.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[y,w]=a.useState(!1),T=(0,i.Rs)(f.qBf,{pinnedFileId:e});if("loaded"!==T.status)return null;let{pinnedFile:x}=T.data;if(!x)return(0,s.$D)(o.e.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),r(),null;if(x.resourceType!==p.K.WORKSPACE)return(0,s.$D)(o.e.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:x.resourceType}}),r(),null;let I=async t=>{t.preventDefault();try{w(!0),await g.p.deletePin({pinnedFileId:e}),(0,u.E9)("file_browser_file_unpinned_from_resource",x.file,{resourceId:x.resourceId,resourceType:x.resourceType,isPinCreator:x.creator?.id===v,pinDescription:(0,l._Z)(x.description)}),h(x.resourceId),r()}catch(e){b(d.s.error((0,m.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return a.createElement(c.R,{title:(0,m.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,m.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:I,destructive:!0,isLoading:y,open:t,onClose:r},(0,m.t)("file_browser.pinning.delete_pin_modal.content"))}},896704:(e,t,r)=>{r.r(t),r.d(t,{EditPinModal:()=>g});var a=r(848318),n=r(716544),o=r(992277),l=r(493554),i=r(502255),s=r(280198),c=r(442313),d=r(449737),m=r(918105),u=r(376780),_=r(635547),p=r(773988),f=r(168115);function g({pinnedFileId:e,open:t,onClose:r}){let g=(0,n.wA)(),E=(0,f.p)((0,c.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),v=(0,l.Rs)(_.vgO,{pinnedFileId:e});if("loaded"!==v.status)return null;let{pinnedFile:b}=v.data;if(!b)return(0,i.$D)(o.e.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),g(d.Lo()),null;if(b.resourceType!==u.K.WORKSPACE)return(0,i.$D)(o.e.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:b.resourceType}}),g(d.Lo()),null;let h=b.resourceId,y=async t=>{try{await p.p.updatePin({pinnedFileId:e,description:t}),E(h)}catch(e){throw g(s.s.error((0,c.t)("file_browser.pinning.pin_modal.edit.error"))),e}},w=m.F.toSinatra(b.file);return a.createElement(f.N,{title:(0,c.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,c.t)("file_browser.pinning.pin_modal.save"),onSubmit:y,file:w,initialDescription:b.description,open:t,onClose:r})}},168115:(e,t,r)=>{r.d(t,{N:()=>P,p:()=>M});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(575013),s=r(356505),c=r(665488),d=r(193324),m=r(473889),u=r(290868),_=r(17755),p=r(442313),f=r(697714),g=r(572112),E=r(918663),v=r(790355),b=r(717752),h=r(834996),y=r(139348),w=r(39773),T=r(536384),x=r.n(T),I=r(387784),k=r(303035),S=r(575492),C=r(645736),N=r(501805),R=r(166436),A=r(542052),O=r(835491);function F({buttonClassName:e,onInsert:t,closeOnInsert:r}){let[n,o]=a.useState(null),l=a.useRef(null),i=a.useCallback(()=>{l.current&&o(l.current.getBoundingClientRect())},[o]),s=a.useCallback(e=>{t(e),r&&o(null)},[t,r,o]);return a.createElement("button",{className:e,ref:l,onClick:i},a.createElement(A.In,{icon:"smiley-32"}),n&&a.createElement(O._,{onInsert:s,onCancel:()=>o(null),targetRect:n}))}let D={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function L({placeholder:e,text:t,onChange:r,maxLength:o,onSubmit:l,textAreaClassName:i}){let s=(0,n.wA)(),c=w.zl.get(N.ph),[m,u]=a.useState(!1),p=a.useRef(null),f=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p.current&&p.current.focus()},[]),g=(0,d.Kq)(t,{includeTrailingWhitespace:!0});return a.createElement("div",{className:"emoji_text_area--textAreaContainer--4FHeL",onClick:f},a.createElement(S.P,{className:x()(_.s.flexGrow1.overflowAuto.maxWFull.borderBox.if(m,_.s.bb1.bSolid.colorBorder).$,i),innerClassName:_.s.hFull.$},a.createElement(R.iX,{ref:p,className:_.s.pt16.px16.borderBox.if(m,_.s.pb4).$,currentOrgUsers:{orgUsers:{}},dispatch:s,editorOnClear:k.lQ,editorOnInsert:k.lQ,mentionables:D,messageMeta:t,mountInputFocused:!0,onCancel:k.lQ,onFocus:k.lQ,onSubmit:l??k.lQ,onUpdateTextArea:k.lQ,placeholderText:e,setIsEditorFocused:k.lQ,submitOnEnter:!1,typeahead:c,updateMessage:([e,t])=>{r(e)}}),a.createElement(C.a,{onInitialLoad:e=>u(!e),onIntersectionChange:e=>u(!e.isIntersecting)})),a.createElement("div",{className:_.s.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$},a.createElement(F,{buttonClassName:"emoji_text_area--emojiPickerButton--CGYqF",onInsert:e=>{if(p.current){let t=I.dN.get(e.id);t&&(p.current.insertEmoji(t),p.current.focus())}},closeOnInsert:!0}),o&&a.createElement("div",{className:_.s.if(g>o,_.s.colorTextDanger,_.s.colorTextSecondary).cursorDefault.$},g,"/",o)))}function P({title:e,confirmText:t,onSubmit:r,file:n,initialDescription:f,warningContent:v,open:h,onClose:y}){let[w,T]=a.useState(f??[]),[x,I]=a.useState(!1),k=(0,b.fA)(n),S=(0,g.l)(n.folder_id),C=(0,d.Kq)(w,{includeTrailingWhitespace:!0}),N=C<=100&&C>0,R=a.useCallback(async()=>{if(N)try{I(!0),await r(w),y()}finally{I(!1)}},[r,N,y,w]),A=o.hS({open:h,onClose:y}),O=a.createElement(a.Fragment,null,a.createElement("div",{className:_.s.p16.gap16.flex.flexColumn.$},a.createElement("div",{className:_.s.flex.flexColumn.gap16.$},a.createElement("div",null,a.createElement(u.e,{tile:k,borderRadius:6})),a.createElement("div",{className:_.s.flex.flexRow.gap8.itemsCenter.$},a.createElement(E.j,{tile:k,usePageIcon:!0}),a.createElement("div",{className:_.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$},a.createElement("div",{className:_.s.textBodyLargeStrong.truncate.$},n.name),"loaded"===S.status&&S.data?a.createElement("div",{className:_.s.colorTextSecondary.truncate.$},S.data):null))),a.createElement(L,{placeholder:(0,p.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:w,onChange:T,onSubmit:R,maxLength:100,textAreaClassName:_.s.maxH100.$})),v?a.createElement("div",{className:_.s.colorBgWarningTertiary.px16.py12.flex.columnGap8.$},a.createElement(c.R,{className:_.s.flexShrink0.$}),a.createElement("span",null,v)):null);return a.createElement(l.bL,{manager:A,width:"lg"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,e)),a.createElement(i.nB,{padding:0},O),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:y},(0,p.tx)("modal.cancel")),x?a.createElement(s.$n,{disabled:!0},a.createElement(m.kt,{className:_.s.colorIconOnbrand.$})):a.createElement(s.$n,{disabled:!N,variant:"primary",onClick:R},t)))))}function M(e,t){let r=(0,n.wA)(),o=(0,h._6)();return a.useCallback(a=>{let n;("workspace"!==o.view||o.subView!==y.V0.DIRECTORY)&&(n={text:(0,p.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{r(v.$T({view:"workspace",subView:y.V0.DIRECTORY,workspaceId:a,selectedTab:y.dN.TEAMS}))}}),r(f.F.enqueue({type:t,message:e,button:n}))},[r,e,t,o])}},843493:(e,t,r)=>{r.d(t,{$:()=>u});var a=r(848318),n=r(716544),o=r(44509),l=r(857188),i=r(790355),s=r(110979),c=r(87089),d=r(139348);if(443==r.j)var m=r(980753);function u(){let e=(0,c.dq)(),t=(0,n.wA)();return a.useCallback((r,a)=>{if(t(s.kg({clickedResourceType:"workspace",resourceIdOrKey:r??void 0})),(0,l.Fo)(a)||a.shiftKey){let t=`/files/${e}/workspace/${r??m.O}/directory/teams`;o.Ay.redirect(t,"_blank"),a.preventDefault()}else t(i.$T({view:"workspace",subView:d.V0.DIRECTORY,workspaceId:r,selectedTab:d.dN.TEAMS}))},[e,t])}},894009:(e,t,r)=>{r.d(t,{h:()=>v});var a=r(848318),n=r(425642),o=r(442313),l=r(458128),i=r(716544),s=r(539578),c=r(669976),d=r(790355),m=r(110979),u=r(481540),_=r(841747),p=r(748288),f=r(832876),g=r(697906);function E(e){let[t,r]=a.useState(!1),n=(0,i.wA)(),o=(0,i.d4)(e=>e.selectedView),l=(0,_.FC)(),E=e.team,v=()=>{(0,u._J)("file_browser_team_click",E.id,l,{selectedView:"recentsAndSharing"===o.view?o.tab||p.G.RECENTLY_VIEWED:o.view,viewMode:"grid"}),n(m.kg({clickedResourceType:"team",resourceIdOrKey:E.id})),n(d.$T({view:"team",teamId:E.id}))},b=e.selectedTeamId===e.team.id,h=t||b;return a.createElement(c.a,{canView:!0,description:E.description,headerLeft:a.createElement(f.Ro,{className:g.rP,entity:E,size:40}),headerRight:a.createElement(s.m,{team:E,onLeave:e.onLeave,isCardActive:h}),isCardActive:h,isSelected:b,name:E.name,onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&v()},onMouseOut:()=>{r(!1)},onMouseOver:()=>{r(!0)}})}function v(e){let t=e.teams;(0,n.KQ)(t,"name");let[r,i]=a.useState(void 0);return a.createElement(l.X,{emptyView:(0,o.tx)("team_tile.guest.no_teams.info",{orgName:e.orgName})},t.map(t=>a.createElement(E,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:r,setSelectedTeamId:i})))}},458128:(e,t,r)=>{r.d(t,{X:()=>s});var a=r(848318),n=r(468189),o=r(536384),l=r.n(o),i=(e=>(e.Medium="Medium",e.Large="Large",e))(i||{});function s(e){let t;return e.isLoading?a.createElement("div",{className:"tile_grid--loadingContainer--1gQIv"},a.createElement(n.k,{htmlAttributes:{"data-testid":"loading-spinner"}})):!e.children||Array.isArray(e.children)&&!e.children.length?a.createElement("div",{className:"tile_grid--emptyContainer--y8P1H text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--EZC2-":"tile_grid--gridMedium--fzult",a.createElement("div",{className:l()("tile_grid--gridContainer--cn4vx",e.containerClassName)},a.createElement("div",{className:t},e.children)))}},773988:(e,t,r)=>{r.d(t,{p:()=>n});var a=r(757033);let n=new class{async pinFile({resourceType:e,resourceId:t,fileKey:r,description:n,shouldUpdatePermissions:o}){await a.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:r,description:n,should_update_permissions:o})}async updatePin({pinnedFileId:e,description:t}){await a.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await a.Ay.del(`/api/pinned_files/${e}`)}}},227058:(e,t,r)=>{r.d(t,{i:()=>p});var a=r(848318),n=r(536384),o=r.n(n),l=r(818754),i=r(397579),s=r(400471),c=r(21406),d=r(442313),m=r(377549),u=r(786175);let _=(0,l.jz)(u.figmaComponentFlyoutTextMaxCollapsedHeight);function p({description:e,description_rt:t}){let r=a.useRef(null),[n,l]=a.useState(!0),[u,p]=a.useState(!1),f=(0,i.ZC)(e);a.useEffect(()=>{if(e&&r.current&&f!==e){let e=r.current.scrollHeight>_;l(e),p(e)}},[e,f]);let g=a.useCallback(()=>{n&&p(!0),l(!n)},[n]);if(!e&&!t)return null;let E=!!e&&(n||u);return a.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?a.createElement("div",null,a.createElement(c.C,{value:t,valueFormat:(0,s.j_)(t),namespace:"component-description-flyout-lexical-editor-readonly",lexicalContentClassName:n?m.D6:m.kF,innerRef:r})):a.createElement("div",{ref:r,className:o()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":n},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),E&&a.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:g},n?(0,d.tx)("design_systems.assets_panel.show_more"):(0,d.tx)("design_systems.assets_panel.show_less")))}},74276:(e,t,r)=>{r.d(t,{$v:()=>x,BI:()=>k,Ec:()=>R,Lz:()=>A,Mi:()=>S,Nm:()=>C,_G:()=>N,jA:()=>w,lj:()=>I,rQ:()=>O,yG:()=>T});var a=r(848318),n=r(716544),o=r(741419),l=r(453822),i=r(166365),s=r(17755),c=r(442313),d=r(667323),m=r(376780),u=r(710665),_=r(35315),p=r(355323),f=r(6760),g=r(969048),E=r(345908);if(443==r.j)var v=r(563869);if(443==r.j)var b=r(136271);if(443==r.j)var h=r(623519);function y(){return a.createElement(l.Ex,{color:l.zE.DEFAULT,text:(0,c.t)("pro_onboarding.professional"),className:s.s.colorTextBrand.colorBgSelectedSecondary.font11.$})}function w({dismissModal:e}){let t="team-view-new-project-cta";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.hello_organized_files"),subtitle:(0,c.t)("pro_onboarding.now_that_you_re_on_a_professional_team_move_your_files_into_project"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:a.createElement(y,null)})}function T({dismissModal:e,canCreateFigjamBoard:t}){let r="folder-page-view-new-file-cta";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:f.F_.TOP,title:t?(0,c.t)("pro_onboaridng.so_many_files_and_boards"):(0,c.t)("pro_onboaridng.so_many_files"),subtitle:t?(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files_pages_and_figjam_boards"):(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:a.createElement(y,null)})}function x({dismissModal:e}){let t="share-prototype";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.prototpye_only_links"),subtitle:(0,c.t)("pro_onboarding.on_your_professional_plan_you_can_share_prototypes"),width:300,badge:a.createElement(y,null)})}function I({dismissModal:e}){let t="meeting-panel-button";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.start_a_voting_session"),subtitle:(0,c.t)("pro_onboarding.if_you_want_to_reach_a_decision_keep_things_simple_with_a_figjam_vote"),width:320,badge:a.createElement(y,null)})}function k({dismissModal:e}){return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"pages-panel-toggle",calloutTargetKey:"pages-panel-toggle",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.unlimited_pages_title"),subtitle:(0,c.tx)("rcs.pro_trials_onboarding.unlimited_pages_subtitle",{maxFreePages:u.LF[m._Y.DESIGN]}),width:320,badge:a.createElement(y,null)})}function S({dismissModal:e}){let t=(0,n.d4)(e=>e.multiplayer.allUsers.length>1),r=t?"audio-nux-key":E.v4,o=t?(0,c.t)("pro_onboarding.if_other_people_are_in_your_file_select_the_headphones"):(0,c.t)("rcs.pro_trials_onboarding.audio_subtitle_without_multiple_users");return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:f.F_.TOP,title:(0,c.t)("rcs.pro_trials_onboarding.audio_title"),subtitle:o,width:320,badge:a.createElement(y,null)})}function C({dismissModal:e}){return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-workshop-row",calloutTargetKey:"file-workshop-button",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_title"),subtitle:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_subtitle"),width:300,badge:a.createElement(y,null)})}function N({dismissModal:e}){let t=[(0,c.t)("rcs.pro_trials_onboarding.password_protection_first_instruction",{linkAccessOptionText:(0,c.t)("file_access_row.anyone_with_the_link_and_password")}),(0,c.t)("rcs.pro_trials_onboarding.password_protection_second_instruction")];return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-access-row",calloutTargetKey:"'file-share-audience-select-key'",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.password_protection_title"),width:320,instructions:t,disableClickOutsideToHide:!0,badge:a.createElement(y,null)})}function R({dismissModal:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>Object.keys(e.library.local.components).length>0),l=(0,n.d4)(e=>e.mirror.appModel.keyboardShortcuts),s=(0,p.c1)(l,"create-symbol");a.useEffect(()=>{t(d.FP({tab:o.xae.ASSETS}))},[]);let m=a.createElement(i.B,{svg:h.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),autosize:!0}),u=a.createElement(i.B,{svg:b.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),autosize:!0}),E=[a.createElement(a.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_with_components",{teamLibraryIcon:m})),(0,c.t)("rcs.pro_trials_onboarding.component_publishing_third_instruction_with_components",{publishButtonText:(0,c.t)("design_systems.libraries_modal.publish")})],v=[(0,c.t)("rcs.pro_trials_onboarding.component_publishing_first_instruction_without_components"),a.createElement(a.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_without_components",{createComponentIcon:u,createComponentShortcut:s}))],w=r?(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_with_components"):(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_without_components"),T=r?void 0:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_subtitle_without_components");return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:_.D,calloutTargetKey:_.D,arrowPosition:f.F_.LEFT_TITLE,title:w,subtitle:T,width:320,instructions:r?E:v,badge:a.createElement(y,null)})}function A({dismissModal:e}){let t=a.createElement(i.B,{svg:v.A,title:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),autosize:!0}),r=(0,c.tx)("rcs.pro_trials_onboarding.video_subtitle",{imageOrVideoIcon:t});return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"tool-place-image",calloutTargetKey:"tool-place-image",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.video_title"),subtitle:r,width:320,badge:a.createElement(y,null)})}function O({dismissModal:e}){let t="local-variables-panel-title";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("pro_onboarding.variables_save_you_time"),subtitle:(0,c.tx)("pro_onboarding.use_variables_in_components_and_prototypes"),width:320,badge:a.createElement(y,null)})}},469956:(e,t,r)=>{r.d(t,{R:()=>b});var a=r(848318),n=r(356505),o=r(536384),l=r.n(o),i=r(224223),s=r(423995),c=r(379338),d=r(831932),m=r(975512),u=r(442313),_=r(180423),p=r(155651);let f="mobile_download_prompt--mobilePromptTitle--7Tgsn text--fontPos13--xW8hS text--_fontBase--QdLsd",g="mobile_download_prompt--mobilePromptOptionTitle--mMUYW text--fontPos13--xW8hS text--_fontBase--QdLsd",E="mobile_download_prompt--mobilePromptOptionImage--Cp9zK",v="mobile_download_prompt_dismissed";function b(e){let{isCompact:t}=e,r=d.aR?"https://apps.apple.com/us/app/figma-mirror/id1152747299#":"https://play.google.com/store/apps/details?id=com.figma.mirror",o=(0,s.UG)(),f=!t&&!!e.renderBlockingPrompt,[b,w]=a.useState(!f),[T,x]=a.useState(!f);a.useEffect(()=>{null===o.get(v)&&(w(!1),x(!1))},[o,f]);let I=()=>{f||(w(!0),(0,i.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{x(!0)},300),o.set(v,!0))};return null!==o.get(v)?null:a.createElement(p.fu,{name:"Mobile Download Prompt"},a.createElement("div",{className:l()({"mobile_download_prompt--overlay--OzW6J":!0,"mobile_download_prompt--overlayClosed--2FWpY":b,"mobile_download_prompt--overlayAnimateEnd--dBvI0":T}),style:{transitionDuration:"300ms"},onClick:I},a.createElement("div",{className:l()("mobile_download_prompt--mobilePromptContainer--FKz5e","mobile_download_prompt--mobileDownloadPromptContainer--FaI33",{"mobile_download_prompt--mobileDownloadPromptContainerClosed--DHusv":b,"mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--B100f":f}),onClick:e=>{e.stopPropagation()}},a.createElement("div",{className:l()("mobile_download_prompt--mobilePromptDescriptionContainer--1PhoH",{"mobile_download_prompt--fullHeightPrompt--U6KWw":f})},t?a.createElement(y,null):a.createElement(h,{renderBlockingPrompt:f??!1})),a.createElement("hr",{className:l()({"mobile_download_prompt--mobilePromptHR--UpOqS":!0,"mobile_download_prompt--fullWidthHR--B-2i1":f})}),a.createElement("div",{className:"mobile_download_prompt--mobilePromptGrid--Mvqf-"},a.createElement("img",{className:E,src:(0,c.ck)("249f0f055b922ecef6bffc592a8420e7e6eddcea"),alt:(0,u.t)("file_browser.mobile_prompt.app_image_alt")}),a.createElement("div",null,a.createElement("h3",{className:g},(0,u.tx)("file_browser.mobile_prompt.app_title")),a.createElement("p",{className:"mobile_download_prompt--mobilePromptOptionDescription--APlZp text--fontPos11--2LvXf text--_fontBase--QdLsd"},f?(0,u.tx)("file_browser.mobile_prompt.app_description_new"):(0,u.tx)("file_browser.mobile_prompt.app_description"))),a.createElement(m.pW,{size:"lg",trackingProperties:{userId:e.userIdForTracking,appLink:r,trackingDescriptor:_.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},width:"fill",href:r},(0,u.tx)("file_browser.mobile_prompt.app_action")),!f&&a.createElement(a.Fragment,null,a.createElement("img",{className:E,src:(0,c.ck)("741698fed49afa5e8f3becdd906e66d32c8e7fae"),alt:(0,u.t)("file_browser.mobile_prompt.browser_image_alt")}),a.createElement("div",null,a.createElement("h3",{className:g},(0,u.tx)("file_browser.mobile_prompt.browser_title"))),a.createElement(n.Pw,{onClick:I,variant:"secondary"},(0,u.tx)("file_browser.mobile_prompt.browser_action")))))))}function h(e){return a.createElement(a.Fragment,null,a.createElement("img",{className:"mobile_download_prompt--mobilePromptImage--U2Yqj",src:(0,c.ck)("5f1dc37f397dbddf711d3d950bee5dd46c07fc72"),alt:(0,u.t)("file_browser.mobile_prompt.image_alt")}),a.createElement("div",{className:"mobile_download_prompt--mobilePromptTitleContainer--o8VIK"},a.createElement("h2",{className:f},e.renderBlockingPrompt?(0,u.tx)("file_browser.mobile_prompt.modal_title_blocking"):(0,u.tx)("file_browser.mobile_prompt.modal_title")),a.createElement("p",{className:"mobile_download_prompt--mobilePromptSubTitle--GFR67 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.renderBlockingPrompt?(0,u.tx)("file_browser.mobile_prompt.modal_body_blocking"):(0,u.tx)("file_browser.mobile_prompt.modal_body"))))}function y(){return a.createElement(a.Fragment,null,a.createElement("h2",{className:f},(0,u.tx)("file_browser.mobile_prompt.modal_title_compact")))}},302308:(e,t,r)=>{r.d(t,{Tj:()=>a,jH:()=>n}),r(629829);let a={bg:"var(--xp1z7en)",bgAssistive:"var(--xkqspef)",bgAssistiveHover:"var(--xrs1oqh)",bgAssistivePressed:"var(--x1v751g3)",bgAssistiveSecondary:"var(--x872b3y)",bgAssistiveTertiary:"var(--x1715ifn)",bgBrand:"var(--xznhjno)",bgBrandHover:"var(--x1bkwq79)",bgBrandPressed:"var(--x1yk8dxs)",bgBrandSecondary:"var(--x88e7g0)",bgBrandTertiary:"var(--xzt4mmc)",bgComponent:"var(--x1s20yk6)",bgComponentHover:"var(--x1e42dxd)",bgComponentPressed:"var(--x1f6f292)",bgComponentSecondary:"var(--x1y6jtj8)",bgComponentTertiary:"var(--x1rmyiv1)",bgComponentTertiaryHover:"var(--xiiz0be)",bgDanger:"var(--x1a2hwto)",bgDangerHover:"var(--x10dk80x)",bgDangerPressed:"var(--xarpv2q)",bgDangerSecondary:"var(--xdhzrkq)",bgDangerTertiary:"var(--x3rvex)",bgDesign:"var(--xj7amjv)",bgDesignHover:"var(--x1n32kkc)",bgDesignPressed:"var(--x1yvizo7)",bgDesignSecondary:"var(--xumjsby)",bgDesignTertiary:"var(--x1gxi5op)",bgDesktopBackgrounded:"var(--xrdnlov)",bgDesktopBackgroundedDisabled:"var(--xjb3d21)",bgDesktopBackgroundedHover:"var(--xbgjlli)",bgDesktopBackgroundedPressed:"var(--xrj74at)",bgDesktopBackgroundedSecondary:"var(--x1sw5d2v)",bgDesktopBackgroundedTertiary:"var(--x1afvzib)",bgDesktopForeground:"var(--x1i5g9qg)",bgDesktopForegroundDisabled:"var(--x137tovj)",bgDesktopForegroundHover:"var(--x4jdk4a)",bgDesktopForegroundPressed:"var(--xp46n8d)",bgDesktopForegroundSecondary:"var(--x1mzelhl)",bgDesktopForegroundTertiary:"var(--x1rhtp7f)",bgDesktopFullscreen:"var(--x19ak431)",bgDesktopFullscreenDisabled:"var(--xs548fu)",bgDesktopFullscreenHover:"var(--x5lb10x)",bgDesktopFullscreenPressed:"var(--xnh7jcz)",bgDesktopFullscreenSecondary:"var(--x1g20mz)",bgDesktopFullscreenTertiary:"var(--xdw0daf)",bgDisabled:"var(--xgwpav8)",bgDisabledSecondary:"var(--xm29n2f)",bgFigjam:"var(--x13gc2df)",bgFigjamHover:"var(--x1godfoe)",bgFigjamPressed:"var(--x11b92up)",bgFigjamSecondary:"var(--x16w5nxc)",bgFigjamTertiary:"var(--x5khlaw)",bgFs:"var(--x12abm5p)",bgFsAssistive:"var(--xe1upak)",bgFsAssistiveSecondary:"var(--x11ogvo1)",bgFsAssistiveTertiary:"var(--xpfnyv9)",bgFsComponent:"var(--x1gz4tvc)",bgFsComponentSecondary:"var(--x1hpy6p2)",bgFsComponentTertiary:"var(--x1ox6upo)",bgFsDesign:"var(--xx7cj47)",bgFsDesignSecondary:"var(--xuwp2ks)",bgFsDesignTertiary:"var(--x1pc9hzf)",bgFsMeasure:"var(--xx9as9h)",bgFsMeasureSecondary:"var(--x1n95nbh)",bgFsMeasureTertiary:"var(--xlgz2k0)",bgFsSelected:"var(--x19jxdqu)",bgFsSelectedSecondary:"var(--x14qbctr)",bgHandoff:"var(--x6oit1w)",bgHandoffHover:"var(--xd9k3ew)",bgHandoffPressed:"var(--x1gtdfap)",bgHandoffSecondary:"var(--x1l25mbs)",bgHandoffTertiary:"var(--x26eov)",bgHover:"var(--xew6hgh)",bgInfo:"var(--x1i2e4ki)",bgInverse:"var(--xd3sayf)",bgMeasure:"var(--x1hmm3wk)",bgMeasureHover:"var(--xl6f1hu)",bgMeasurePressed:"var(--x1p4ioyz)",bgMeasureSecondary:"var(--x1903zyw)",bgMeasureTertiary:"var(--x196vtnw)",bgMenu:"var(--x76lalo)",bgMenuDisabled:"var(--x788v3r)",bgMenuHover:"var(--xbse0ua)",bgMenuPressed:"var(--x16mozyl)",bgMenuSecondary:"var(--x3czsry)",bgMenuSelected:"var(--x881pox)",bgMenuSelectedHover:"var(--x1kp8jk7)",bgMenuSelectedPressed:"var(--x1q3oxia)",bgMenuSelectedSecondary:"var(--xr37xmm)",bgMenuSelectedTertiary:"var(--x7zyygo)",bgMenuTertiary:"var(--xedas2c)",bgOnselected:"var(--x18ogj1g)",bgOnselectedHover:"var(--x103p9ha)",bgOnselectedPressed:"var(--xquxm60)",bgPressed:"var(--xh7jg82)",bgSecondary:"var(--xt341mt)",bgSelected:"var(--xt5e0wg)",bgSelectedHover:"var(--x1267qt1)",bgSelectedPressed:"var(--xfy7fhp)",bgSelectedSecondary:"var(--x1ou1ba6)",bgSelectedStrong:"var(--x1fwib8l)",bgSelectedTertiary:"var(--x10c8pdy)",bgSuccess:"var(--x1tkfiha)",bgSuccessHover:"var(--xnzlmwo)",bgSuccessPressed:"var(--x1o5hprf)",bgSuccessSecondary:"var(--x1u04af3)",bgSuccessTertiary:"var(--x15xgdlu)",bgTertiary:"var(--x1fwoq0)",bgToolbar:"var(--xt3evaj)",bgToolbarDisabled:"var(--x20shzx)",bgToolbarHover:"var(--xecejxa)",bgToolbarPressed:"var(--xgm5k16)",bgToolbarSecondary:"var(--xz6o0ac)",bgToolbarSelected:"var(--xx4drbu)",bgToolbarSelectedHover:"var(--xb6h5v5)",bgToolbarSelectedPressed:"var(--xqv80ln)",bgToolbarSelectedSecondary:"var(--x1uzoihm)",bgToolbarSelectedTertiary:"var(--xdjyzpm)",bgToolbarTertiary:"var(--x1089tse)",bgTooltip:"var(--x1lzicsm)",bgTooltipDisabled:"var(--xzrrqfv)",bgTooltipHover:"var(--x1e0pnj4)",bgTooltipPressed:"var(--xtdc6yd)",bgTooltipSecondary:"var(--xmmc9y5)",bgTooltipSelected:"var(--xxfz60a)",bgTooltipSelectedHover:"var(--xin7w92)",bgTooltipSelectedPressed:"var(--x14tz0nj)",bgTooltipSelectedSecondary:"var(--x1gaela8)",bgTooltipSelectedTertiary:"var(--x1bzkni1)",bgTooltipTertiary:"var(--x1ppaiml)",bgWarning:"var(--x1erydca)",bgWarningHover:"var(--xct77kp)",bgWarningPressed:"var(--x1810f85)",bgWarningSecondary:"var(--xa165oi)",bgWarningTertiary:"var(--x1imp591)",bghoverondarkcanvas:"var(--x1kr3hfy)",bghoveronlightcanvas:"var(--x1b0vpvu)",bghovertransparent:"var(--xbgii0n)",bginspectpadding:"var(--x1x8aiup)",bginspectpaddingtertiary:"var(--x1ulkidh)",bginspectspacing:"var(--xsys07q)",bgsecondaryoncanvas:"var(--xqplr57)",bgselectedarea:"var(--xrsktmh)",bgtransparent:"var(--x1a6shn9)",bgtransparentSecondaryHover:"var(--x144ebg8)",bgtransparentSecondaryPressed:"var(--xpj5jr2)",bgtransparentsecondary:"var(--xo7qbfu)",bgvoting:"var(--x12d3tyu)",bgvotingsecondary:"var(--x7omdll)",bgvotingtertiary:"var(--xwq3kga)",bgvotingwheeldial:"var(--x7f8yif)",bgvotingwheelhover:"var(--xv4et58)",border:"var(--xnwjt7a)",borderAssistive:"var(--xzvut4d)",borderAssistiveStrong:"var(--x1svdxfv)",borderBrand:"var(--x1ehtixw)",borderBrandStrong:"var(--xhgjq7m)",borderComponent:"var(--x1wdsjgz)",borderComponentHover:"var(--xrghtiy)",borderComponentSelected:"var(--x1a9ckoh)",borderComponentStrong:"var(--xh3xwy6)",borderDanger:"var(--x1hbxvg6)",borderDangerStrong:"var(--x5jevv0)",borderDesign:"var(--x1gzu65y)",borderDesignStrong:"var(--xesth0)",borderDesktopBackgrounded:"var(--x17ihvml)",borderDesktopBackgroundedDisabled:"var(--xahwq6b)",borderDesktopBackgroundedStrong:"var(--x1cygc0z)",borderDesktopForeground:"var(--xfo3pvd)",borderDesktopForegroundDisabled:"var(--x237v4c)",borderDesktopForegroundStrong:"var(--x104lz4e)",borderDesktopFullscreen:"var(--xxlollq)",borderDesktopFullscreenDisabled:"var(--x8mfyoj)",borderDesktopFullscreenStrong:"var(--xaft15i)",borderDisabled:"var(--x1du9j5l)",borderDisabledStrong:"var(--x1ud8svn)",borderFigjam:"var(--x1i5hqyi)",borderFigjamStrong:"var(--x160v4lt)",borderFs:"var(--x4isf5l)",borderFsAssistive:"var(--x1nsjzm3)",borderFsAssistiveStrong:"var(--x1ql1cgn)",borderFsComponent:"var(--x19gg8u0)",borderFsComponentStrong:"var(--xbg6jmb)",borderFsDesign:"var(--x2qnxed)",borderFsDesignStrong:"var(--x1cbeci5)",borderFsMeasure:"var(--x1de6q98)",borderFsMeasureStrong:"var(--x1q4w0cy)",borderFsOnassistive:"var(--x1doswui)",borderFsOnassistiveStrong:"var(--x1jjbeav)",borderFsOncomponent:"var(--x1iei904)",borderFsOncomponentStrong:"var(--x14j157f)",borderFsOndesign:"var(--x162732o)",borderFsOndesignStrong:"var(--x1dl6nxt)",borderFsOnmeasure:"var(--x7xuy1h)",borderFsOnmeasureStrong:"var(--x97len5)",borderFsOnselected:"var(--x1hlfcjg)",borderFsOnselectedStrong:"var(--x15idh1k)",borderFsSelected:"var(--x1hj5nnh)",borderFsSelectedStrong:"var(--x1rzt145)",borderFsStrong:"var(--x1r79yza)",borderHandoff:"var(--x19i56st)",borderHandoffStrong:"var(--x53xnx)",borderMeasure:"var(--x1erl4d6)",borderMeasureStrong:"var(--x1212hw0)",borderMenu:"var(--xoqfh4n)",borderMenuDisabled:"var(--x1r9251t)",borderMenuDisabledStrong:"var(--xwlihyy)",borderMenuOnselected:"var(--x1qkpn0e)",borderMenuOnselectedStrong:"var(--x1mt4rmy)",borderMenuSelected:"var(--x7dnc7r)",borderMenuSelectedStrong:"var(--xvtj27v)",borderMenuStrong:"var(--x14chc6m)",borderOnassistive:"var(--xgquwui)",borderOnassistiveStrong:"var(--x1t7jjtq)",borderOnbrand:"var(--xqfymjw)",borderOnbrandStrong:"var(--x9amtsg)",borderOncomponent:"var(--xkwo2g3)",borderOncomponentStrong:"var(--xwl5l31)",borderOndanger:"var(--xrolbre)",borderOndangerStrong:"var(--xv3obaw)",borderOndesign:"var(--x1ubpxpa)",borderOndesignStrong:"var(--xt807j3)",borderOnfigjam:"var(--x12g10nv)",borderOnfigjamStrong:"var(--xvza0up)",borderOnmeasure:"var(--x1am969l)",borderOnmeasureStrong:"var(--x1ux53yw)",borderOnselected:"var(--x1nsuqxc)",borderOnselectedStrong:"var(--x11qaf6q)",borderOnsuccess:"var(--x1sx22tp)",borderOnsuccessStrong:"var(--x11fvheq)",borderOnwarning:"var(--xq9xdi7)",borderOnwarningStrong:"var(--xhj1qq4)",borderSelected:"var(--xq3x21d)",borderSelectedStrong:"var(--xtx0gs8)",borderStrong:"var(--x1hq9kds)",borderSuccess:"var(--xn8ykkm)",borderSuccessStrong:"var(--x1ii9lqw)",borderToolbar:"var(--xo0rqh8)",borderToolbarDisabled:"var(--x1ka5rtr)",borderToolbarOnselected:"var(--x2r69gc)",borderToolbarSelected:"var(--xbrj0nl)",borderToolbarSelectedStrong:"var(--x2e2a7x)",borderToolbarStrong:"var(--x1blpa84)",borderTooltip:"var(--x1o68niw)",borderTooltipDisabled:"var(--x1224nx2)",borderTooltipDisabledStrong:"var(--x1laspt7)",borderTooltipOnselected:"var(--x17a5kdx)",borderTooltipOnselectedStrong:"var(--x1tcycxo)",borderTooltipSelected:"var(--xty87m3)",borderTooltipSelectedStrong:"var(--x15ftufy)",borderTooltipStrong:"var(--x1mlf28t)",borderWarning:"var(--x1cx54ly)",borderWarningStrong:"var(--x1yrvl5j)",borderinspectpadding:"var(--x43qbu5)",borderinspectspacing:"var(--x1b7zfi8)",bordertranslucent:"var(--x1jtz2c1)",code:"var(--x1nwr8ji)",codeaccent:"var(--x89iv96)",codeattribute:"var(--xvzr10c)",codeclassname:"var(--x1e32kfs)",codecomment:"var(--x1l6hmgh)",codeproperty:"var(--x1f1xexn)",codestring:"var(--xbd780o)",codestylename:"var(--x1qs3u08)",codetag:"var(--xpwcmfe)",codevalue:"var(--xnntl75)",codevariable:"var(--x17hnwyz)",conditionalborder:"var(--x1p4b41l)",fsBorderSelectedImmutableNode:"var(--x1a82cat)",fsCanvasDefaultFill:"var(--x1h3hrav)",fsFrameDefaultFill:"var(--xkyx1m0)",fsIconOnDarkCanvas:"var(--x1o0hg2y)",fsIconOnDarkCanvasSecondary:"var(--xplppg)",fsIconOnLightCanvas:"var(--x175uwpt)",fsIconOnLightCanvasSecondary:"var(--x1fyi101)",fsShapeDefaultFill:"var(--xmednuu)",fsTextComponentOnDarkCanvas:"var(--x1pd49li)",fsTextComponentOnLightCanvas:"var(--x1moqi9h)",fsTextOnDarkCanvas:"var(--xmj1zt4)",fsTextOnDarkCanvasSecondary:"var(--x1shvic0)",fsTextOnLightCanvas:"var(--xmdzcem)",fsTextOnLightCanvasSecondary:"var(--x1thdjyv)",fsTextSelectedOnDarkCanvas:"var(--x1dvhoxj)",fsTextSelectedOnLightCanvas:"var(--x17rc4ea)",icon:"var(--xao8hs5)",iconAssistive:"var(--xbzcbx4)",iconAssistivePressed:"var(--x7blxze)",iconAssistiveSecondary:"var(--x13b7ik)",iconAssistiveTertiary:"var(--xfdvvhm)",iconBrand:"var(--x1wxt8mt)",iconBrandPressed:"var(--xqex5pl)",iconBrandSecondary:"var(--x124n2qp)",iconBrandTertiary:"var(--x17sndl7)",iconComponent:"var(--xe2mbh0)",iconComponentPressed:"var(--x1j6jx71)",iconComponentSecondary:"var(--x8km10y)",iconComponentTertiary:"var(--x1g1xkdo)",iconDanger:"var(--xsz8057)",iconDangerHover:"var(--xfkkhwn)",iconDangerPressed:"var(--xuzdlb3)",iconDangerSecondary:"var(--x1byasb7)",iconDangerSecondaryHover:"var(--xgrmvo8)",iconDangerTertiary:"var(--x2402hh)",iconDesign:"var(--x102hfqm)",iconDesignPressed:"var(--x11pi6cn)",iconDesignSecondary:"var(--xzca3i8)",iconDesignTertiary:"var(--x1g3n3bp)",iconDesktopBackgrounded:"var(--xf9rtbh)",iconDesktopBackgroundedDanger:"var(--x1ea8i4o)",iconDesktopBackgroundedDisabled:"var(--x1o36gsf)",iconDesktopBackgroundedHover:"var(--x1dqxi1s)",iconDesktopBackgroundedOndisabled:"var(--xat3win)",iconDesktopBackgroundedSecondary:"var(--x1lllyym)",iconDesktopBackgroundedSecondaryHover:"var(--xo8l1pf)",iconDesktopBackgroundedTertiary:"var(--x112v7p)",iconDesktopBackgroundedTertiaryHover:"var(--x19xm7gc)",iconDesktopBackgroundedWarning:"var(--x5z7bmg)",iconDesktopForeground:"var(--x1ahs4yr)",iconDesktopForegroundDanger:"var(--xgxu6t)",iconDesktopForegroundDisabled:"var(--x1qeg5s)",iconDesktopForegroundHover:"var(--x6f02hu)",iconDesktopForegroundOndisabled:"var(--xlczyyl)",iconDesktopForegroundSecondary:"var(--x1avnms3)",iconDesktopForegroundSecondaryHover:"var(--x1hr26nb)",iconDesktopForegroundTertiary:"var(--x1nign6t)",iconDesktopForegroundTertiaryHover:"var(--x15xmeek)",iconDesktopForegroundWarning:"var(--x14aly51)",iconDesktopFullscreen:"var(--x12bcu9i)",iconDesktopFullscreenDanger:"var(--xx17f60)",iconDesktopFullscreenDisabled:"var(--xgqsq9j)",iconDesktopFullscreenHover:"var(--xhdhimd)",iconDesktopFullscreenOndisabled:"var(--x1iapgo3)",iconDesktopFullscreenSecondary:"var(--xib1rhl)",iconDesktopFullscreenSecondaryHover:"var(--x29x2vv)",iconDesktopFullscreenTertiary:"var(--x1d88lx5)",iconDesktopFullscreenTertiaryHover:"var(--xvoyg30)",iconDesktopFullscreenWarning:"var(--x1lxzljv)",iconDisabled:"var(--xohazba)",iconFigjam:"var(--x1us7pal)",iconFigjamPressed:"var(--x8adrzh)",iconFigjamSecondary:"var(--xfhe6u8)",iconFigjamTertiary:"var(--xhqfd3w)",iconFs:"var(--x18nj76x)",iconFsAssistive:"var(--x1iw6vle)",iconFsComponent:"var(--x27dm5f)",iconFsDesign:"var(--xmsnot3)",iconFsMeasure:"var(--x1tk7i7z)",iconFsOnassistive:"var(--x1t5c0ke)",iconFsOncomponent:"var(--x1yugctc)",iconFsOndesign:"var(--xwe7usi)",iconFsOnmeasure:"var(--x19m8l2a)",iconFsOnselected:"var(--xwsmlrj)",iconFsSecondary:"var(--xrl3bri)",iconFsSelected:"var(--x184crqu)",iconFsTertiary:"var(--xm2avld)",iconHandoff:"var(--x37cp4j)",iconHandoffPressed:"var(--x1l8wfj6)",iconHandoffSecondary:"var(--xrogby4)",iconHandoffTertiary:"var(--x17ww8f6)",iconHover:"var(--x1io1drl)",iconMeasure:"var(--x1uzm60i)",iconMeasureHover:"var(--x103tmov)",iconMeasurePressed:"var(--x1cn82nc)",iconMeasureSecondary:"var(--x1ds09jr)",iconMeasureSecondaryHover:"var(--x3e3jmx)",iconMeasureTertiary:"var(--x1l03ure)",iconMenu:"var(--x1x5h53g)",iconMenuDanger:"var(--x1vhw91p)",iconMenuDisabled:"var(--x9uokow)",iconMenuHover:"var(--xmk0raz)",iconMenuOndisabled:"var(--x1dbvt32)",iconMenuOnselected:"var(--xni2u7y)",iconMenuPressed:"var(--x12i6web)",iconMenuSecondary:"var(--xo94zg5)",iconMenuSecondaryHover:"var(--x1id7r54)",iconMenuSelected:"var(--x1kkv5v)",iconMenuSelectedSecondary:"var(--xu1r3cw)",iconMenuSelectedTertiary:"var(--x10ygwiu)",iconMenuTertiary:"var(--x1h8sg45)",iconMenuTertiaryHover:"var(--xrxtbw5)",iconMenuWarning:"var(--x18yjd39)",iconOnassistive:"var(--x1ogcrb9)",iconOnassistiveSecondary:"var(--x17ej6yy)",iconOnassistiveTertiary:"var(--x1jeawts)",iconOnbrand:"var(--xlt51lg)",iconOnbrandSecondary:"var(--x10b1v4s)",iconOnbrandTertiary:"var(--xgveitg)",iconOncomponent:"var(--x1l91f5y)",iconOncomponentSecondary:"var(--x3mtql8)",iconOncomponentTertiary:"var(--xjnvwvz)",iconOndanger:"var(--xj6t2c)",iconOndangerSecondary:"var(--x1oo7ebl)",iconOndangerTertiary:"var(--xw6nw5f)",iconOndesign:"var(--x1oo8xo7)",iconOndesignSecondary:"var(--x9xcemc)",iconOndesignTertiary:"var(--x1lp440z)",iconOndisabled:"var(--x1e99kav)",iconOnfigjam:"var(--x1kiydjr)",iconOnfigjamSecondary:"var(--xqq8lft)",iconOnfigjamTertiary:"var(--x11zaz0j)",iconOninverse:"var(--xqw1cv2)",iconOnmeasure:"var(--x1tygmtk)",iconOnmeasureSecondary:"var(--x1u1x2vr)",iconOnmeasureTertiary:"var(--x1ahirhs)",iconOnselected:"var(--xk0o2me)",iconOnselectedSecondary:"var(--x1rxbjmg)",iconOnselectedStrong:"var(--x39ak4s)",iconOnselectedTertiary:"var(--xfoaugn)",iconOnsuccess:"var(--x1f83cgy)",iconOnsuccessSecondary:"var(--x9wcmy6)",iconOnsuccessTertiary:"var(--xbe0ouc)",iconOnwarning:"var(--x1nl4dnz)",iconOnwarningSecondary:"var(--x17vdfko)",iconOnwarningTertiary:"var(--x1phbito)",iconPressed:"var(--x1pgez1h)",iconSecondary:"var(--x1e4vtdy)",iconSecondaryHover:"var(--x1hwh7bg)",iconSelected:"var(--x1ulj4gh)",iconSelectedSecondary:"var(--xrgqk1m)",iconSelectedTertiary:"var(--x12cvlry)",iconSuccess:"var(--x1clfsvw)",iconSuccessPressed:"var(--x1mallav)",iconSuccessSecondary:"var(--xexzcsy)",iconSuccessTertiary:"var(--xu4ig7b)",iconTertiary:"var(--xoz0shn)",iconTertiaryHover:"var(--x1f8c5p6)",iconToolbar:"var(--xjt2osq)",iconToolbarDanger:"var(--x14t9d4g)",iconToolbarDisabled:"var(--xq1ylvy)",iconToolbarHover:"var(--xj8zzl9)",iconToolbarOndisabled:"var(--x1jkb1ob)",iconToolbarOnselected:"var(--x1engum3)",iconToolbarPressed:"var(--x15kj266)",iconToolbarSecondary:"var(--xnnnhpq)",iconToolbarSecondaryHover:"var(--x10a9ouh)",iconToolbarSelected:"var(--xndam5o)",iconToolbarSelectedSecondary:"var(--x1uube9s)",iconToolbarSelectedTertiary:"var(--x162192)",iconToolbarTertiary:"var(--x180i6jw)",iconToolbarTertiaryHover:"var(--x1ktrhhd)",iconToolbarWarning:"var(--x1foblfr)",iconTooltip:"var(--x15eo82l)",iconTooltipDanger:"var(--x1eg64ks)",iconTooltipDisabled:"var(--x12ym7x3)",iconTooltipHover:"var(--x17xa40d)",iconTooltipOndisabled:"var(--x17texpm)",iconTooltipOnselected:"var(--x1wknkj3)",iconTooltipPressed:"var(--x13rmuf4)",iconTooltipSecondary:"var(--xapra2h)",iconTooltipSecondaryHover:"var(--x1wvqc7p)",iconTooltipSelected:"var(--x1m42u4w)",iconTooltipSelectedSecondary:"var(--x1x81w14)",iconTooltipSelectedTertiary:"var(--xbd2upz)",iconTooltipTertiary:"var(--x1mx6gzn)",iconTooltipTertiaryHover:"var(--xbu5ie7)",iconTooltipWarning:"var(--xarbiio)",iconWarning:"var(--x19sbyw3)",iconWarningPressed:"var(--xuc83lf)",iconWarningSecondary:"var(--x1oevq5p)",iconWarningTertiary:"var(--xxmx066)",icondesignfilesecondary:"var(--x1fes5eo)",iconfavorite:"var(--x1h5dy0f)",iconfigjamfilesecondary:"var(--x7z3pt4)",iconondarkcanvas:"var(--xfsv8gp)",icononlightcanvas:"var(--xj191tb)",icononvoting:"var(--xbvxwke)",iconprototypefile:"var(--x1adzk1g)",iconprototypefilesecondary:"var(--x1txzlb7)",iconpublishedfile:"var(--xz6op65)",iconpublishedfilesecondary:"var(--xox067x)",loading:"var(--x1u1vt35)",loadingmenu:"var(--x1g2ljr1)",loadingsecondary:"var(--x1l9g9by)",loadingsecondarymenu:"var(--x59gv68)",modalbackdrop:"var(--x1jlex4m)",multiplayerblue:"var(--x6icwve)",multiplayerbluehover:"var(--xdmw4of)",multiplayerbluesecondary:"var(--x1eryx23)",multiplayergreen:"var(--xppdnef)",multiplayergreenhover:"var(--x1437ddr)",multiplayergreensecondary:"var(--x3m9139)",multiplayergrey:"var(--x161r39p)",multiplayergreyhover:"var(--x15iiqpy)",multiplayergreysecondary:"var(--x1hgyw0f)",multiplayerpink:"var(--x16s3ung)",multiplayerpinkhover:"var(--x1brss0o)",multiplayerpinksecondary:"var(--x1jact4y)",multiplayerpurple:"var(--x17rnvy2)",multiplayerpurplehover:"var(--xjf1zhn)",multiplayerpurplesecondary:"var(--xg9475m)",multiplayerred:"var(--x7zxyc)",multiplayerredhover:"var(--xezg6vf)",multiplayerredsecondary:"var(--xj8almw)",multiplayeryellow:"var(--x1xiyfrn)",multiplayeryellowhover:"var(--x190h7mp)",multiplayeryellowsecondary:"var(--xtbhlas)",nodehandle:"var(--xb11838)",prototypeloadingbackdrop:"var(--xt9f6o5)",scrollbar:"var(--x190krbz)",shadow:"var(--x9unui5)",text:"var(--x1fx47jz)",textAssistive:"var(--xriflk3)",textAssistivePressed:"var(--x1atrp57)",textAssistiveSecondary:"var(--xxmx9e8)",textAssistiveTertiary:"var(--xs0yw5r)",textBrand:"var(--x1puwod6)",textBrandSecondary:"var(--x1wu6l2g)",textBrandTertiary:"var(--x9o00bb)",textComponent:"var(--x18v7ko)",textComponentPressed:"var(--x1ipc9l2)",textComponentSecondary:"var(--xn5rrlt)",textComponentTertiary:"var(--x1jn4ert)",textDanger:"var(--xwllxrk)",textDangerSecondary:"var(--x13kgzvy)",textDangerTertiary:"var(--x1gzuwta)",textDesign:"var(--x166yins)",textDesignPressed:"var(--x1itmf7u)",textDesignSecondary:"var(--xum8tfy)",textDesignTertiary:"var(--x1nq9kpf)",textDesktopBackgrounded:"var(--x1obsyhp)",textDesktopBackgroundedDanger:"var(--x1bbw3mk)",textDesktopBackgroundedDisabled:"var(--xstc1wy)",textDesktopBackgroundedHover:"var(--xyvw6nv)",textDesktopBackgroundedOndisabled:"var(--x1abd5j0)",textDesktopBackgroundedSecondary:"var(--xqy29jg)",textDesktopBackgroundedSecondaryHover:"var(--x1w8jr5x)",textDesktopBackgroundedTertiary:"var(--x18kj1v0)",textDesktopBackgroundedTertiaryHover:"var(--x7wvhq8)",textDesktopBackgroundedWarning:"var(--x56f0rg)",textDesktopForeground:"var(--xlp2enu)",textDesktopForegroundDanger:"var(--x1ysuwca)",textDesktopForegroundDisabled:"var(--x1kib46n)",textDesktopForegroundHover:"var(--x15rbo3a)",textDesktopForegroundOndisabled:"var(--xar7qpf)",textDesktopForegroundSecondary:"var(--x1blvtpa)",textDesktopForegroundSecondaryHover:"var(--xvf8ki8)",textDesktopForegroundTertiary:"var(--xckkday)",textDesktopForegroundTertiaryHover:"var(--x1kb9x41)",textDesktopForegroundWarning:"var(--x2j4ul8)",textDesktopFullscreen:"var(--xoocbt3)",textDesktopFullscreenDanger:"var(--xzxndo8)",textDesktopFullscreenDisabled:"var(--x1ay80ol)",textDesktopFullscreenHover:"var(--x1g424w9)",textDesktopFullscreenOndisabled:"var(--x1bdh4o5)",textDesktopFullscreenSecondary:"var(--xxjzc0h)",textDesktopFullscreenSecondaryHover:"var(--xk9u4x1)",textDesktopFullscreenTertiary:"var(--x2z7dd1)",textDesktopFullscreenTertiaryHover:"var(--x1ne0rzd)",textDesktopFullscreenWarning:"var(--xcft7ok)",textDisabled:"var(--x13be15p)",textFigjam:"var(--x1mfa7yz)",textFigjamPressed:"var(--x75we2q)",textFigjamSecondary:"var(--xsku40b)",textFigjamTertiary:"var(--x1iopwbx)",textFs:"var(--x1lb5myj)",textFsAssistive:"var(--x1vmrank)",textFsComponent:"var(--x16ubwaq)",textFsDesign:"var(--xv0bakv)",textFsMeasure:"var(--x1q1ip0o)",textFsOnassistive:"var(--xg5n90h)",textFsOncomponent:"var(--xq2atwt)",textFsOndesign:"var(--xtlbz86)",textFsOnmeasure:"var(--xynm5w2)",textFsOnselected:"var(--x13syd1n)",textFsSecondary:"var(--xgwh55s)",textFsSelected:"var(--x1dfh53m)",textFsTertiary:"var(--x15vpf6q)",textHandoff:"var(--x1g7126q)",textHandoffSecondary:"var(--x1y0m7c7)",textHandoffTertiary:"var(--x133ki8z)",textHover:"var(--x99tre4)",textMeasure:"var(--xdyquc6)",textMeasureSecondary:"var(--x2713q6)",textMeasureTertiary:"var(--xmdj4jv)",textMenu:"var(--x1qry0by)",textMenuDanger:"var(--xpcxvfl)",textMenuDisabled:"var(--xwaljtb)",textMenuHover:"var(--x14hrq2m)",textMenuOndisabled:"var(--xc4qwwf)",textMenuOnselected:"var(--xwpdmt3)",textMenuSecondary:"var(--x1nik6c)",textMenuSecondaryHover:"var(--x16h57nj)",textMenuSelected:"var(--x1rx2pap)",textMenuSelectedSecondary:"var(--x7m7hec)",textMenuSelectedTertiary:"var(--x1shyhpk)",textMenuTertiary:"var(--x10clc03)",textMenuTertiaryHover:"var(--x5h7obu)",textMenuWarning:"var(--xc6f64s)",textOnassistive:"var(--x3uq7su)",textOnassistiveSecondary:"var(--xtfb39c)",textOnassistiveTertiary:"var(--xp4gyzo)",textOnbrand:"var(--x1nwgk92)",textOnbrandSecondary:"var(--x10q9bg1)",textOnbrandTertiary:"var(--x190kumn)",textOncomponent:"var(--x1elxa0)",textOncomponentSecondary:"var(--x1peev9v)",textOncomponentTertiary:"var(--x1vyu4v4)",textOndanger:"var(--x7alrgf)",textOndangerSecondary:"var(--xk6sook)",textOndangerTertiary:"var(--xooi2o2)",textOndesign:"var(--x1t21jry)",textOndesignSecondary:"var(--x2u5b7d)",textOndesignTertiary:"var(--xs9vdrn)",textOndisabled:"var(--x1bdcbhe)",textOnfigjam:"var(--x1c93ntj)",textOnfigjamSecondary:"var(--x1g2hh99)",textOnfigjamTertiary:"var(--xjz2n9i)",textOninverse:"var(--x1djshts)",textOnmeasure:"var(--xi5lv4r)",textOnmeasureSecondary:"var(--xvzoyex)",textOnmeasureTertiary:"var(--xzzx4ka)",textOnselected:"var(--x11mkxiq)",textOnselectedSecondary:"var(--x15hce04)",textOnselectedStrong:"var(--x74srz)",textOnselectedTertiary:"var(--xo9ivy7)",textOnsuccess:"var(--x1dsmhnv)",textOnsuccessSecondary:"var(--x1bjos82)",textOnsuccessTertiary:"var(--xglgqhl)",textOnwarning:"var(--x1tfk618)",textOnwarningSecondary:"var(--xm6zqty)",textOnwarningTertiary:"var(--x1x9xvou)",textSecondary:"var(--x81xuyh)",textSecondaryHover:"var(--xrv3lfq)",textSelected:"var(--xl60ei4)",textSelectedSecondary:"var(--x157yf95)",textSelectedTertiary:"var(--x1phac9g)",textSuccess:"var(--xqfiq8l)",textSuccessSecondary:"var(--x1o6swe7)",textSuccessTertiary:"var(--x1s13qbz)",textTertiary:"var(--xowo857)",textTertiaryHover:"var(--x1vx6zcg)",textToolbar:"var(--x12kclpj)",textToolbarDanger:"var(--xg91cy1)",textToolbarDisabled:"var(--x1x0pmbk)",textToolbarHover:"var(--x1t0vfmj)",textToolbarOndisabled:"var(--x1ez4q0x)",textToolbarOnselected:"var(--x1if1srv)",textToolbarSecondary:"var(--x11umenh)",textToolbarSecondaryHover:"var(--xo1xesb)",textToolbarSelected:"var(--xzxh5xp)",textToolbarSelectedSecondary:"var(--xbkh22v)",textToolbarSelectedTertiary:"var(--x1p35yj0)",textToolbarTertiary:"var(--xzg2jvv)",textToolbarTertiaryHover:"var(--x1y0kx5h)",textToolbarWarning:"var(--x39xibb)",textTooltip:"var(--xaquizb)",textTooltipDanger:"var(--xbir0ai)",textTooltipDisabled:"var(--xtet54d)",textTooltipHover:"var(--x1s1o5gu)",textTooltipOndisabled:"var(--x1gncfj2)",textTooltipOnselected:"var(--x877r6w)",textTooltipSecondary:"var(--x1ufmx5w)",textTooltipSecondaryHover:"var(--x1htxe8b)",textTooltipSelected:"var(--xinacsy)",textTooltipSelectedSecondary:"var(--x1o3qe3j)",textTooltipSelectedTertiary:"var(--xltnoa4)",textTooltipTertiary:"var(--x4rrocq)",textTooltipTertiaryHover:"var(--xtg29pq)",textTooltipWarning:"var(--x19bod75)",textWarning:"var(--x673bm9)",textWarningSecondary:"var(--x1xyd2yb)",textWarningTertiary:"var(--xxrdt37)",texthighlight:"var(--x17tk8ib)",textondarkcanvas:"var(--xnx7ugf)",textondarkcanvassecondary:"var(--x1mgnvjv)",textoninspectpadding:"var(--x1tlbvcq)",textoninspectspacing:"var(--x1incs1x)",textonlightcanvas:"var(--x81mwgf)",textonlightcanvassecondary:"var(--xx0bkfd)",textonmultiplayerblue:"var(--x5xrsnu)",textonmultiplayergreen:"var(--x1t7dii5)",textonmultiplayergrey:"var(--x1tjulds)",textonmultiplayerpink:"var(--x1o2scti)",textonmultiplayerpurple:"var(--x1plo7qh)",textonmultiplayerred:"var(--xilpd0s)",textonmultiplayeryellow:"var(--x1cmm6uo)",textonvoting:"var(--x16rqmbq)",__themeName__:"x1n2w6nl"},n={spacer0:"var(--x15hzb0x)",spacer1:"var(--xlvinaf)",spacer2:"var(--x1sh6x3y)",spacer25:"var(--x1oa9wwn)",spacer3:"var(--x18a5pxj)",spacer4:"var(--x3itv0u)",spacer5:"var(--x1r9kx1n)",spacer6:"var(--x1r5b59o)",spacer0px:"var(--xjuzimz)",spacer4px:"var(--xzeh6fk)",spacer8px:"var(--x14t73z5)",spacer16px:"var(--xo07kro)",spacer24px:"var(--x1eioor9)",spacer32px:"var(--xq3vp05)",spacer40px:"var(--x17f05f8)",__themeName__:"x79hu4w"}},949002:(e,t,r)=>{r.d(t,{h:()=>l});var a=r(749214),n=r(848318),o=r(527828);let l=(0,n.memo)(function(e){return(0,o.O)()?(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 5h-2V4h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2h-2zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3-6h-2v3h2zm-2-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9h-2V8h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 5H9V4h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2H4zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1zm3-6H4v3h2zM4 3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9H9V8h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})})})},968189:(e,t,r)=>{r.d(t,{U:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m3 5a1 1 0 1 1 2 0v2.5a.5.5 0 0 0 1 0V10a2 2 0 1 0-4 0v2.5a.5.5 0 0 0 1 0zM5 9a1 1 0 0 0-1 1v2.5a.5.5 0 0 1-1 0V10a2 2 0 1 1 4 0v2.5a.5.5 0 0 1-1 0V10a1 1 0 0 0-1-1m7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"})})})},231976:(e,t,r)=>{r.d(t,{e:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.207 5.793a1 1 0 0 0-1.414 0l-2 2a1 1 0 0 0 0 1.414l2 2a1 1 0 0 0 1.414 0l2-2a1 1 0 0 0 0-1.414zM6.5 8.5l.707.707.586.586.707.707.707-.707.586-.586.707-.707-.707-.707-.586-.586L8.5 6.5l-.707.707-.586.586zm9 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5M17 8.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M15.5 13a.5.5 0 0 1 .5.5V15h1.5a.5.5 0 1 1 0 1H16v1.5a.5.5 0 1 1-1 0V16h-1.5a.5.5 0 0 1 0-1H15v-1.5a.5.5 0 0 1 .5-.5m-6 0h-2A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13M7 14.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5z",clipRule:"evenodd"})})})},219575:(e,t,r)=>{r.d(t,{L:()=>l});var a=r(749214),n=r(848318),o=r(527828);let l=(0,n.memo)(function(e){return(0,o.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0m1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0m-5.146-.354-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 .708.708L11.5 9.707V15.5a.5.5 0 0 0 1 0V9.707l2.646 2.647a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 11.5a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0m1 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0m-5.146-.354-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708L11 9.707V14.5a.5.5 0 0 0 1 0V9.707l2.146 2.147a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})})})},524271:(e,t,r)=>{r.d(t,{o:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.5 9.495a1 1 0 0 1 .62-.925l8.119-3.343a2 2 0 0 1 1.522 0l8.12 3.343a1 1 0 0 1 0 1.85l-.881.362V15.5a.5.5 0 0 1-1 0v-4.306l-1 .412V16c0 .64-.328 1.148-.706 1.505-.375.355-.865.629-1.387.838-1.05.42-2.432.657-3.907.657s-2.857-.237-3.907-.657c-.522-.21-1.012-.483-1.387-.838C6.328 17.148 6 16.64 6 16v-4.394l-2.88-1.187a1 1 0 0 1-.62-.924M7 12.017V16c0 1.105 2.239 2 5 2s5-.895 5-2v-3.983l-4.238 1.746a2 2 0 0 1-1.524 0zM3.5 9.495l1.313.54 6.806 2.803a1 1 0 0 0 .762 0l6.806-2.803 1.313-.54-1.313-.541-6.806-2.803a1 1 0 0 0-.762 0L4.813 8.954z",clipRule:"evenodd"})})})},606467:(e,t,r)=>{r.d(t,{t:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.49 11.374a.527.527 0 0 1 .646-.532c.214.055.343.24.351.46q.013.345.013.698c0 1.831-.254 3.53-.79 4.792C14.178 18.043 13.297 19 12 19s-2.178-.957-2.71-2.208c-.099-.232.104-.471.354-.438l.279.034c.181.02.338.136.42.3.45.9 1.019 1.312 1.657 1.312.703 0 1.322-.498 1.79-1.6.464-1.09.71-2.641.71-4.4q0-.317-.01-.626m-.832-4.062c.081.164.238.28.42.3q.14.016.278.034c.25.033.453-.206.354-.438C14.178 5.957 13.297 5 12 5s-2.178.957-2.71 2.208C8.754 8.47 8.5 10.169 8.5 12q0 .353.013.697c.008.221.137.406.351.461a.527.527 0 0 0 .647-.532Q9.5 12.318 9.5 12c0-1.759.246-3.31.71-4.4C10.678 6.498 11.297 6 12 6c.638 0 1.208.411 1.658 1.312M7.208 9.29c.232-.099.471.104.438.354l-.034.279a.54.54 0 0 1-.3.42C6.412 10.792 6 11.362 6 12c0 .703.498 1.322 1.6 1.79 1.09.464 2.641.71 4.4.71q.317 0 .626-.01a.527.527 0 0 1 .532.646c-.055.214-.24.343-.46.351q-.345.013-.698.013c-1.831 0-3.53-.254-4.792-.79C5.957 14.178 5 13.297 5 12s.957-2.178 2.208-2.71m3.634-.426a.527.527 0 0 0 .532.647q.308-.01.626-.011c1.759 0 3.31.246 4.4.71 1.102.468 1.6 1.087 1.6 1.79 0 .638-.411 1.208-1.312 1.658a.54.54 0 0 0-.3.42q-.015.14-.034.278c-.033.25.206.453.438.354C18.043 14.178 19 13.297 19 12s-.957-2.178-2.208-2.71C15.53 8.754 13.831 8.5 12 8.5q-.353 0-.697.013c-.221.008-.406.137-.461.351",clipRule:"evenodd"})})})},195631:(e,t,r)=>{r.d(t,{K:()=>l});var a=r(749214),n=r(848318),o=r(527828);let l=(0,n.memo)(function(e){return(0,o.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 7.5V7a2 2 0 1 0-2 2h2zm.724-1.76A3 3 0 1 0 7.264 9H5.5A1.5 1.5 0 0 0 4 10.5v1a1.5 1.5 0 0 0 1 1.415v5.586A1.5 1.5 0 0 0 6.5 20h11a1.5 1.5 0 0 0 1.5-1.5v-5.586a1.5 1.5 0 0 0 1-1.414v-1A1.5 1.5 0 0 0 18.5 9H16a2.5 2.5 0 0 0-3.776-3.26M12.5 7.5V9H14a1.5 1.5 0 1 0-1.5-1.5M6 13v5.5a.5.5 0 0 0 .5.5h5v-6zm6.5 0v6h5a.5.5 0 0 0 .5-.5V13zm0-1v-2h6a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5zm-1-2v2h-6a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 7.5V7a2 2 0 1 0-2 2h2zm.724-1.76A3 3 0 1 0 6.764 9H5.5A1.5 1.5 0 0 0 4 10.5v1a1.5 1.5 0 0 0 1 1.415v5.586A1.5 1.5 0 0 0 6.5 20h10a1.5 1.5 0 0 0 1.5-1.5v-5.586a1.5 1.5 0 0 0 1-1.414v-1A1.5 1.5 0 0 0 17.5 9h-2a2.5 2.5 0 0 0-3.776-3.26M12 7.5V9h1.5A1.5 1.5 0 1 0 12 7.5M6 13v5.5a.5.5 0 0 0 .5.5H11v-6zm6 0v6h4.5a.5.5 0 0 0 .5-.5V13zm0-1v-2h5.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5zm-1-2v2H5.5a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z",clipRule:"evenodd"})})})},579185:(e,t,r)=>{r.d(t,{e:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m10.273 4.977-7.01 12.015C2.487 18.325 3.449 20 4.992 20H19.01c1.544 0 2.505-1.675 1.728-3.008l-7.01-12.015c-.771-1.323-2.683-1.323-3.454 0M4.127 17.496l7.01-12.015a1 1 0 0 1 1.727 0l7.009 12.015A1 1 0 0 1 19.009 19H4.991a1 1 0 0 1-.864-1.504M12 8.5a.5.5 0 0 1 .5.5v4.5a.5.5 0 0 1-1 0V9a.5.5 0 0 1 .5-.5m1 7.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0",clipRule:"evenodd"})})})}}]);

//# debugId=f66c0836-8e0f-56c4-a09f-6f2638839036

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/336ca94ed4464f8b805ed8fc96725c2590a89b9b/0c62c2fd-df8ce8d2f781c7dd.min.js.map