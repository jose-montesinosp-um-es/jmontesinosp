"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fbca110f-9e18-57c9-ab6f-a3f52daad39d")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[785],{170052:(e,t,i)=>{i.d(t,{VB:()=>s,hT:()=>l,s2:()=>o,sW:()=>d});var a=i(442313),r=i(885132),n=i(171063);function o(e,t){let i=e.reduce((e,t)=>(e[t.id]={...t,eligibleUsers:new Set},e),{}),a=new Set(Object.keys(i)),r={};t.forEach(e=>{let t=e.user,a=t.id;r[a]||(r[a]={id:a,email:t.email,handle:t.handle,img_url:t.img_url,recommendedSeatTypeByTeamId:{},teamIds:[]}),r[a].recommendedSeatTypeByTeamId[e.team_id]=e.recommended_seat_type?.key??n.Gu.VIEW,r[a].teamIds.push(e.team_id),i[e.team_id]&&i[e.team_id].eligibleUsers.add(a)});let o=l({eligibleTeamsByTeamId:i,selectedTeamIds:a,eligibleUsersByUserId:r,selectedUserSeatTypes:{}});return{eligibleTeamsByTeamId:i,selectedTeamIds:a,eligibleUsersByUserId:r,selectedUserSeatTypes:o}}function l({eligibleTeamsByTeamId:e,selectedTeamIds:t,eligibleUsersByUserId:i,selectedUserSeatTypes:a}){let n={},o={};return t.forEach(t=>{e[t].eligibleUsers.forEach(e=>{if(!n[e]){if(a[e])n[e]=a[e];else{let a=i[e];o[e]||(o[e]=[]),o[e].push(a.recommendedSeatTypeByTeamId[t])}}})}),{...n,...Object.keys(o).reduce((e,t)=>(e[t]=(0,r.Up)(o[t]),e),{})}}function s(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>t!==n.Gu.VIEW))}function d({eligibleUsersByUserId:e,eligibleTeamsByTeamId:t,selectedTeamIds:i}){let r=[];return Object.values(e).filter(e=>e.teamIds.some(e=>i.includes(e))).forEach(e=>{let n=e.teamIds,o=i.filter(e=>n.includes(e)).map(e=>t[e]),l=1===o.length?o[0].name:(0,a.t)("checkout.multiple_teams_label");r.push({id:e.id,handle:e.handle,email:e.email,img_url:e.img_url,teams:l})}),r}},660785:(e,t,i)=>{i.d(t,{S_:()=>U,cw:()=>O,g_:()=>N,gk:()=>D});var a=i(992277),r=i(157907),n=i(224223),o=i(44509),l=i(379338),s=i(66387),d=i(502255),m=i(416900),_=i(757033),c=i(280198),p=i(442313),u=i(719398),g=i(885132),f=i(170052),h=i(8374),y=i(790355),E=i(449737),T=i(481540),b=i(296580),v=i(710665),S=i(589472),I=i(241917),A=i(515673),w=i(217084),C=i(814618),P=i(110979),R=i(194546),x=i(106067),k=i(71631);let N=(0,h.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(y.$T({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),U=(0,h.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:n,onError:o}=t;_.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{n(),e.dispatch(c.s.flash((0,p.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{o(),e.dispatch(c.s.error((0,p.t)("flash.redeem_promo.failure")))})}),O=(0,h.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),n=r.user?.id;_.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{n?e.dispatch(P._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(y.$T({view:"team",teamId:i})),e.dispatch(c.s.flash((0,p.t)("payments.pro_trial.start_pro_trial_success"))),S.R_.trackInitiationSubmit(a,!0)}).catch(t=>{n?e.dispatch(P._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(y.$T({view:"recentsAndSharing"})),e.dispatch(c.s.error((0,p.t)("payments.pro_trial.start_pro_trial_error"))),S.R_.trackInitiationSubmit(a,!1)})}),D=(0,h.nF)((e,{teamName:t,invites:i,teamId:h,selectedCurrency:S,hasSelectedStudentTeam:N,displayedCostBreakdown:U,teamFlowType:O,onSuccess:D,isCampfireCart:W,displayedPriceKeys:L})=>{let B;let F=e.getState(),G=(0,r.k)().pro_onboarding_launch,z=F.user?.id,M=(e,t)=>({annual_quantity:(0,v.fD)(e,t),monthly_quantity:(0,v.Rq)(e,t)}),$=(0,v.ne)(F.payment.billingPeriod);if(!$){e.dispatch(c.s.error((0,p.t)("payments.invalid_billing_interval_error")));return}let j=null,q=null;if(W){let t=F.payment.cartSelections?.selectedUserSeatTypes,i=Object.values(h?F.teamUserByTeamId[h]:{}).map(e=>e.user_id??"");if(t&&(0,g.HG)(t,i))q=(0,f.VB)(t)??null,j=F.payment.cartSelections?.countBySeatType??null;else{e.dispatch(c.s.error((0,p.t)("payments.errors.error_processing_upgrade_request"))),(0,d.$D)(a.e.MONETIZATION_UPGRADES,Error("Unable to retrieve valid selectedUserSeatTypes while submitting Pro upgrade request"),{extra:{teamId:h,selectedUserSeatTypes:t}});return}}else j={design:F.payment.numDesignEditors,figjam:F.payment.numWhiteboardEditors};let V={...M(F.payment.billingPeriod,F.payment.numDesignEditors),annual_whiteboard_quantity:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:F.payment.editorStatusChanges,subscription_monthly_quantity_figjam:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:F.payment.vatGstId||null,regional_vat_gst_id:F.payment.regionalVatGstId||null,legal_name:F.payment.legalName||null,display_name:F.payment.displayName||null,selected_user_seat_types:q,count_by_billable_product:j,billing_interval:$,displayed_cost_breakdown:U,displayed_price_keys:L};if(null===h){let e=F.payment.promo,a=!!F.user&&(0,m.cn)(F.user);if(null!=e)B={...V,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&N)B={...V,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,l.DC)();B={...V,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:S}}}else B={...V,selected_currency:S};let J=h?`/api/subscriptions-2018-11-08/team/${h}`:"/api/teams/create",K=F.selectedView,X=F.payment.upgradingNewTeam;_.Ay.post(J,B).then(({data:t})=>{let a="team"in t.meta?t.meta.team:t.meta,r=()=>{if(z){let t={userId:z,teamId:a.id,orgId:null};e.dispatch(P._l({workspace:t,view:{view:"allProjects",isProUpgrade:G||void 0}}))}else e.dispatch(y.$T({view:"team",teamId:a.id})),G?e.dispatch(E.to({type:C.C,data:{teamId:a.id}})):e.dispatch(c.s.flash((0,p.t)("flash.successfully_upgraded_to_a_professional_team")))};h||(0,b.P8)(a,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:O}),e.dispatch(R.I2({submitPending:!1})),e.dispatch(R.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]}}})),a&&e.dispatch(x.yJ({team:a,userInitiated:!1})),a.student_team&&e.dispatch(R.Lo({billingPeriod:A.tY.UNSPECIFIED})),F.payment.promo&&((0,s._H)(),e.dispatch(R.Ay({promo:null})));let l=new URLSearchParams(o.Ay.location.search);if(X){if(l.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(l.get("onCompleteRedirectFileKey")),i=decodeURIComponent(l.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(y.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:I.nT.Design}))}else r()}else if(e.dispatch(k.Be({teamId:a.id})),l.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(l.get("onCompleteRedirectFileKey")),i=decodeURIComponent(l.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(y.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:I.nT.Design}))}else r();(0,n.sx)("Pro Team Purchased (GTM)"),D&&D()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(o.Ay.location.search),r=a.get("onCompleteRedirectFileKey"),n=a.get("onCompleteRedirectNodeId");e.dispatch(y.$T({...K,view:"teamUpgrade",teamFlowType:t?w.SC.UPGRADE_EXISTING_TEAM:w.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:A.tn.PAYMENT_AND_ADDRESS,previousView:K.previousView,planType:w.Sc.TEAM,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:n}}:{}}))};e.dispatch(R.I2({submitPending:!1}));let r=t.data?.message||t.message;null!==h?(0,T._J)("Pro Checkout Error",h,F,{error_message:r,request_params:JSON.stringify(B)}):(0,n.sx)("Pro Checkout Error"),(0,d.$D)(a.e.BILLING,Error(`[Billing] Pro checkout API failed: ${r}`),{extra:{countByBillableProduct:j,selectedUserSeatTypes:q,billingInterval:$,displayedCostBreakdown:U,displayedPriceKeys:L,isCampfireCart:W}}),((t,a)=>{let r=(0,u.J)(t);r&&("PROMO_CODE"===t.data.reason?(e.dispatch(R.Ay({promo:null})),i(a,{}),e.dispatch(R.Qg({error:r}))):"CARD_ERROR"===t.data.reason?(e.dispatch(R.WG({token:null})),i(a,{}),e.dispatch(R.Qg({error:r}))):e.dispatch(c.s.error(r)))})(t,h)})})},589472:(e,t,i)=>{i.d(t,{$Q:()=>A,Mm:()=>T,NN:()=>E,PG:()=>P,R_:()=>a,TB:()=>w,bo:()=>C,h3:()=>I,iX:()=>b});var a,r=i(848318),n=i(224223),o=i(379338),l=i(166365),s=i(442313),d=i(775038),m=i(944527),_=i(180390),c=i(302396),p=i(731272),u=i(858457),g=i(971107),f=i(690182),h=i(1757),y=i(817229);let E="Pro Trial Initiation Modal",T="Pro Trial Downgrade Modal";var b=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(b||{}),v=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(v||{}),S=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(S||{});let I=Object.keys(b).length/2,A={freelancer:(0,o.ck)("06cfa92c773695fb0be0202d467640e521950e67"),agency:(0,o.ck)("e98abc8479042db5e94f5c35bf764ad4326f892f"),product:(0,o.ck)("915ace9058a397e6e4ceadc221dd20a9d95898d7"),other:(0,o.ck)("4423aaa8499d483db2703e6cad1b4c90805e7f16")},w=[{teamType:"freelancer",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer"))},{teamType:"agency",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.agency"))},{teamType:"product",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.product"))},{teamType:"other",imageAltText:()=>(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"))}],C={unlimited_files:r.createElement(l.B,{svg:_.A}),component_libraries:r.createElement(l.B,{svg:f.A}),organizing_files:r.createElement(l.B,{svg:c.A}),voting_workshops:r.createElement(l.B,{svg:y.A}),playing_videos:r.createElement(l.B,{svg:h.A}),sharing_files:r.createElement(l.B,{svg:g.A}),inviting_visitors:r.createElement(l.B,{svg:p.A}),audio:r.createElement(l.B,{svg:u.A})},P=[{featureType:"unlimited_files",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files"))},{featureType:"component_libraries",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries"))},{featureType:"organizing_files",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files"))},{featureType:"voting_workshops",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping"))},{featureType:"playing_videos",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos"))},{featureType:"sharing_files",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files"))},{featureType:"inviting_visitors",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors"))},{featureType:"audio",featureText:r.createElement(d.E,{fontSize:14,fontWeight:"medium"},(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio"))}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,n.sx)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,...m.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},598506:(e,t,i)=>{i.d(t,{X:()=>s});var a=i(848318),r=i(166365),n=i(17755),o=i(775038);if(443==i.j)var l=i(191424);function s(e){return a.createElement("p",{className:n.s.flex.itemsCenter.gap8.mt8.$},a.createElement(r.B,{svg:l.A,className:n.s.colorIconDesign.$}),a.createElement(o.E,{fontSize:13},e.bulletLabel))}},743391:(e,t,i)=>{i.d(t,{L0:()=>m,UA:()=>d,_:()=>_,fS:()=>c});var a=i(848318),r=i(379338),n=i(17755),o=i(442313),l=i(775038),s=i(598506);let d="seen_pro_onboarding_welcome_modal";function m(){return a.createElement("div",{className:n.s.mt16.$},a.createElement(s.X,{bulletLabel:(0,o.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),a.createElement(s.X,{bulletLabel:(0,o.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),a.createElement(s.X,{bulletLabel:(0,o.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")}))}function _({user:e}){return a.createElement(l.E,{fontSize:24,fontWeight:"bold"},(0,o.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]}))}function c(){return a.createElement("img",{width:313,src:(0,r.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),alt:"An illustration welcoming you to Figma Professional"})}},814618:(e,t,i)=>{i.d(t,{C:()=>g});var a=i(848318),r=i(716544),n=i(442313),o=i(775038),l=i(449737),s=i(470230),d=i(180423),m=i(661780),_=i(511131),c=i(464012),p=i(933495),u=i(743391);let g=(0,c.Ju)(function({teamId:e}){let t=(0,m.iZ)(),i=(0,r.d4)(t=>t.teams[e]),c=(0,r.wA)(),g=(0,r.d4)(e=>e.userTeamFlags);if(!t||g[e]?.[u.UA])return null;let f=()=>{c(s.bE({all_team_flags:[{team_id:e,flags:{[u.UA]:!0}}]})),c(l.Ce())},h=a.createElement(a.Fragment,null,(0,n.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:a.createElement(o.E,{fontWeight:"bold"},i.name)}),a.createElement(u.L0,null));return a.createElement(p.xx,{title:a.createElement(u._,{user:t}),description:h,media:a.createElement(u.fS,null),primaryCta:{type:"button",label:a.createElement(o.E,{fontSize:13},(0,n.tx)("pro_onboarding.get_started")),ctaTrackingDescriptor:d.c.GET_STARTED,onClick:f},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:_.S.getTrackingProperties(e),onClose:f,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=fbca110f-9e18-57c9-ab6f-a3f52daad39d

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ba9b481ead898517f8d119b3f3fdc52fcd2c5cbf/785-ad5789f297a8f2a1.min.js.map